{"version":3,"names":[],"mappings":"","sources":["build.js"],"sourcesContent":["!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u=\"function\"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error(\"Cannot find module '\"+a+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o=\"function\"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){e.exports={type:\"FeatureCollection\",features:[{type:\"Feature\",properties:{id:\"510d47dc-9a46-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113225\",direction:\"west\",bearing:290,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99634510278702,40.73208611802633]},{type:\"LineString\",coordinates:[[-73.996345101383,40.732585554543654],[-73.9967687557162,40.73170352677367]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a4a-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113226\",direction:\"east\",bearing:128,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99636656045914,40.732309692094255]},{type:\"LineString\",coordinates:[[-73.9965702282686,40.731834698608175],[-73.99580761854507,40.732574352567724]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a47-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113227\",direction:\"west\",bearing:303,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9954224228859,40.73329747398447]},{type:\"LineString\",coordinates:[[-73.99527415531684,40.7337841097083],[-73.99594880273933,40.732996904706965]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a4e-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113228\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99553507566452,40.73351697907968]},{type:\"LineString\",coordinates:[[-73.99562680311462,40.73302240212498],[-73.99504526565639,40.73385116706271]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a4f-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113229\",direction:\"west\",bearing:292,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99444609880446,40.734679531027915]},{type:\"LineString\",coordinates:[[-73.99442309450912,40.73517866326822],[-73.9948871312307,40.73430837665584]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a50-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113230\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99463385343552,40.734781151736236]},{type:\"LineString\",coordinates:[[-73.99472558262845,40.73428657478152],[-73.99414403412042,40.735115339719236]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a52-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113231\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99353414773941,40.73585425694233]},{type:\"LineString\",coordinates:[[-73.99344241322349,40.73634883282547],[-73.99402397251384,40.73552006788774]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a53-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113232\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99406522512436,40.73546810365347]},{type:\"LineString\",coordinates:[[-73.9941569552644,40.734973526698724],[-73.9935754007516,40.73580229163645]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a54-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113233\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99308353662491,40.736577780228366]},{type:\"LineString\",coordinates:[[-73.99299180111126,40.73707235611149],[-73.99357336672647,40.73624359117376]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a55-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113234\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99344831705093,40.73639486778127]},{type:\"LineString\",coordinates:[[-73.99354004846873,40.73590029082652],[-73.99295848585461,40.73672905576425]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a56-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113235\",direction:\"west\",bearing:293,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99263292551039,40.73720374346409]},{type:\"LineString\",coordinates:[[-73.99259842722059,40.737702495469165],[-73.99308245628507,40.736838477996656]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a57-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113236\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99230033159256,40.73795976912968]},{type:\"LineString\",coordinates:[[-73.9923920651681,40.7374651921749],[-73.9918104888735,40.738293957112624]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a58-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113237\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99162977933884,40.7385003628587]},{type:\"LineString\",coordinates:[[-73.99153804117384,40.738994938741776],[-73.99211962359684,40.73816617380405]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a59-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113238\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99199992418289,40.73841094164284]},{type:\"LineString\",coordinates:[[-73.9920916583806,40.73791636468803],[-73.99151007814159,40.738745129625755]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a5a-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113239\",direction:\"west\",bearing:302,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99083584547043,40.73968721488348]},{type:\"LineString\",coordinates:[[-73.99069879544535,40.74017573727074],[-73.99135527243084,40.73937973019933]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a5b-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113240\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99051398038864,40.7404269544056]},{type:\"LineString\",coordinates:[[-73.9906057173664,40.739932377450764],[-73.99002411950129,40.740761142388486]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a5c-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113241\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9899668097496,40.74086591682618]},{type:\"LineString\",coordinates:[[-73.98987506832198,40.741360492709234],[-73.99045667142762,40.740531727771504]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9abc-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113242\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.99010628461838,40.74096346363734]},{type:\"LineString\",coordinates:[[-73.99019802233606,40.74046888668251],[-73.98961641977988,40.74129765162022]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a5d-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113243\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98884564638136,40.742243752273644]},{type:\"LineString\",coordinates:[[-73.98875390305324,40.74273832815667],[-73.98933551820677,40.74190956321894]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a74-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113244\",direction:\"east\",bearing:110,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98906022310257,40.74245509913898]},{type:\"LineString\",coordinates:[[-73.98906022169784,40.74195566184705],[-73.98863650207038,40.742837689617026]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a75-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113245\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9881643652916,40.74335738012603]},{type:\"LineString\",coordinates:[[-73.9880726204273,40.743851956009],[-73.98865424531908,40.743023191071295]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a77-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113246\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98815363645554,40.74365813773501]},{type:\"LineString\",coordinates:[[-73.98824537788974,40.74316356078011],[-73.98766375177044,40.743992325717834]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a78-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113247\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98771911859512,40.74391825132711]},{type:\"LineString\",coordinates:[[-73.98762737295709,40.744412827210105],[-73.98820900275369,40.74358406227237]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b40-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113248\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98775666952133,40.7441905566539]},{type:\"LineString\",coordinates:[[-73.9878484116899,40.743695979699005],[-73.98726678091457,40.74452474463673]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a79-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113249\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98717194795609,40.74466607223776]},{type:\"LineString\",coordinates:[[-73.98708020128643,40.74516064812072],[-73.98766183762294,40.744331883182994]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a7b-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113250\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98716121912003,40.74505623633145]},{type:\"LineString\",coordinates:[[-73.98725296248269,40.74456165937654],[-73.98667132413668,40.74539042431426]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a7c-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113251\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98592740297318,40.746340510305764]},{type:\"LineString\",coordinates:[[-73.98583565399342,40.7468350861887],[-73.98641730497424,40.746006321250995]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a7e-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113252\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98641020059586,40.74605195723749]},{type:\"LineString\",coordinates:[[-73.98650194533201,40.74555738028256],[-73.98592029827766,40.74638614522028]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a80-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113253\",direction:\"west\",bearing:294,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98526221513748,40.747291507329884]},{type:\"LineString\",coordinates:[[-73.98521622726038,40.747789727174194],[-73.985720160046,40.74693224202962]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a81-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113254\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9855894446373,40.747218354195454]},{type:\"LineString\",coordinates:[[-73.98568119098253,40.74672377724049],[-73.9850995337266,40.747552542178205]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a84-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113255\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98470968008041,40.74843756259663]},{type:\"LineString\",coordinates:[[-73.98480142810764,40.74794298564164],[-73.98421976018757,40.748771750579365]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9aa9-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113256\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98440390825272,40.74846601052578]},{type:\"LineString\",coordinates:[[-73.9843121563403,40.74896058640866],[-73.98489382591212,40.74813182147094]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9aaa-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113257\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98347586393356,40.74970957953495]},{type:\"LineString\",coordinates:[[-73.98338411030518,40.75020415541781],[-73.98396579075501,40.7493753904801]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a85-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113258\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98386746644974,40.749538894969454]},{type:\"LineString\",coordinates:[[-73.98395921599645,40.749044318014455],[-73.98337753844272,40.74987308295218]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a87-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113259\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98304671049118,40.75029884431047]},{type:\"LineString\",coordinates:[[-73.98295495604967,40.75079342019332],[-73.98353664165425,40.749964655255596]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a89-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113260\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98319691419601,40.750489846255]},{type:\"LineString\",coordinates:[[-73.98328866505479,40.74999526929997],[-73.9827069791824,40.750824034237695]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a8a-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113261\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98240834474564,40.75120508270518]},{type:\"LineString\",coordinates:[[-73.98231658905353,40.75169965858802],[-73.98289828258599,40.750870893650294]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a95-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113263\",direction:\"west\",bearing:310,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98179680109023,40.752188520262145]},{type:\"LineString\",coordinates:[[-73.98157130886068,40.75265783662279],[-73.9823677598531,40.751938800996754]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a8e-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113262\",direction:\"east\",bearing:112,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9825639128685,40.75130667816783]},{type:\"LineString\",coordinates:[[-73.98258691983443,40.750807545085706],[-73.9821227679873,40.751677831698075]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a8b-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113264\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98138910531998,40.752818400311845]},{type:\"LineString\",coordinates:[[-73.98148085939181,40.75232382335679],[-73.98089915314819,40.753152588294505]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9a97-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113265\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98031622171402,40.75402531509068]},{type:\"LineString\",coordinates:[[-73.98022446212967,40.75451989097346],[-73.98080618033619,40.75369112603573]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9aa6-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113266\",direction:\"east\",bearing:120,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.98020893335342,40.75446825138246]},{type:\"LineString\",coordinates:[[-73.9803234193612,40.75397640146802],[-73.97970387104432,40.75478928265784]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b52-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113267\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9792862534523,40.755443513549594]},{type:\"LineString\",coordinates:[[-73.97919449191048,40.755938089432355],[-73.97977622252606,40.755109324494626]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b58-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113268\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97952228784561,40.75552884830852]},{type:\"LineString\",coordinates:[[-73.97961404565794,40.7550342713534],[-73.97903231569907,40.755863036291125]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b5d-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113269\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97903949022293,40.755857995638436]},{type:\"LineString\",coordinates:[[-73.978947728109,40.75635257152119],[-73.97952946235142,40.75552380658347]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b6b-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113271\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9784762263298,40.75665850765192]},{type:\"LineString\",coordinates:[[-73.97838446311086,40.757153083534654],[-73.97896620435819,40.75632431859694]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b71-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113272\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97882491350174,40.75644720592484]},{type:\"LineString\",coordinates:[[-73.97891667258153,40.75595262896972],[-73.97833493458673,40.756781393907445]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b76-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113273\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97755354642868,40.7579466209614]},{type:\"LineString\",coordinates:[[-73.97746178143157,40.758441196844096],[-73.9780435339512,40.757612431906374]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b7b-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113274\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9777198433876,40.75798725504457]},{type:\"LineString\",coordinates:[[-73.97781160459303,40.7574926780894],[-73.97722985312141,40.75832144302713]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b84-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113275\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97682398557663,40.758816184919446]},{type:\"LineString\",coordinates:[[-73.97673221937907,40.759310760802144],[-73.97731397950866,40.75848199586442]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b85-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113276\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97672206163406,40.759299722572955]},{type:\"LineString\",coordinates:[[-73.97681382465115,40.758805145617764],[-73.97623206169342,40.75963391055548]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b8a-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113277\",direction:\"west\",bearing:298,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97582620382309,40.760246470986274]},{type:\"LineString\",coordinates:[[-73.97573443565089,40.76074104686893],[-73.97631620829834,40.7599122819312]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b90-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113278\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97593349218367,40.760506519692]},{type:\"LineString\",coordinates:[[-73.97602525686663,40.760011942736796],[-73.97544348334692,40.76084070767452]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9b97-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113279\",direction:\"west\",bearing:286,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97454410791396,40.76193676938786]},{type:\"LineString\",coordinates:[[-73.9745901031229,40.76243498936053],[-73.97493168349754,40.76153271611576]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9ba0-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113280\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97513955831528,40.7615629570971]},{type:\"LineString\",coordinates:[[-73.97523132445666,40.76106838014188],[-73.9746495416904,40.761897145079594]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9baa-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113281\",direction:\"west\",bearing:294,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9734873175621,40.763423871378684]},{type:\"LineString\",coordinates:[[-73.97344131852347,40.763922091222746],[-73.97394537360653,40.76306460607817]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bb5-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113282\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97405594587326,40.7630216257623]},{type:\"LineString\",coordinates:[[-73.97414771402846,40.76252704880705],[-73.97356591849427,40.76335581374477]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bcc-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113283\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97330492734909,40.76402926675758]},{type:\"LineString\",coordinates:[[-73.97339669689553,40.76353468980231],[-73.97281489254077,40.764363454740035]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bcd-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113284\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97284895181656,40.76463059362124]},{type:\"LineString\",coordinates:[[-73.97294072219327,40.76413601666595],[-73.97235891257448,40.76496478160367]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bce-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113285\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97206038236618,40.765617895523036]},{type:\"LineString\",coordinates:[[-73.97215215410614,40.765123318567696],[-73.97157033584413,40.765952083505425]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bcf-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113286\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97125035524368,40.76673925767079]},{type:\"LineString\",coordinates:[[-73.9713421285321,40.76624468071545],[-73.97076030045274,40.767073445653175]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bd0-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113287\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.97034376859665,40.76798654768636]},{type:\"LineString\",coordinates:[[-73.9704355436075,40.767491970731],[-73.96985370460766,40.76832073566873]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bd1-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113288\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.96958738565445,40.76903474073549]},{type:\"LineString\",coordinates:[[-73.96967916211288,40.76854016378013],[-73.9690973139352,40.76936892871785]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bd2-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113289\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.96839648485184,40.77060699930788]},{type:\"LineString\",coordinates:[[-73.96848826348173,40.77011242235248],[-73.96790640153662,40.77094118729021]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bd4-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113290\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.96750599145889,40.771886717193745]},{type:\"LineString\",coordinates:[[-73.96759777185633,40.771392140238326],[-73.96701589870464,40.772220905176034]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bd8-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113291\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.96651893854141,40.77322328511546]},{type:\"LineString\",coordinates:[[-73.9666107207851,40.77272870816],[-73.96602883592819,40.77355747309772]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bdd-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113292\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9657625555992,40.77425920832201]},{type:\"LineString\",coordinates:[[-73.96585433927386,40.77376463136653],[-73.96527244534417,40.77459339630425]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9be2-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113293\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.96482914686203,40.775510419521005]},{type:\"LineString\",coordinates:[[-73.96492093226522,40.77501584256552],[-73.96433902737654,40.77584460750324]]\n}]}},{type:\"Feature\",properties:{id:\"510d47dc-9be4-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113294\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.96385282278061,40.77686316355959]},{type:\"LineString\",coordinates:[[-73.9639446100527,40.77636858660408],[-73.96336269331499,40.77719735154179]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9be5-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113295\",direction:\"west\",bearing:320,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.9632573723793,40.77745218764068]},{type:\"LineString\",coordinates:[[-73.96292760034746,40.777884711624026],[-73.96387713486108,40.77728136909543]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9be6-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113296\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.96303743124008,40.77812245006967]},{type:\"LineString\",coordinates:[[-73.96312922025203,40.77762787311411],[-73.96254729248318,40.77845663805184]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9be7-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113297\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.96194845438004,40.77949545138386]},{type:\"LineString\",coordinates:[[-73.96204024528913,40.779000874428306],[-73.96145830549222,40.779829639366014]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9be8-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113298\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.96099358797073,40.78078312209376]},{type:\"LineString\",coordinates:[[-73.9610853806592,40.78028854513815],[-73.960503429581,40.78111731007587]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bec-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113299\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.96006017923355,40.78204233429313]},{type:\"LineString\",coordinates:[[-73.96015197366212,40.78154775733753],[-73.95957001155126,40.78237652227524]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bee-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113300\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.95920187234879,40.78332589377187]},{type:\"LineString\",coordinates:[[-73.95929366855125,40.78283131681622],[-73.95871169519367,40.78366008175394]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bf1-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113301\",direction:\"east\",bearing:118,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.95820409059525,40.78462161378213]},{type:\"LineString\",coordinates:[[-73.95829588858851,40.78412703682646],[-73.95771390387695,40.784955801764184]]}]}},{type:\"Feature\",properties:{id:\"510d47dc-9bf3-a3d9-e040-e00a18064a99\",type:\"st:Photo\",data:{imageId:\"1113302\",direction:\"east\",bearing:128,distance:19,collection:\"66614620-c6ca-012f-0a98-58d385a7bc34\"},validSince:1911,validUntil:1911},geometry:{type:\"GeometryCollection\",geometries:[{type:\"Point\",coordinates:[-73.95712047815321,40.78615694834286]},{type:\"LineString\",coordinates:[[-73.95732431100755,40.78568195485533],[-73.9565610832781,40.78642160881487]]}]}}]}},{}],2:[function(t,e,n){\"use strict\";var i=t(\"react\"),r=t(\"react-dom\"),o=t(\"./intro\"),a=t(\"./photos\"),s=t(\"./map\"),u=t(\"./street-view\"),l=t(\"turf-distance\");e.exports=i.createClass({displayName:\"exports\",getInitialState:function(){var t={type:\"FeatureCollection\",features:this.props.fieldsOfView.features.sort(function(t,e){var n=t.geometry.geometries[0].coordinates,i=e.geometry.geometries[0].coordinates;return n[1]-i[1]})},e={},n=t.features.length;return t.features.forEach(function(i,r){e[i.properties.id]={uuid:i.properties.id,index:r,north:n-1>r?t.features[r+1]:null,south:r>0?t.features[r-1]:null,feature:i}}),{intro:!0,uuid:this.props.uuid,mapRadius:75,currentItem:e[this.props.uuid],fieldsOfView:t,southToNorth:e,getDirections:{south:this.getSouth,north:this.getNorth,across:this.getAcross},goDirections:{south:this.goSouth,north:this.goNorth,across:this.goAcross}}},render:function(){return this.state.intro?i.createElement(\"article\",{ref:\"article\"},i.createElement(o,{close:this.closeIntro})):i.createElement(\"article\",{ref:\"article\"},i.createElement(a,{ref:\"photos\",setUuid:this.setUuid,currentItem:this.state.currentItem,getDirections:this.state.getDirections,goDirections:this.state.goDirections}),i.createElement(s,{ref:\"map\",setUuid:this.setUuid,currentItem:this.state.currentItem,fieldsOfView:this.state.fieldsOfView,radius:this.state.mapRadius}),i.createElement(u,{currentItem:this.state.currentItem}))},componentDidMount:function(){document.onkeydown=this.onKeyDown,window.addEventListener(\"resize\",this.handleResize)},closeIntro:function(){this.setState({intro:!1,mapRadius:this.getMapRadius()})},setItem:function(t){t&&(this.setState({uuid:t.uuid,currentItem:t}),this.refs.map.setItem(t))},setUuid:function(t){var e=this.state.southToNorth[t];this.setItem(e)},itemToPointFeature:function(t){return{type:\"Feature\",geometry:t.feature.geometry.geometries[0]}},onKeyDown:function(t){t=t||window.event,\"38\"==t.keyCode||\"40\"==t.keyCode?this.goAcross():\"37\"==t.keyCode?this.goSouth():\"39\"==t.keyCode&&this.goNorth()},goSouth:function(){this.setItem(this.getSouth(this.state.currentItem))},goNorth:function(){this.setItem(this.getNorth(this.state.currentItem))},goAcross:function(){this.setItem(this.getAcross(this.state.currentItem))},getSouth:function(t){return this.getSouthOrNorth(t,\"south\")},getNorth:function(t){return this.getSouthOrNorth(t,\"north\")},getSouthOrNorth:function(t,e){return this.findFirstDirection(t,e,t.feature.properties.data.direction)},getAcross:function(t){var e=t.feature.properties.data.direction,n=\"west\"===e?\"east\":\"west\",i=this.findFirstDirection(t,\"north\",n),r=this.findFirstDirection(t,\"south\",n),o=1/0,a=1/0,s=100;return r&&(o=1e3*l(this.itemToPointFeature(t),this.itemToPointFeature(r),\"kilometers\")),i&&(a=1e3*l(this.itemToPointFeature(t),this.itemToPointFeature(i),\"kilometers\")),o>=a&&s>a?i:a>=o&&s>o?r:null},findFirstDirection:function(t,e,n){var i=this.state.southToNorth;if(!t[e])return null;for(var r=i[t[e].properties.id];r[e]&&r.feature.properties.data.direction!==n;)r=i[r[e].properties.id];return r.feature.properties.data.direction===n?r:void 0},getMapRadius:function(){var t=r.findDOMNode(this.refs.article),e=Math.round(t.clientWidth/15);return Math.max(e,50)},handleResize:function(){this.state.intro||this.setState({mapRadius:this.getMapRadius()})}})},{\"./intro\":3,\"./map\":5,\"./photos\":6,\"./street-view\":7,react:308,\"react-dom\":174,\"turf-distance\":313}],3:[function(t,e,n){\"use strict\";var i=t(\"react\");e.exports=i.createClass({displayName:\"exports\",render:function(){return i.createElement(\"section\",{id:\"intro-container\",className:\"margin-top full-width\"},i.createElement(\"h1\",null,\"Street View, Then & Now: New York City's Fifth Avenue\"),i.createElement(\"div\",{id:\"cover-container\",className:\"aspect-ratio\"},i.createElement(\"a\",{id:\"cover\",href:\"javascript:void(0)\",onClick:this.props.close})),i.createElement(\"p\",null,\"With this \",i.createElement(\"a\",{href:\"//publicdomain.nypl.org\"},\"public domain remix\"),\", you can compare the photos from the 1911 \",i.createElement(\"a\",{href:\"http://digitalcollections.nypl.org/collections/fifth-avenue-new-york-from-start-to-finish#/?tab=about\"},\"Fifth Avenue from Start to Finish collection\"),\" with 2015's \",i.createElement(\"a\",{href:\"https://www.google.nl/maps/@40.7528429,-73.9813567,3a,75y,299.2h,96.54t/data=!3m6!1e1!3m4!1sFR-Gcj5IDRGxJ72fhcikWw!2e0!7i13312!8i6656\"},\"Google Street View\"),\". Use your keyboard's arrow keys, click on the markers on the map, or use the controls on the screen to move up and down Fifth Avenue. This website works best with Chrome or Safari.\"),i.createElement(\"p\",{className:\"button-container\"},i.createElement(\"button\",{onClick:this.props.close},\"Take me to 1911!\")),i.createElement(\"p\",null,\"From \",i.createElement(\"a\",{href:\"http://digitalcollections.nypl.org/collections/fifth-avenue-new-york-from-start-to-finish#/?tab=about\"},\"The New York Public Library Digital Collections\"),\":\"),i.createElement(\"blockquote\",{className:\"columns\"},\"Fifth Avenue, the street that became the social and cultural spine of New York's elite, first appeared on the Commissioners' Map of 1811. At that time, it was merely a country road to Yorkville (then just a tiny self-contained village), but in the proposed grid plan it would be a grand boulevard. As the City grew and prospered Fifth Avenue became synonymous with fashionable life, the site of mansions, cultural and social institutions, and restaurants and shops catering to the elite. In 1907, alarmed at the approach of factories, the leading merchants and residents formed the Fifth Avenue Association. The \",i.createElement(\"em\",null,\"Save New York Committee\"),\" became a bulwark against the wrong kind of development. Perhaps inspired by this contemporary movement, photographer Burton Welles used a wide-angled view camera in 1911 to document this most important street from Washington Square, north to East 93rd Street.\"),i.createElement(\"div\",{className:\"button-container only-when-narrow\"},i.createElement(\"button\",{onClick:this.props.close},\"Take me to 1911!\")))}})},{react:308}],4:[function(t,e,n){\"use strict\";window.React=t(\"react\"),window.ReactDOM=t(\"react-dom\");var i=t(\"../data/fields-of-view.json\"),r=\"510d47dc-9a95-a3d9-e040-e00a18064a99\",o=t(\"./app\"),a=document.getElementById(\"app\");ReactDOM.render(React.createElement(o,{fieldsOfView:i,uuid:r}),a)},{\"../data/fields-of-view.json\":1,\"./app\":2,react:308,\"react-dom\":174}],5:[function(t,e,n){\"use strict\";var i=t(\"react\"),r=t(\"mapbox-gl\"),o=t(\"turf-point-on-line\");e.exports=i.createClass({displayName:\"exports\",getInitialState:function(){return{enlarge:!1,borderWidth:3,headerHeight:35,triangles:{type:\"FeatureCollection\",features:this.props.fieldsOfView.features.map(function(t){return{type:\"Feature\",properties:{uuid:t.properties.id},geometry:{type:\"Polygon\",coordinates:[[t.geometry.geometries[0].coordinates,t.geometry.geometries[1].coordinates[0],t.geometry.geometries[1].coordinates[1],t.geometry.geometries[0].coordinates]]}}})},flyTo:{center:[-73.9821,40.752],zoom:15,bearing:-61.07},fifthAvenue:{type:\"Feature\",properties:{},geometry:{type:\"LineString\",coordinates:[[-73.94455969333649,40.80324428776881],[-73.99704515933989,40.731283277680916]]}}}},render:function(){var t=this.props.radius,e=2*t,n=this.state.headerHeight,r=2*e,o={width:r+\"px\",height:r+\"px\",marginTop:\"-\"+(r/2-n/2)+\"px\"},a=this.state.enlarge?e:t,s=a-this.state.borderWidth,u={WebkitClipPath:\"circle(\"+s+\"px at center)\",clipPath:\"circle(\"+s+\"px at center)\"},l={WebkitClipPath:\"circle(\"+a+\"px at center)\",clipPath:\"circle(\"+a+\"px at center)\"};return i.createElement(\"section\",{id:\"map-container\"},i.createElement(\"div\",{id:\"map-wrapper\",style:o},i.createElement(\"div\",{id:\"map-border\",style:l}),i.createElement(\"div\",{id:\"map\",className:\"mapboxgl-map\",style:u,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})))},componentDidMount:function(){r.accessToken=\"pk.eyJ1IjoibnlwbGxhYnMiLCJhIjoiY2lqMjBzdmRnMDBkbnRvbHpxNjJqcXV4bCJ9.6PmQSsjQT8zCgbOnZKCFdg\";var t={container:\"map\",attributionControl:!1,style:\"mapbox://styles/nypllabs/cij200za6003e8ykq2tsgjpd0\"},e=new r.Map(Object.assign({},this.state.flyTo,t));e.dragRotate.disable(),e.on(\"click\",this.onClick),e.on(\"mousemove\",this.onMousemove),e.on(\"style.load\",this.onStyleLoad),this.setState({map:e})},setItem:function(t){if(this.state.map){var e={type:\"Feature\",geometry:t.feature.geometry.geometries[0]},n=o(this.state.fifthAvenue,e),i=(t.feature.properties.data.direction,this.state.flyTo.bearing);this.state.map.flyTo(Object.assign({},this.state.flyTo,{center:n.geometry.coordinates,bearing:i}));var r=this.state.triangles.features[t.index];this.state.sources.selectedTriangle.setData(r)}},onStyleLoad:function(){var t=this.state.map,e={triangles:new r.GeoJSONSource({data:this.state.triangles}),selectedTriangle:new r.GeoJSONSource({data:{type:\"FeatureCollection\",features:[]}})};t.addSource(\"triangles\",e.triangles),t.addSource(\"selected-triangle\",e.selectedTriangle),t.addLayer({id:\"triangles\",source:\"triangles\",interactive:!0,type:\"fill\",paint:{\"fill-color\":\"#61615f\",\"fill-opacity\":.8}}),t.addLayer({id:\"selected-triangle\",source:\"selected-triangle\",interactive:!0,type:\"fill\",layout:{\"line-join\":\"round\",\"line-cap\":\"round\"},paint:{\"fill-color\":\"#c02026\",\"line-color\":\"#d8b92f\",\"line-width\":30}}),this.setState({sources:e}),this.setItem(this.props.currentItem)},onClick:function(t){this.state.map.featuresAt(t.point,{layer:\"triangles\",radius:0},function(t,e){if(e.length){var n=e[0].properties.uuid;this.props.setUuid(n)}}.bind(this))},onMouseEnter:function(){this.setState({enlarge:!0})},onMouseLeave:function(){this.setState({enlarge:!1})},onMousemove:function(t){var e=this.state.map;e.featuresAt(t.point,{layer:\"triangles\",radius:0},function(t,n){if(t)throw t;e.getCanvas().style.cursor=n.length?\"pointer\":\"\"})}})},{\"mapbox-gl\":85,react:308,\"turf-point-on-line\":316}],6:[function(t,e,n){\"use strict\";var i=t(\"react\"),r=t(\"react-dom\"),o=t(\"react-addons-css-transition-group\");e.exports=i.createClass({displayName:\"exports\",getInitialState:function(){return{}},render:function(){var t=this.props.currentItem,e=this.props.getDirections.south(this.props.currentItem),n=this.props.getDirections.north(this.props.currentItem),r={current:{backgroundImage:'url(\"photos/'+t.uuid+'.jpg\")'},south:{backgroundImage:e?'url(\"photos/'+e.uuid+'.jpg\")':null},north:{backgroundImage:n?'url(\"photos/'+n.uuid+'.jpg\")':null}},a={current:t.uuid,south:e?e.uuid:null,north:n?n.uuid:null},s=\"http://digitalcollections.nypl.org/items/\"+t.uuid,u=t.feature.properties.data.direction,l=\"south\",c=\"north\";if(\"east\"===u){var d=[c,l];l=d[0],c=d[1]}return i.createElement(\"section\",{id:\"photos-container\",className:\"margin-top full-width\"},i.createElement(\"div\",{className:\"section-header\"},i.createElement(\"h3\",null,\"1911:\"),i.createElement(\"div\",{className:\"menu\"},\"← \",i.createElement(\"a\",{href:\"javascript:void(0)\",onClick:this.goSouth},\"go south\"),\", → \",i.createElement(\"a\",{href:\"javascript:void(0)\",onClick:this.goNorth},\"go north\"),\", ↕ \",i.createElement(\"a\",{href:\"javascript:void(0)\",onClick:this.goAcross},\"cross the street\"),\", or open in \",i.createElement(\"a\",{target:\"_blank\",href:s},\"Digital Collections\"))),i.createElement(\"div\",{id:\"photos\",className:\"aspect-ratio\"},i.createElement(\"ol\",null,i.createElement(o,{transitionName:\"example\",transitionEnterTimeout:500,transitionLeaveTimeout:500},i.createElement(\"li\",{key:a[l],id:\"photo-left\",ref:\"left\",style:r[l]}),i.createElement(\"li\",{key:a.current,id:\"photo-current\",ref:\"current\",style:r.current,onMouseDown:this.handleClick}),i.createElement(\"li\",{key:a[c],id:\"photo-right\",ref:\"right\",style:r[c]})))))},handleClick:function(t){var e=r.findDOMNode(this.refs.current),n=t.pageX-e.getBoundingClientRect().left,i=n/e.clientWidth;i>.5?this.goRight():this.goLeft()},goLeft:function(){var t=this.props.currentItem,e=t.feature.properties.data.direction;\"east\"===e?this.goNorth():this.goSouth()},goRight:function(){var t=this.props.currentItem,e=t.feature.properties.data.direction;\"east\"===e?this.goSouth():this.goNorth()},goSouth:function(){this.props.goDirections.south()},goNorth:function(){this.props.goDirections.north()},goAcross:function(){this.props.goDirections.across()}})},{react:308,\"react-addons-css-transition-group\":173,\"react-dom\":174}],7:[function(t,e,n){\"use strict\";var i=t(\"react\"),r=t(\"google-maps-api\")(\"AIzaSyAujmCClV_Kl-12EQbE5jZG4fzdS3LyfHo\");e.exports=i.createClass({displayName:\"exports\",getInitialState:function(){return{panorama:null,colorFilters:!0}},render:function(){if(this.props.currentItem){var t=this.props.currentItem.feature,e=t.properties.data.bearing,n=t.geometry.geometries[0].coordinates,r={lat:n[1],lng:n[0]},o={heading:e,pitch:10};this.setView(r,o);var a=\"aspect-ratio\";this.state.colorFilters&&(a+=\" color-filters\");var s=(new Date).getFullYear();return i.createElement(\"section\",{id:\"street-view-container\",className:\"margin-top full-width\"},i.createElement(\"div\",{className:\"section-header\"},i.createElement(\"h3\",null,s,\":\"),i.createElement(\"div\",{className:\"menu\"},i.createElement(\"a\",{id:\"real-colors\",href:\"javascript:void(0)\",onClick:this.toggleColorFilters},\"toggle colors\"))),i.createElement(\"div\",{id:\"street-view\",className:a}))}return null},componentDidMount:function(){var t=this;this.state.googleMapsApi||r().then(function(e){var n=new e.StreetViewPanorama(document.getElementById(\"street-view\"),{zoom:0,linksControl:!1,panControl:!1,zoomControl:!1});t.setState({panorama:n})})},setView:function(t,e){this.state.panorama&&(this.state.panorama.setPosition(t),this.state.panorama.setPov(e))},toggleColorFilters:function(){this.setState({colorFilters:!this.state.colorFilters})}})},{\"google-maps-api\":56,react:308}],8:[function(t,e,n){function i(t,e){return h.isUndefined(e)?\"\"+e:h.isNumber(e)&&!isFinite(e)?e.toString():h.isFunction(e)||h.isRegExp(e)?e.toString():e}function r(t,e){return h.isString(t)?t.length<e?t:t.slice(0,e):t}function o(t){return r(JSON.stringify(t.actual,i),128)+\" \"+t.operator+\" \"+r(JSON.stringify(t.expected,i),128)}function a(t,e,n,i,r){throw new v.AssertionError({message:n,actual:t,expected:e,operator:i,stackStartFunction:r})}function s(t,e){t||a(t,!0,e,\"==\",v.ok)}function u(t,e){if(t===e)return!0;if(h.isBuffer(t)&&h.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return h.isDate(t)&&h.isDate(e)?t.getTime()===e.getTime():h.isRegExp(t)&&h.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:h.isObject(t)||h.isObject(e)?c(t,e):t==e}function l(t){return\"[object Arguments]\"==Object.prototype.toString.call(t)}function c(t,e){if(h.isNullOrUndefined(t)||h.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(h.isPrimitive(t)||h.isPrimitive(e))return t===e;var n=l(t),i=l(e);if(n&&!i||!n&&i)return!1;if(n)return t=f.call(t),e=f.call(e),u(t,e);var r,o,a=g(t),s=g(e);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),o=a.length-1;o>=0;o--)if(a[o]!=s[o])return!1;for(o=a.length-1;o>=0;o--)if(r=a[o],!u(t[r],e[r]))return!1;return!0}function d(t,e){return t&&e?\"[object RegExp]\"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function p(t,e,n,i){var r;h.isString(n)&&(i=n,n=null);try{e()}catch(o){r=o}if(i=(n&&n.name?\" (\"+n.name+\").\":\".\")+(i?\" \"+i:\".\"),t&&!r&&a(r,n,\"Missing expected exception\"+i),!t&&d(r,n)&&a(r,n,\"Got unwanted exception\"+i),t&&r&&n&&!d(r,n)||!t&&r)throw r}var h=t(\"util/\"),f=Array.prototype.slice,m=Object.prototype.hasOwnProperty,v=e.exports=s;v.AssertionError=function(t){this.name=\"AssertionError\",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var e=t.stackStartFunction||a;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var i=n.stack,r=e.name,s=i.indexOf(\"\\n\"+r);if(s>=0){var u=i.indexOf(\"\\n\",s+1);i=i.substring(u+1)}this.stack=i}}},h.inherits(v.AssertionError,Error),v.fail=a,v.ok=s,v.equal=function(t,e,n){t!=e&&a(t,e,n,\"==\",v.equal)},v.notEqual=function(t,e,n){t==e&&a(t,e,n,\"!=\",v.notEqual)},v.deepEqual=function(t,e,n){u(t,e)||a(t,e,n,\"deepEqual\",v.deepEqual)},v.notDeepEqual=function(t,e,n){u(t,e)&&a(t,e,n,\"notDeepEqual\",v.notDeepEqual)},v.strictEqual=function(t,e,n){t!==e&&a(t,e,n,\"===\",v.strictEqual)},v.notStrictEqual=function(t,e,n){t===e&&a(t,e,n,\"!==\",v.notStrictEqual)},v[\"throws\"]=function(t,e,n){p.apply(this,[!0].concat(f.call(arguments)))},v.doesNotThrow=function(t,e){p.apply(this,[!1].concat(f.call(arguments)))},v.ifError=function(t){if(t)throw t};var g=Object.keys||function(t){var e=[];for(var n in t)m.call(t,n)&&e.push(n);return e}},{\"util/\":320}],9:[function(t,e,n){function i(t){return t=Math.round(t),0>t?0:t>255?255:t}function r(t){return 0>t?0:t>1?1:t}function o(t){return i(\"%\"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return r(\"%\"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?t+(e-t)*n*6:1>2*n?e:2>3*n?t+(e-t)*(2/3-n)*6:t}function u(t){var e=t.replace(/ /g,\"\").toLowerCase();if(e in l)return l[e].slice();if(\"#\"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&4095>=n?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&16777215>=n?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var r=e.indexOf(\"(\"),u=e.indexOf(\")\");if(-1!==r&&u+1===e.length){var c=e.substr(0,r),d=e.substr(r+1,u-(r+1)).split(\",\"),p=1;switch(c){case\"rgba\":if(4!==d.length)return null;p=a(d.pop());case\"rgb\":return 3!==d.length?null:[o(d[0]),o(d[1]),o(d[2]),p];case\"hsla\":if(4!==d.length)return null;p=a(d.pop());case\"hsl\":if(3!==d.length)return null;var h=(parseFloat(d[0])%360+360)%360/360,f=a(d[1]),m=a(d[2]),v=.5>=m?m*(f+1):m+f-m*f,g=2*m-v;return[i(255*s(g,v,h+1/3)),i(255*s(g,v,h)),i(255*s(g,v,h-1/3)),p];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=u}catch(c){}},{}],10:[function(t,e,n){\"use strict\";var i=t(\"./invariant\"),r={addClass:function(t,e){return/\\s/.test(e)?i(!1):void 0,e&&(t.classList?t.classList.add(e):r.hasClass(t,e)||(t.className=t.className+\" \"+e)),t},removeClass:function(t,e){return/\\s/.test(e)?i(!1):void 0,e&&(t.classList?t.classList.remove(e):r.hasClass(t,e)&&(t.className=t.className.replace(new RegExp(\"(^|\\\\s)\"+e+\"(?:\\\\s|$)\",\"g\"),\"$1\").replace(/\\s+/g,\" \").replace(/^\\s*|\\s*$/g,\"\"))),t},conditionClass:function(t,e,n){return(n?r.addClass:r.removeClass)(t,e)},hasClass:function(t,e){return/\\s/.test(e)?i(!1):void 0,t.classList?!!e&&t.classList.contains(e):(\" \"+t.className+\" \").indexOf(\" \"+e+\" \")>-1}};e.exports=r},{\"./invariant\":26}],11:[function(t,e,n){\"use strict\";var i=t(\"./emptyFunction\"),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent(\"on\"+e,n),{remove:function(){t.detachEvent(\"on\"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:i}},registerDefault:function(){}};e.exports=r},{\"./emptyFunction\":18}],12:[function(t,e,n){\"use strict\";var i=!(\"undefined\"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:\"undefined\"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};e.exports=r},{}],13:[function(t,e,n){\"use strict\";function i(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;e.exports=i},{}],14:[function(t,e,n){\"use strict\";function i(t){return r(t.replace(o,\"ms-\"))}var r=t(\"./camelize\"),o=/^-ms-/;e.exports=i},{\"./camelize\":13}],15:[function(t,e,n){\"use strict\";function i(t,e){var n=!0;t:for(;n;){var i=t,o=e;if(n=!1,i&&o){if(i===o)return!0;if(r(i))return!1;if(r(o)){t=i,e=o.parentNode,n=!0;continue t}return i.contains?i.contains(o):i.compareDocumentPosition?!!(16&i.compareDocumentPosition(o)):!1}return!1}}var r=t(\"./isTextNode\");e.exports=i},{\"./isTextNode\":28}],16:[function(t,e,n){\"use strict\";function i(t){return!!t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"length\"in t&&!(\"setInterval\"in t)&&\"number\"!=typeof t.nodeType&&(Array.isArray(t)||\"callee\"in t||\"item\"in t)}function r(t){return i(t)?Array.isArray(t)?t.slice():o(t):[t]}var o=t(\"./toArray\");e.exports=r},{\"./toArray\":36}],17:[function(t,e,n){\"use strict\";function i(t){var e=t.match(c);return e&&e[1].toLowerCase()}function r(t,e){var n=l;l?void 0:u(!1);var r=i(t),o=r&&s(r);if(o){n.innerHTML=o[1]+t+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=t;var d=n.getElementsByTagName(\"script\");d.length&&(e?void 0:u(!1),a(d).forEach(e));for(var p=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var o=t(\"./ExecutionEnvironment\"),a=t(\"./createArrayFromMixed\"),s=t(\"./getMarkupWrap\"),u=t(\"./invariant\"),l=o.canUseDOM?document.createElement(\"div\"):null,c=/^\\s*<(\\w+)/;e.exports=r},{\"./ExecutionEnvironment\":12,\"./createArrayFromMixed\":16,\"./getMarkupWrap\":22,\"./invariant\":26}],18:[function(t,e,n){\"use strict\";function i(t){return function(){return t}}function r(){}r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},e.exports=r},{}],19:[function(t,e,n){\"use strict\";var i={};e.exports=i},{}],20:[function(t,e,n){\"use strict\";function i(t){try{t.focus()}catch(e){}}e.exports=i},{}],21:[function(t,e,n){\"use strict\";function i(){if(\"undefined\"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}e.exports=i},{}],22:[function(t,e,n){\"use strict\";function i(t){return a?void 0:o(!1),p.hasOwnProperty(t)||(t=\"*\"),s.hasOwnProperty(t)||(\"*\"===t?a.innerHTML=\"<link />\":a.innerHTML=\"<\"+t+\"></\"+t+\">\",s[t]=!a.firstChild),s[t]?p[t]:null}var r=t(\"./ExecutionEnvironment\"),o=t(\"./invariant\"),a=r.canUseDOM?document.createElement(\"div\"):null,s={},u=[1,'<select multiple=\"true\">',\"</select>\"],l=[1,\"<table>\",\"</table>\"],c=[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],d=[1,'<svg xmlns=\"http://www.w3.org/2000/svg\">',\"</svg>\"],p={\"*\":[1,\"?<div>\",\"</div>\"],area:[1,\"<map>\",\"</map>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],param:[1,\"<object>\",\"</object>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},h=[\"circle\",\"clipPath\",\"defs\",\"ellipse\",\"g\",\"image\",\"line\",\"linearGradient\",\"mask\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialGradient\",\"rect\",\"stop\",\"text\",\"tspan\"];h.forEach(function(t){p[t]=d,s[t]=!0}),e.exports=i},{\"./ExecutionEnvironment\":12,\"./invariant\":26}],23:[function(t,e,n){\"use strict\";function i(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}e.exports=i},{}],24:[function(t,e,n){\"use strict\";function i(t){return t.replace(r,\"-$1\").toLowerCase()}var r=/([A-Z])/g;e.exports=i},{}],25:[function(t,e,n){\"use strict\";function i(t){return r(t).replace(o,\"-ms-\")}var r=t(\"./hyphenate\"),o=/^ms-/;e.exports=i},{\"./hyphenate\":24}],26:[function(t,e,n){\"use strict\";var i=function(t,e,n,i,r,o,a,s){if(!t){var u;if(void 0===e)u=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var l=[n,i,r,o,a,s],c=0;u=new Error(\"Invariant Violation: \"+e.replace(/%s/g,function(){return l[c++]}))}throw u.framesToPop=1,u}};e.exports=i},{}],27:[function(t,e,n){\"use strict\";function i(t){return!(!t||!(\"function\"==typeof Node?t instanceof Node:\"object\"==typeof t&&\"number\"==typeof t.nodeType&&\"string\"==typeof t.nodeName))}e.exports=i},{}],28:[function(t,e,n){\"use strict\";function i(t){return r(t)&&3==t.nodeType}var r=t(\"./isNode\");e.exports=i},{\"./isNode\":27}],29:[function(t,e,n){\"use strict\";\nvar i=t(\"./invariant\"),r=function(t){var e,n={};t instanceof Object&&!Array.isArray(t)?void 0:i(!1);for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};e.exports=r},{\"./invariant\":26}],30:[function(t,e,n){\"use strict\";var i=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=i},{}],31:[function(t,e,n){\"use strict\";function i(t,e,n){if(!t)return null;var i={};for(var o in t)r.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}var r=Object.prototype.hasOwnProperty;e.exports=i},{}],32:[function(t,e,n){\"use strict\";function i(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}e.exports=i},{}],33:[function(t,e,n){\"use strict\";var i,r=t(\"./ExecutionEnvironment\");r.canUseDOM&&(i=window.performance||window.msPerformance||window.webkitPerformance),e.exports=i||{}},{\"./ExecutionEnvironment\":12}],34:[function(t,e,n){\"use strict\";var i=t(\"./performance\"),r=i;r&&r.now||(r=Date);var o=r.now.bind(r);e.exports=o},{\"./performance\":33}],35:[function(t,e,n){\"use strict\";function i(t,e){if(t===e)return!0;if(\"object\"!=typeof t||null===t||\"object\"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var o=r.bind(e),a=0;a<n.length;a++)if(!o(n[a])||t[n[a]]!==e[n[a]])return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=i},{}],36:[function(t,e,n){\"use strict\";function i(t){var e=t.length;if(Array.isArray(t)||\"object\"!=typeof t&&\"function\"!=typeof t?r(!1):void 0,\"number\"!=typeof e?r(!1):void 0,0===e||e-1 in t?void 0:r(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var i=Array(e),o=0;e>o;o++)i[o]=t[o];return i}var r=t(\"./invariant\");e.exports=i},{\"./invariant\":26}],37:[function(t,e,n){\"use strict\";var i=t(\"./emptyFunction\"),r=i;e.exports=r},{\"./emptyFunction\":18}],38:[function(t,e,n){\"use strict\";function i(t){return function(e,n,i){return\"$type\"===n?\"t\"+t+s.indexOf(i):\"p[\"+JSON.stringify(n)+\"]\"+t+JSON.stringify(i)}}function r(t){var e=i(t);return function(t,n,i){return\"$type\"===n?e(t,n,i):\"typeof(p[\"+JSON.stringify(n)+\"]) === typeof(\"+JSON.stringify(i)+\") && \"+e(t,n,i)}}function o(t){return u[t[0]].apply(t,t)}function a(){return!0}var s=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"],u={\"==\":i(\"===\"),\"!=\":i(\"!==\"),\">\":r(\">\"),\"<\":r(\"<\"),\"<=\":r(\"<=\"),\">=\":r(\">=\"),\"in\":function(t,e){return Array.prototype.slice.call(arguments,2).map(function(n){return\"(\"+u[\"==\"](t,e,n)+\")\"}).join(\"||\")||\"false\"},\"!in\":function(){return\"!(\"+u[\"in\"].apply(this,arguments)+\")\"},any:function(){return Array.prototype.slice.call(arguments,1).map(function(t){return\"(\"+o(t)+\")\"}).join(\"||\")||\"false\"},all:function(){return Array.prototype.slice.call(arguments,1).map(function(t){return\"(\"+o(t)+\")\"}).join(\"&&\")||\"true\"},none:function(){return\"!(\"+u.any.apply(this,arguments)+\")\"}};e.exports=function(t){if(!t)return a;var e=\"var p = f.properties || f.tags || {}, t = f.type; return \"+o(t)+\";\";return new Function(\"f\",e)}},{}],39:[function(t,e,n){\"use strict\";function i(t,e,n,i,a,s,u,l){if(n/=e,i/=e,u>=n&&i>=l)return t;if(u>i||n>l)return null;for(var c=[],d=0;d<t.length;d++){var p,h,f=t[d],m=f.geometry,v=f.type;if(p=f.min[a],h=f.max[a],p>=n&&i>=h)c.push(f);else if(!(p>i||n>h)){var g=1===v?r(m,n,i,a):o(m,n,i,a,s,3===v);g.length&&c.push({geometry:g,type:v,tags:t[d].tags||null,min:f.min,max:f.max})}}return c.length?c:null}function r(t,e,n,i){for(var r=[],o=0;o<t.length;o++){var a=t[o],s=a[i];s>=e&&n>=s&&r.push(a)}return r}function o(t,e,n,i,r,o){for(var s=[],u=0;u<t.length;u++){var l,c,d,p=0,h=0,f=null,m=t[u],v=m.area,g=m.dist,y=m.length,b=[];for(c=0;y-1>c;c++)l=f||m[c],f=m[c+1],p=h||l[i],h=f[i],e>p?h>n?(b.push(r(l,f,e),r(l,f,n)),o||(b=a(s,b,v,g))):h>=e&&b.push(r(l,f,e)):p>n?e>h?(b.push(r(l,f,n),r(l,f,e)),o||(b=a(s,b,v,g))):n>=h&&b.push(r(l,f,n)):(b.push(l),e>h?(b.push(r(l,f,e)),o||(b=a(s,b,v,g))):h>n&&(b.push(r(l,f,n)),o||(b=a(s,b,v,g))));l=m[y-1],p=l[i],p>=e&&n>=p&&b.push(l),d=b[b.length-1],o&&d&&(b[0][0]!==d[0]||b[0][1]!==d[1])&&b.push(b[0]),a(s,b,v,g)}return s}function a(t,e,n,i){return e.length&&(e.area=n,e.dist=i,t.push(e)),[]}e.exports=i},{}],40:[function(t,e,n){\"use strict\";function i(t,e){var n=[];if(\"FeatureCollection\"===t.type)for(var i=0;i<t.features.length;i++)r(n,t.features[i],e);else\"Feature\"===t.type?r(n,t,e):r(n,{geometry:t},e);return n}function r(t,e,n){var i,u,l,c=e.geometry,d=c.type,p=c.coordinates,h=e.properties;if(\"Point\"===d)t.push(o(h,1,[s(p)]));else if(\"MultiPoint\"===d)t.push(o(h,1,a(p)));else if(\"LineString\"===d)t.push(o(h,2,[a(p,n)]));else if(\"MultiLineString\"===d||\"Polygon\"===d){for(l=[],i=0;i<p.length;i++)l.push(a(p[i],n));t.push(o(h,\"Polygon\"===d?3:2,l))}else if(\"MultiPolygon\"===d){for(l=[],i=0;i<p.length;i++)for(u=0;u<p[i].length;u++)l.push(a(p[i][u],n));t.push(o(h,3,l))}else{if(\"GeometryCollection\"!==d)throw new Error(\"Input data is not a valid GeoJSON object.\");for(i=0;i<c.geometries.length;i++)r(t,{geometry:c.geometries[i],properties:h},n)}}function o(t,e,n){var i={geometry:n,type:e,tags:t||null,min:[2,1],max:[-1,0]};return l(i),i}function a(t,e){for(var n=[],i=0;i<t.length;i++)n.push(s(t[i]));return e&&(d(n,e),u(n)),n}function s(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i=-1>i?-1:i>1?1:i,[n,i,0]}function u(t){for(var e,n,i=0,r=0,o=0;o<t.length-1;o++)e=n||t[o],n=t[o+1],i+=e[0]*n[1]-n[0]*e[1],r+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(i/2),t.dist=r}function l(t){var e=t.geometry,n=t.min,i=t.max;if(1===t.type)c(n,i,e);else for(var r=0;r<e.length;r++)c(n,i,e[r]);return t}function c(t,e,n){for(var i,r=0;r<n.length;r++)i=n[r],t[0]=Math.min(i[0],t[0]),e[0]=Math.max(i[0],e[0]),t[1]=Math.min(i[1],t[1]),e[1]=Math.max(i[1],e[1])}e.exports=i;var d=t(\"./simplify\")},{\"./simplify\":42}],41:[function(t,e,n){\"use strict\";function i(t,e){return new r(t,e)}function r(t,e){e=this.options=u(Object.create(this.options),e);var n=e.debug;n&&console.time(\"preprocess data\");var i=1<<e.maxZoom,r=c(t,e.tolerance/(i*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd(\"preprocess data\"),console.log(\"index: maxZoom: %d, maxPoints: %d\",e.indexMaxZoom,e.indexMaxPoints),console.time(\"generate tiles\"),this.stats={},this.total=0),r=h(r,e.buffer/e.extent,a),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log(\"features: %d, points: %d\",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(\"generate tiles\"),console.log(\"tiles generated:\",this.total,JSON.stringify(this.stats)))}function o(t,e,n){return 32*((1<<t)*n+e)+t}function a(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function u(t,e){for(var n in e)t[n]=e[n];return t}function l(t,e,n){var i=t.source;if(1!==i.length)return!1;var r=i[0];if(3!==r.type||r.geometry.length>1)return!1;var o=r.geometry[0].length;if(5!==o)return!1;for(var a=0;o>a;a++){var s=d.point(r.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-n&&s[0]!==e+n||s[1]!==-n&&s[1]!==e+n)return!1}return!0}e.exports=i;var c=t(\"./convert\"),d=t(\"./transform\"),p=t(\"./clip\"),h=t(\"./wrap\"),f=t(\"./tile\");r.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},r.prototype.splitTile=function(t,e,n,i,r,u,c){for(var d=[t,e,n,i],h=this.options,m=h.debug,v=null;d.length;){i=d.pop(),n=d.pop(),e=d.pop(),t=d.pop();var g=1<<e,y=o(e,n,i),b=this.tiles[y],_=e===h.maxZoom?0:h.tolerance/(g*h.extent);if(!b&&(m>1&&console.time(\"creation\"),b=this.tiles[y]=f(t,g,n,i,_,e===h.maxZoom),this.tileCoords.push({z:e,x:n,y:i}),m)){m>1&&(console.log(\"tile z%d-%d-%d (features: %d, points: %d, simplified: %d)\",e,n,i,b.numFeatures,b.numPoints,b.numSimplified),console.timeEnd(\"creation\"));var x=\"z\"+e;this.stats[x]=(this.stats[x]||0)+1,this.total++}if(b.source=t,r){if(e===h.maxZoom||e===r)continue;var w=1<<r-e;if(n!==Math.floor(u/w)||i!==Math.floor(c/w))continue}else if(e===h.indexMaxZoom||b.numPoints<=h.indexMaxPoints)continue;if(h.solidChildren||!l(b,h.extent,h.buffer)){b.source=null,m>1&&console.time(\"clipping\");var E,M,S,C,T,R,P=.5*h.buffer/h.extent,I=.5-P,D=.5+P,A=1+P;E=M=S=C=null,T=p(t,g,n-P,n+D,0,a,b.min[0],b.max[0]),R=p(t,g,n+I,n+A,0,a,b.min[0],b.max[0]),T&&(E=p(T,g,i-P,i+D,1,s,b.min[1],b.max[1]),M=p(T,g,i+I,i+A,1,s,b.min[1],b.max[1])),R&&(S=p(R,g,i-P,i+D,1,s,b.min[1],b.max[1]),C=p(R,g,i+I,i+A,1,s,b.min[1],b.max[1])),m>1&&console.timeEnd(\"clipping\"),E&&d.push(E,e+1,2*n,2*i),M&&d.push(M,e+1,2*n,2*i+1),S&&d.push(S,e+1,2*n+1,2*i),C&&d.push(C,e+1,2*n+1,2*i+1)}else r&&(v=e)}return v},r.prototype.getTile=function(t,e,n){var i=this.options,r=i.extent,a=i.debug,s=1<<t;e=(e%s+s)%s;var u=o(t,e,n);if(this.tiles[u])return d.tile(this.tiles[u],r);a>1&&console.log(\"drilling down to z%d-%d-%d\",t,e,n);for(var c,p=t,h=e,f=n;!c&&p>0;)p--,h=Math.floor(h/2),f=Math.floor(f/2),c=this.tiles[o(p,h,f)];if(!c||!c.source)return null;if(a>1&&console.log(\"found parent tile z%d-%d-%d\",p,h,f),l(c,r,i.buffer))return d.tile(c,r);a>1&&console.time(\"drilling down\");var m=this.splitTile(c.source,p,h,f,t,e,n);if(a>1&&console.timeEnd(\"drilling down\"),null!==m){var v=1<<t-m;u=o(m,Math.floor(e/v),Math.floor(n/v))}return this.tiles[u]?d.tile(this.tiles[u],r):null}},{\"./clip\":39,\"./convert\":40,\"./tile\":43,\"./transform\":44,\"./wrap\":45}],42:[function(t,e,n){\"use strict\";function i(t,e){var n,i,o,a,s=e*e,u=t.length,l=0,c=u-1,d=[];for(t[l][2]=1,t[c][2]=1;c;){for(i=0,n=l+1;c>n;n++)o=r(t[n],t[l],t[c]),o>i&&(a=n,i=o);i>s?(t[a][2]=i,d.push(l),d.push(a),l=a):(c=d.pop(),l=d.pop())}}function r(t,e,n){var i=e[0],r=e[1],o=n[0],a=n[1],s=t[0],u=t[1],l=o-i,c=a-r;if(0!==l||0!==c){var d=((s-i)*l+(u-r)*c)/(l*l+c*c);d>1?(i=o,r=a):d>0&&(i+=l*d,r+=c*d)}return l=s-i,c=u-r,l*l+c*c}e.exports=i},{}],43:[function(t,e,n){\"use strict\";function i(t,e,n,i,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z2:e,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<t.length;u++){s.numFeatures++,r(s,t[u],o,a);var l=t[u].min,c=t[u].max;l[0]<s.min[0]&&(s.min[0]=l[0]),l[1]<s.min[1]&&(s.min[1]=l[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function r(t,e,n,i){var r,o,a,s,u=e.geometry,l=e.type,c=[],d=n*n;if(1===l)for(r=0;r<u.length;r++)c.push(u[r]),t.numPoints++,t.numSimplified++;else for(r=0;r<u.length;r++)if(a=u[r],i||!(2===l&&a.dist<n||3===l&&a.area<d)){var p=[];for(o=0;o<a.length;o++)s=a[o],(i||s[2]>d)&&(p.push(s),t.numSimplified++),t.numPoints++;c.push(p)}else t.numPoints+=a.length;c.length&&t.features.push({geometry:c,type:l,tags:e.tags||null})}e.exports=i},{}],44:[function(t,e,n){\"use strict\";function i(t,e){if(t.transformed)return t;var n,i,o,a=t.z2,s=t.x,u=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],c=l.geometry,d=l.type;if(1===d)for(i=0;i<c.length;i++)c[i]=r(c[i],e,a,s,u);else for(i=0;i<c.length;i++){var p=c[i];for(o=0;o<p.length;o++)p[o]=r(p[o],e,a,s,u)}}return t.transformed=!0,t}function r(t,e,n,i,r){var o=Math.round(e*(t[0]*n-i)),a=Math.round(e*(t[1]*n-r));return[o,a]}n.tile=i,n.point=r},{}],45:[function(t,e,n){\"use strict\";function i(t,e,n){var i=t,o=a(t,1,-1-e,e,0,n,-1,2),s=a(t,1,1-e,2+e,0,n,-1,2);return(o||s)&&(i=a(t,1,-e,1+e,0,n,-1,2),o&&(i=r(o,1).concat(i)),s&&(i=i.concat(r(s,-1)))),i}function r(t,e){for(var n=[],i=0;i<t.length;i++){var r,a=t[i],s=a.type;if(1===s)r=o(a.geometry,e);else{r=[];for(var u=0;u<a.geometry.length;u++)r.push(o(a.geometry[u],e))}n.push({geometry:r,type:s,tags:a.tags,min:[a.min[0]+e,a.min[1]],max:[a.max[0]+e,a.max[1]]})}return n}function o(t,e){var n=[];n.area=t.area,n.dist=t.dist;for(var i=0;i<t.length;i++)n.push([t[i][0]+e,t[i][1],t[i][2]]);return n}var a=t(\"./clip\");e.exports=i},{\"./clip\":39}],46:[function(t,e,n){n.glMatrix=t(\"./gl-matrix/common.js\"),n.mat2=t(\"./gl-matrix/mat2.js\"),n.mat2d=t(\"./gl-matrix/mat2d.js\"),n.mat3=t(\"./gl-matrix/mat3.js\"),n.mat4=t(\"./gl-matrix/mat4.js\"),n.quat=t(\"./gl-matrix/quat.js\"),n.vec2=t(\"./gl-matrix/vec2.js\"),n.vec3=t(\"./gl-matrix/vec3.js\"),n.vec4=t(\"./gl-matrix/vec4.js\")},{\"./gl-matrix/common.js\":47,\"./gl-matrix/mat2.js\":48,\"./gl-matrix/mat2d.js\":49,\"./gl-matrix/mat3.js\":50,\"./gl-matrix/mat4.js\":51,\"./gl-matrix/quat.js\":52,\"./gl-matrix/vec2.js\":53,\"./gl-matrix/vec3.js\":54,\"./gl-matrix/vec4.js\":55}],47:[function(t,e,n){var i={};i.EPSILON=1e-6,i.ARRAY_TYPE=\"undefined\"!=typeof Float32Array?Float32Array:Array,i.RANDOM=Math.random,i.setMatrixArrayType=function(t){GLMAT_ARRAY_TYPE=t};var r=Math.PI/180;i.toRadian=function(t){return t*r},e.exports=i},{}],48:[function(t,e,n){var i=t(\"./common.js\"),r={};r.create=function(){var t=new i.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.clone=function(t){var e=new i.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},r.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*o-r*i;return a?(a=1/a,t[0]=o*a,t[1]=-i*a,t[2]=-r*a,t[3]=n*a,t):null},r.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},r.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},r.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=i*s+o*u,t[1]=r*s+a*u,t[2]=i*l+o*c,t[3]=r*l+a*c,t},r.mul=r.multiply,r.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u+o*s,t[1]=r*u+a*s,t[2]=i*-s+o*u,t[3]=r*-s+a*u,t},r.scale=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=i*s,t[1]=r*s,t[2]=o*u,t[3]=a*u,t},r.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=-n,t[3]=i,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},r.str=function(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},r.LDU=function(t,e,n,i){return t[2]=i[2]/i[0],n[0]=i[0],n[1]=i[1],n[3]=i[3]-t[2]*n[1],[t,e,n]},e.exports=r},{\"./common.js\":47}],49:[function(t,e,n){var i=t(\"./common.js\"),r={};r.create=function(){var t=new i.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.clone=function(t){var e=new i.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=n*o-i*r;return u?(u=1/u,t[0]=o*u,t[1]=-i*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-o*a)*u,t[5]=(i*a-n*s)*u,t):null},r.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},r.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1],d=n[2],p=n[3],h=n[4],f=n[5];return t[0]=i*l+o*c,t[1]=r*l+a*c,t[2]=i*d+o*p,t[3]=r*d+a*p,t[4]=i*h+o*f+s,t[5]=r*h+a*f+u,t},r.mul=r.multiply,r.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=i*c+o*l,t[1]=r*c+a*l,t[2]=i*-l+o*c,t[3]=r*-l+a*c,t[4]=s,t[5]=u,t},r.scale=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=i*l,t[1]=r*l,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=u,t},r.translate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=i*l+o*c+s,t[5]=r*l+a*c+u,t},r.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=-n,t[3]=i,t[4]=0,t[5]=0,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},r.str=function(t){return\"mat2d(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\")\"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.exports=r},{\"./common.js\":47}],50:[function(t,e,n){var i=t(\"./common.js\"),r={};r.create=function(){var t=new i.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},r.clone=function(t){var e=new i.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},r.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=c*a-s*l,p=-c*o+s*u,h=l*o-a*u,f=n*d+i*p+r*h;return f?(f=1/f,t[0]=d*f,t[1]=(-c*i+r*l)*f,t[2]=(s*i-r*a)*f,t[3]=p*f,t[4]=(c*n-r*u)*f,t[5]=(-s*n+r*o)*f,t[6]=h*f,t[7]=(-l*n+i*u)*f,t[8]=(a*n-i*o)*f,t):null},r.adjoint=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=a*c-s*l,t[1]=r*l-i*c,t[2]=i*s-r*a,t[3]=s*u-o*c,t[4]=n*c-r*u,t[5]=r*o-n*s,t[6]=o*l-a*u,t[7]=i*u-n*l,t[8]=n*a-i*o,t},r.determinant=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+n*(-l*r+a*s)+i*(u*r-o*s)},r.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],p=n[0],h=n[1],f=n[2],m=n[3],v=n[4],g=n[5],y=n[6],b=n[7],_=n[8];return t[0]=p*i+h*a+f*l,t[1]=p*r+h*s+f*c,t[2]=p*o+h*u+f*d,t[3]=m*i+v*a+g*l,t[4]=m*r+v*s+g*c,t[5]=m*o+v*u+g*d,t[6]=y*i+b*a+_*l,t[7]=y*r+b*s+_*c,t[8]=y*o+b*u+_*d,t},r.mul=r.multiply,r.translate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],p=n[0],h=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=p*i+h*a+l,t[7]=p*r+h*s+c,t[8]=p*o+h*u+d,t},r.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],p=Math.sin(n),h=Math.cos(n);return t[0]=h*i+p*a,t[1]=h*r+p*s,t[2]=h*o+p*u,t[3]=h*a-p*i,t[4]=h*s-p*r,t[5]=h*u-p*o,t[6]=l,t[7]=c,t[8]=d,t},r.scale=function(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},r.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},r.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,u=r+r,l=n*a,c=i*a,d=i*s,p=r*a,h=r*s,f=r*u,m=o*a,v=o*s,g=o*u;return t[0]=1-d-f,t[3]=c-g,t[6]=p+v,t[1]=c+g,t[4]=1-l-f,t[7]=h-m,t[2]=p-v,t[5]=h+m,t[8]=1-l-d,t},r.normalFromMat4=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=e[9],p=e[10],h=e[11],f=e[12],m=e[13],v=e[14],g=e[15],y=n*s-i*a,b=n*u-r*a,_=n*l-o*a,x=i*u-r*s,w=i*l-o*s,E=r*l-o*u,M=c*m-d*f,S=c*v-p*f,C=c*g-h*f,T=d*v-p*m,R=d*g-h*m,P=p*g-h*v,I=y*P-b*R+_*T+x*C-w*S+E*M;return I?(I=1/I,t[0]=(s*P-u*R+l*T)*I,t[1]=(u*C-a*P-l*S)*I,t[2]=(a*R-s*C+l*M)*I,t[3]=(r*R-i*P-o*T)*I,t[4]=(n*P-r*C+o*S)*I,t[5]=(i*C-n*R-o*M)*I,t[6]=(m*E-v*w+g*x)*I,t[7]=(v*_-f*E-g*b)*I,t[8]=(f*w-m*_+g*y)*I,t):null},r.str=function(t){return\"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.exports=r},{\"./common.js\":47}],51:[function(t,e,n){var i=t(\"./common.js\"),r={};r.create=function(){var t=new i.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.clone=function(t){var e=new i.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=o,t[11]=e[14],t[12]=r,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},r.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=e[9],p=e[10],h=e[11],f=e[12],m=e[13],v=e[14],g=e[15],y=n*s-i*a,b=n*u-r*a,_=n*l-o*a,x=i*u-r*s,w=i*l-o*s,E=r*l-o*u,M=c*m-d*f,S=c*v-p*f,C=c*g-h*f,T=d*v-p*m,R=d*g-h*m,P=p*g-h*v,I=y*P-b*R+_*T+x*C-w*S+E*M;return I?(I=1/I,t[0]=(s*P-u*R+l*T)*I,t[1]=(r*R-i*P-o*T)*I,t[2]=(m*E-v*w+g*x)*I,t[3]=(p*w-d*E-h*x)*I,t[4]=(u*C-a*P-l*S)*I,t[5]=(n*P-r*C+o*S)*I,t[6]=(v*_-f*E-g*b)*I,t[7]=(c*E-p*_+h*b)*I,t[8]=(a*R-s*C+l*M)*I,t[9]=(i*C-n*R-o*M)*I,t[10]=(f*w-m*_+g*y)*I,t[11]=(d*_-c*w-h*y)*I,t[12]=(s*S-a*T-u*M)*I,t[13]=(n*T-i*S+r*M)*I,t[14]=(m*b-f*x-v*y)*I,t[15]=(c*x-d*b+p*y)*I,t):null},r.adjoint=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=e[9],p=e[10],h=e[11],f=e[12],m=e[13],v=e[14],g=e[15];return t[0]=s*(p*g-h*v)-d*(u*g-l*v)+m*(u*h-l*p),t[1]=-(i*(p*g-h*v)-d*(r*g-o*v)+m*(r*h-o*p)),t[2]=i*(u*g-l*v)-s*(r*g-o*v)+m*(r*l-o*u),t[3]=-(i*(u*h-l*p)-s*(r*h-o*p)+d*(r*l-o*u)),t[4]=-(a*(p*g-h*v)-c*(u*g-l*v)+f*(u*h-l*p)),t[5]=n*(p*g-h*v)-c*(r*g-o*v)+f*(r*h-o*p),t[6]=-(n*(u*g-l*v)-a*(r*g-o*v)+f*(r*l-o*u)),t[7]=n*(u*h-l*p)-a*(r*h-o*p)+c*(r*l-o*u),t[8]=a*(d*g-h*m)-c*(s*g-l*m)+f*(s*h-l*d),t[9]=-(n*(d*g-h*m)-c*(i*g-o*m)+f*(i*h-o*d)),t[10]=n*(s*g-l*m)-a*(i*g-o*m)+f*(i*l-o*s),t[11]=-(n*(s*h-l*d)-a*(i*h-o*d)+c*(i*l-o*s)),t[12]=-(a*(d*v-p*m)-c*(s*v-u*m)+f*(s*p-u*d)),t[13]=n*(d*v-p*m)-c*(i*v-r*m)+f*(i*p-r*d),t[14]=-(n*(s*v-u*m)-a*(i*v-r*m)+f*(i*u-r*s)),t[15]=n*(s*p-u*d)-a*(i*p-r*d)+c*(i*u-r*s),t},r.determinant=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],d=t[10],p=t[11],h=t[12],f=t[13],m=t[14],v=t[15],g=e*a-n*o,y=e*s-i*o,b=e*u-r*o,_=n*s-i*a,x=n*u-r*a,w=i*u-r*s,E=l*f-c*h,M=l*m-d*h,S=l*v-p*h,C=c*m-d*f,T=c*v-p*f,R=d*v-p*m;return g*R-y*T+b*C+_*S-x*M+w*E},r.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],p=e[9],h=e[10],f=e[11],m=e[12],v=e[13],g=e[14],y=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*i+_*s+x*d+w*m,t[1]=b*r+_*u+x*p+w*v,t[2]=b*o+_*l+x*h+w*g,t[3]=b*a+_*c+x*f+w*y,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*i+_*s+x*d+w*m,t[5]=b*r+_*u+x*p+w*v,t[6]=b*o+_*l+x*h+w*g,t[7]=b*a+_*c+x*f+w*y,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*i+_*s+x*d+w*m,t[9]=b*r+_*u+x*p+w*v,t[10]=b*o+_*l+x*h+w*g,t[11]=b*a+_*c+x*f+w*y,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*i+_*s+x*d+w*m,t[13]=b*r+_*u+x*p+w*v,t[14]=b*o+_*l+x*h+w*g,t[15]=b*a+_*c+x*f+w*y,t},r.mul=r.multiply,r.translate=function(t,e,n){var i,r,o,a,s,u,l,c,d,p,h,f,m=n[0],v=n[1],g=n[2];return e===t?(t[12]=e[0]*m+e[4]*v+e[8]*g+e[12],t[13]=e[1]*m+e[5]*v+e[9]*g+e[13],t[14]=e[2]*m+e[6]*v+e[10]*g+e[14],t[15]=e[3]*m+e[7]*v+e[11]*g+e[15]):(i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],p=e[9],h=e[10],f=e[11],t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=d,t[9]=p,t[10]=h,t[11]=f,t[12]=i*m+s*v+d*g+e[12],t[13]=r*m+u*v+p*g+e[13],t[14]=o*m+l*v+h*g+e[14],t[15]=a*m+c*v+f*g+e[15]),t},r.scale=function(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.rotate=function(t,e,n,r){var o,a,s,u,l,c,d,p,h,f,m,v,g,y,b,_,x,w,E,M,S,C,T,R,P=r[0],I=r[1],D=r[2],A=Math.sqrt(P*P+I*I+D*D);return Math.abs(A)<i.EPSILON?null:(A=1/A,P*=A,I*=A,D*=A,o=Math.sin(n),a=Math.cos(n),s=1-a,u=e[0],l=e[1],c=e[2],d=e[3],p=e[4],h=e[5],f=e[6],m=e[7],v=e[8],g=e[9],y=e[10],b=e[11],_=P*P*s+a,x=I*P*s+D*o,w=D*P*s-I*o,E=P*I*s-D*o,M=I*I*s+a,S=D*I*s+P*o,C=P*D*s+I*o,T=I*D*s-P*o,R=D*D*s+a,t[0]=u*_+p*x+v*w,t[1]=l*_+h*x+g*w,t[2]=c*_+f*x+y*w,t[3]=d*_+m*x+b*w,t[4]=u*E+p*M+v*S,t[5]=l*E+h*M+g*S,t[6]=c*E+f*M+y*S,t[7]=d*E+m*M+b*S,t[8]=u*C+p*T+v*R,t[9]=l*C+h*T+g*R,t[10]=c*C+f*T+y*R,t[11]=d*C+m*T+b*R,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},r.rotateX=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],d=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+l*i,t[5]=a*r+c*i,t[6]=s*r+d*i,t[7]=u*r+p*i,t[8]=l*r-o*i,t[9]=c*r-a*i,t[10]=d*r-s*i,t[11]=p*r-u*i,t},r.rotateY=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],d=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r-l*i,t[1]=a*r-c*i,t[2]=s*r-d*i,t[3]=u*r-p*i,t[8]=o*i+l*r,t[9]=a*i+c*r,t[10]=s*i+d*r,t[11]=u*i+p*r,t},r.rotateZ=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],d=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+l*i,t[1]=a*r+c*i,t[2]=s*r+d*i,t[3]=u*r+p*i,t[4]=l*r-o*i,t[5]=c*r-a*i,t[6]=d*r-s*i,t[7]=p*r-u*i,t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotation=function(t,e,n){var r,o,a,s=n[0],u=n[1],l=n[2],c=Math.sqrt(s*s+u*u+l*l);return Math.abs(c)<i.EPSILON?null:(c=1/c,s*=c,u*=c,l*=c,r=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=u*s*a+l*r,t[2]=l*s*a-u*r,t[3]=0,t[4]=s*u*a-l*r,t[5]=u*u*a+o,t[6]=l*u*a+s*r,t[7]=0,t[8]=s*l*a+u*r,t[9]=u*l*a-s*r,t[10]=l*l*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},r.fromXRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromYRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromZRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotationTranslation=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=i+i,u=r+r,l=o+o,c=i*s,d=i*u,p=i*l,h=r*u,f=r*l,m=o*l,v=a*s,g=a*u,y=a*l;return t[0]=1-(h+m),t[1]=d+y,t[2]=p-g,t[3]=0,t[4]=d-y,t[5]=1-(c+m),t[6]=f+v,t[7]=0,t[8]=p+g,t[9]=f-v,t[10]=1-(c+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},r.fromRotationTranslationScale=function(t,e,n,i){var r=e[0],o=e[1],a=e[2],s=e[3],u=r+r,l=o+o,c=a+a,d=r*u,p=r*l,h=r*c,f=o*l,m=o*c,v=a*c,g=s*u,y=s*l,b=s*c,_=i[0],x=i[1],w=i[2];return t[0]=(1-(f+v))*_,t[1]=(p+b)*_,t[2]=(h-y)*_,t[3]=0,t[4]=(p-b)*x,t[5]=(1-(d+v))*x,t[6]=(m+g)*x,t[7]=0,t[8]=(h+y)*w,t[9]=(m-g)*w,t[10]=(1-(d+f))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},r.fromRotationTranslationScaleOrigin=function(t,e,n,i,r){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,d=s+s,p=o*l,h=o*c,f=o*d,m=a*c,v=a*d,g=s*d,y=u*l,b=u*c,_=u*d,x=i[0],w=i[1],E=i[2],M=r[0],S=r[1],C=r[2];return t[0]=(1-(m+g))*x,t[1]=(h+_)*x,t[2]=(f-b)*x,t[3]=0,t[4]=(h-_)*w,t[5]=(1-(p+g))*w,t[6]=(v+y)*w,t[7]=0,t[8]=(f+b)*E,t[9]=(v-y)*E,t[10]=(1-(p+m))*E,t[11]=0,t[12]=n[0]+M-(t[0]*M+t[4]*S+t[8]*C),t[13]=n[1]+S-(t[1]*M+t[5]*S+t[9]*C),t[14]=n[2]+C-(t[2]*M+t[6]*S+t[10]*C),t[15]=1,t},r.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,u=r+r,l=n*a,c=i*a,d=i*s,p=r*a,h=r*s,f=r*u,m=o*a,v=o*s,g=o*u;return t[0]=1-d-f,t[1]=c+g,t[2]=p-v,t[3]=0,t[4]=c-g,t[5]=1-l-f,t[6]=h+m,t[7]=0,t[8]=p+v,t[9]=h-m,t[10]=1-l-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.frustum=function(t,e,n,i,r,o,a){var s=1/(n-e),u=1/(r-i),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(r+i)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t},r.perspective=function(t,e,n,i,r){var o=1/Math.tan(e/2),a=1/(i-r);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*a,t[15]=0,t},r.perspectiveFromFieldOfView=function(t,e,n,i){var r=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(r+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((a-s)*u*.5),t[9]=(r-o)*l*.5,t[10]=i/(n-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*n/(n-i),t[15]=0,t},r.ortho=function(t,e,n,i,r,o,a){var s=1/(e-n),u=1/(i-r),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*u,t[14]=(a+o)*l,t[15]=1,t},r.lookAt=function(t,e,n,o){var a,s,u,l,c,d,p,h,f,m,v=e[0],g=e[1],y=e[2],b=o[0],_=o[1],x=o[2],w=n[0],E=n[1],M=n[2];return Math.abs(v-w)<i.EPSILON&&Math.abs(g-E)<i.EPSILON&&Math.abs(y-M)<i.EPSILON?r.identity(t):(p=v-w,h=g-E,f=y-M,m=1/Math.sqrt(p*p+h*h+f*f),p*=m,h*=m,f*=m,a=_*f-x*h,s=x*p-b*f,u=b*h-_*p,m=Math.sqrt(a*a+s*s+u*u),m?(m=1/m,a*=m,s*=m,u*=m):(a=0,s=0,u=0),l=h*u-f*s,c=f*a-p*u,d=p*s-h*a,m=Math.sqrt(l*l+c*c+d*d),m?(m=1/m,l*=m,c*=m,d*=m):(l=0,c=0,d=0),t[0]=a,t[1]=l,t[2]=p,t[3]=0,t[4]=s,t[5]=c,t[6]=h,t[7]=0,t[8]=u,t[9]=d,t[10]=f,t[11]=0,t[12]=-(a*v+s*g+u*y),t[13]=-(l*v+c*g+d*y),t[14]=-(p*v+h*g+f*y),t[15]=1,t)},r.str=function(t){return\"mat4(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\", \"+t[9]+\", \"+t[10]+\", \"+t[11]+\", \"+t[12]+\", \"+t[13]+\", \"+t[14]+\", \"+t[15]+\")\"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.exports=r},{\"./common.js\":47}],52:[function(t,e,n){var i=t(\"./common.js\"),r=t(\"./mat3.js\"),o=t(\"./vec3.js\"),a=t(\"./vec4.js\"),s={};s.create=function(){var t=new i.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(i,r,a){var u=o.dot(r,a);return-.999999>u?(o.cross(t,e,r),o.length(t)<1e-6&&o.cross(t,n,r),o.normalize(t,t),s.setAxisAngle(i,t,Math.PI),i):u>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(o.cross(t,r,a),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1+u,s.normalize(i,i))}}(),s.setAxes=function(){var t=r.create();return function(e,n,i,r){return t[0]=i[0],t[3]=i[1],t[6]=i[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,n){n=.5*n;var i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t},s.add=a.add,s.multiply=function(t,e,n){\nvar i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=i*c+a*s+r*l-o*u,t[1]=r*c+a*u+o*s-i*l,t[2]=o*c+a*l+i*u-r*s,t[3]=a*c-i*s-r*u-o*l,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u+a*s,t[1]=r*u+o*s,t[2]=o*u-r*s,t[3]=a*u-i*s,t},s.rotateY=function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u-o*s,t[1]=r*u+a*s,t[2]=o*u+i*s,t[3]=a*u-r*s,t},s.rotateZ=function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u+r*s,t[1]=r*u-i*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},s.calculateW=function(t,e){var n=e[0],i=e[1],r=e[2];return t[0]=n,t[1]=i,t[2]=r,t[3]=Math.sqrt(Math.abs(1-n*n-i*i-r*r)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,n,i){var r,o,a,s,u,l=e[0],c=e[1],d=e[2],p=e[3],h=n[0],f=n[1],m=n[2],v=n[3];return o=l*h+c*f+d*m+p*v,0>o&&(o=-o,h=-h,f=-f,m=-m,v=-v),1-o>1e-6?(r=Math.acos(o),a=Math.sin(r),s=Math.sin((1-i)*r)/a,u=Math.sin(i*r)/a):(s=1-i,u=i),t[0]=s*l+u*h,t[1]=s*c+u*f,t[2]=s*d+u*m,t[3]=s*p+u*v,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(n,i,r,o,a,u){return s.slerp(t,i,a,u),s.slerp(e,r,o,u),s.slerp(n,t,e,2*u*(1-u)),n}}(),s.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-i*s,t[2]=-r*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var n,i=e[0]+e[4]+e[8];if(i>0)n=Math.sqrt(i+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,a=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*a+a]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+r]+e[3*r+o])*n,t[a]=(e[3*a+r]+e[3*r+a])*n}return t},s.str=function(t){return\"quat(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},e.exports=s},{\"./common.js\":47,\"./mat3.js\":50,\"./vec3.js\":54,\"./vec4.js\":55}],53:[function(t,e,n){var i=t(\"./common.js\"),r={};r.create=function(){var t=new i.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var e=new i.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},r.fromValues=function(t,e){var n=new i.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},r.set=function(t,e,n){return t[0]=e,t[1]=n,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},r.div=r.divide,r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},r.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},r.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},r.normalize=function(t,e){var n=e[0],i=e[1],r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.cross=function(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t},r.lerp=function(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t},r.random=function(t,e){e=e||1;var n=2*i.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},r.transformMat2=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t},r.transformMat2d=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},r.transformMat3=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t},r.transformMat4=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t},r.forEach=function(){var t=r.create();return function(e,n,i,r,o,a){var s,u;for(n||(n=2),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,s=i;u>s;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),r.str=function(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"},e.exports=r},{\"./common.js\":47}],54:[function(t,e,n){var i=t(\"./common.js\"),r={};r.create=function(){var t=new i.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},r.clone=function(t){var e=new i.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},r.fromValues=function(t,e,n){var r=new i.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},r.set=function(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},r.div=r.divide,r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},r.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t},r.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},r.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},r.cross=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=r*u-o*s,t[1]=o*a-i*u,t[2]=i*s-r*a,t},r.lerp=function(t,e,n,i){var r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t},r.hermite=function(t,e,n,i,r,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+i[0]*l+r[0]*c,t[1]=e[1]*s+n[1]*u+i[1]*l+r[1]*c,t[2]=e[2]*s+n[2]*u+i[2]*l+r[2]*c,t},r.bezier=function(t,e,n,i,r,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,d=3*u*a,p=u*o;return t[0]=e[0]*l+n[0]*c+i[0]*d+r[0]*p,t[1]=e[1]*l+n[1]*c+i[1]*d+r[1]*p,t[2]=e[2]*l+n[2]*c+i[2]*d+r[2]*p,t},r.random=function(t,e){e=e||1;var n=2*i.RANDOM()*Math.PI,r=2*i.RANDOM()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t},r.transformMat4=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t},r.transformMat3=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t},r.transformQuat=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*i+s*o-u*r,d=l*r+u*i-a*o,p=l*o+a*r-s*i,h=-a*i-s*r-u*o;return t[0]=c*l+h*-a+d*-u-p*-s,t[1]=d*l+h*-s+p*-a-c*-u,t[2]=p*l+h*-u+c*-s-d*-a,t},r.rotateX=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},r.rotateY=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},r.rotateZ=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},r.forEach=function(){var t=r.create();return function(e,n,i,r,o,a){var s,u;for(n||(n=3),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,s=i;u>s;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),r.angle=function(t,e){var n=r.fromValues(t[0],t[1],t[2]),i=r.fromValues(e[0],e[1],e[2]);r.normalize(n,n),r.normalize(i,i);var o=r.dot(n,i);return o>1?0:Math.acos(o)},r.str=function(t){return\"vec3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},e.exports=r},{\"./common.js\":47}],55:[function(t,e,n){var i=t(\"./common.js\"),r={};r.create=function(){var t=new i.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},r.clone=function(t){var e=new i.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.fromValues=function(t,e,n,r){var o=new i.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.set=function(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},r.div=r.divide,r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},r.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t},r.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+i*i+r*r+o*o)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return n*n+i*i+r*r+o*o},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.sqrt(e*e+n*n+i*i+r*r)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return e*e+n*n+i*i+r*r},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},r.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=i*a,t[2]=r*a,t[3]=o*a),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},r.lerp=function(t,e,n,i){var r=e[0],o=e[1],a=e[2],s=e[3];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t[3]=s+i*(n[3]-s),t},r.random=function(t,e){return e=e||1,t[0]=i.RANDOM(),t[1]=i.RANDOM(),t[2]=i.RANDOM(),t[3]=i.RANDOM(),r.normalize(t,t),r.scale(t,t,e),t},r.transformMat4=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,t},r.transformQuat=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*i+s*o-u*r,d=l*r+u*i-a*o,p=l*o+a*r-s*i,h=-a*i-s*r-u*o;return t[0]=c*l+h*-a+d*-u-p*-s,t[1]=d*l+h*-s+p*-a-c*-u,t[2]=p*l+h*-u+c*-s-d*-a,t[3]=e[3],t},r.forEach=function(){var t=r.create();return function(e,n,i,r,o,a){var s,u;for(n||(n=4),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,s=i;u>s;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),r.str=function(t){return\"vec4(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},e.exports=r},{\"./common.js\":47}],56:[function(t,e,n){function i(t,e,n,i){i?(e(i),n&&n(i)):(t(s),n&&n(void 0,s))}var r,o=t(\"scriptjs\"),a=t(\"promise\"),s=null,u=[];window.$$mapsCB=function(){s=google.maps;for(var t=0,e=u.length;e>t;t++)i.apply(void 0,u[t])},e.exports=function(t,e,n){return r=t||r,\"function\"==typeof e&&(n=e,e=[]),function(){return new a(function(t,a){if(r){if(s)i(t,a,n);else if(u.push([t,a,n]),1==u.length){var l=\"\";\"string\"==typeof r?l=\"&key=\"+r:\"object\"==typeof r&&(l=\"&\"+Object.keys(r).map(function(t){return t+\"=\"+encodeURIComponent(r[t])}).join(\"&\"));var c=\"https://maps.googleapis.com/maps/api/js?v=3.20&callback=$$mapsCB\"+l;Array.isArray(e)&&e.length>0&&(c+=\"&libraries=\"+e.join(\",\")),o(c)}}else i(t,a,n,new Error(\"No API key passed to require('google-maps-api')\"))})}}},{promise:58,scriptjs:310}],57:[function(t,e,n){(function(t){function n(){for(;r.next;){r=r.next;var t=r.task;r.task=void 0;var e=r.domain;e&&(r.domain=void 0,e.enter());try{t()}catch(i){if(u)throw e&&e.exit(),setTimeout(n,0),e&&e.enter(),i;setTimeout(function(){throw i},0)}e&&e.exit()}a=!1}function i(e){o=o.next={task:e,domain:u&&t.domain,next:null},a||(a=!0,s())}var r={task:void 0,next:null},o=r,a=!1,s=void 0,u=!1;if(\"undefined\"!=typeof t&&t.nextTick)u=!0,s=function(){t.nextTick(n)};else if(\"function\"==typeof setImmediate)s=\"undefined\"!=typeof window?setImmediate.bind(window,n):function(){setImmediate(n)};else if(\"undefined\"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=n,s=function(){l.port2.postMessage(0)}}else s=function(){setTimeout(n,0)};e.exports=i}).call(this,t(\"_process\"))},{_process:171}],58:[function(t,e,n){\"use strict\";e.exports=t(\"./lib/core.js\"),t(\"./lib/done.js\"),t(\"./lib/es6-extensions.js\"),t(\"./lib/node-extensions.js\")},{\"./lib/core.js\":59,\"./lib/done.js\":60,\"./lib/es6-extensions.js\":61,\"./lib/node-extensions.js\":62}],59:[function(t,e,n){\"use strict\";function i(t){function e(t){return null===u?void c.push(t):void a(function(){var e=u?t.onFulfilled:t.onRejected;if(null===e)return void(u?t.resolve:t.reject)(l);var n;try{n=e(l)}catch(i){return void t.reject(i)}t.resolve(n)})}function n(t){try{if(t===d)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var e=t.then;if(\"function\"==typeof e)return void o(e.bind(t),n,i)}u=!0,l=t,s()}catch(r){i(r)}}function i(t){u=!1,l=t,s()}function s(){for(var t=0,n=c.length;n>t;t++)e(c[t]);c=null}if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof t)throw new TypeError(\"not a function\");var u=null,l=null,c=[],d=this;this.then=function(t,n){return new d.constructor(function(i,o){e(new r(t,n,i,o))})},o(t,n,i)}function r(t,e,n,i){this.onFulfilled=\"function\"==typeof t?t:null,this.onRejected=\"function\"==typeof e?e:null,this.resolve=n,this.reject=i}function o(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}var a=t(\"asap\");e.exports=i},{asap:57}],60:[function(t,e,n){\"use strict\";var i=t(\"./core.js\"),r=t(\"asap\");e.exports=i,i.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(t){r(function(){throw t})})}},{\"./core.js\":59,asap:57}],61:[function(t,e,n){\"use strict\";function i(t){this.then=function(e){return\"function\"!=typeof e?this:new r(function(n,i){o(function(){try{n(e(t))}catch(r){i(r)}})})}}var r=t(\"./core.js\"),o=t(\"asap\");e.exports=r,i.prototype=r.prototype;var a=new i(!0),s=new i(!1),u=new i(null),l=new i(void 0),c=new i(0),d=new i(\"\");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return u;if(void 0===t)return l;if(t===!0)return a;if(t===!1)return s;if(0===t)return c;if(\"\"===t)return d;if(\"object\"==typeof t||\"function\"==typeof t)try{var e=t.then;if(\"function\"==typeof e)return new r(e.bind(t))}catch(n){return new r(function(t,e){e(n)})}return new i(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function i(o,a){try{if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var s=a.then;if(\"function\"==typeof s)return void s.call(a,function(t){i(o,t)},n)}e[o]=a,0===--r&&t(e)}catch(u){n(u)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.forEach(function(t){r.resolve(t).then(e,n)})})},r.prototype[\"catch\"]=function(t){return this.then(null,t)}},{\"./core.js\":59,asap:57}],62:[function(t,e,n){\"use strict\";var i=t(\"./core.js\"),r=t(\"asap\");e.exports=i,i.denodeify=function(t,e){return e=e||1/0,function(){var n=this,r=Array.prototype.slice.call(arguments);return new i(function(i,o){for(;r.length&&r.length>e;)r.pop();r.push(function(t,e){t?o(t):i(e)});var a=t.apply(n,r);!a||\"object\"!=typeof a&&\"function\"!=typeof a||\"function\"!=typeof a.then||i(a)})}},i.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n=\"function\"==typeof e[e.length-1]?e.pop():null,o=this;try{return t.apply(this,arguments).nodeify(n,o)}catch(a){if(null===n||\"undefined\"==typeof n)return new i(function(t,e){e(a)});r(function(){n.call(o,a)})}}},i.prototype.nodeify=function(t,e){return\"function\"!=typeof t?this:void this.then(function(n){r(function(){t.call(e,null,n)})},function(n){r(function(){t.call(e,n)})})}},{\"./core.js\":59,asap:57}],63:[function(t,e,n){n.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?r-1:0,p=n?-1:1,h=t[e+d];for(d+=p,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+t[e+d],d+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+d],d+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,i),o-=l}return(h?-1:1)*a*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var a,s,u,l=8*o-r-1,c=(1<<l)-1,d=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,f=i?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+d>=1?p/u:p*Math.pow(2,1-d),e*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(e*u-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[n+h]=255&s,h+=f,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[n+h]=255&a,h+=f,a/=256,l-=8);t[n+h-f]|=128*m}},{}],64:[function(t,e,n){\"function\"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],65:[function(t,e,n){\"use strict\";function i(t){return function(){return t}}function r(t,e,n){return t*(1-n)+e*n}function o(t,e,n){for(var i=[],o=0;o<t.length;o++)i[o]=r(t[o],e[o],n);return i}n.interpolated=function(t){if(!t.stops)return i(t);var e=t.stops,n=t.base||1,a=Array.isArray(e[0][1])?o:r;return function(t){for(var i,r,o=0;o<e.length;o++){var s=e[o];if(s[0]<=t&&(i=s),s[0]>t){r=s;break}}if(i&&r){var u=r[0]-i[0],l=t-i[0],c=1===n?l/u:(Math.pow(n,l)-1)/(Math.pow(n,u)-1);return a(i[1],r[1],c)}return i?i[1]:r?r[1]:void 0}},n[\"piecewise-constant\"]=function(t){if(!t.stops)return i(t);var e=t.stops;return function(t){for(var n=0;n<e.length;n++)if(e[n][0]>t)return e[0===n?0:n-1][1];return e[e.length-1][1]}}},{}],66:[function(t,e,n){\"use strict\";var i=t(\"../../reference/latest.min.js\"),r=t(\"./parsed\");e.exports=function(t){return r(t,i)}},{\"../../reference/latest.min.js\":69,\"./parsed\":67}],67:[function(t,e,n){\"use strict\";function i(t){return t instanceof Number?\"number\":t instanceof String?\"string\":t instanceof Boolean?\"boolean\":Array.isArray(t)?\"array\":null===t?\"null\":typeof t}function r(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}var o=t(\"csscolorparser\").parseCSSColor,a=t(\"util\").format;e.exports=function(t,e){function n(t,e){var n={message:(t?t+\": \":\"\")+a.apply(a,Array.prototype.slice.call(arguments,2))};null!==e&&void 0!==e&&e.__line__&&(n.line=e.__line__),d.push(n)}function s(t,r,o){var a=i(r);if(\"string\"===a&&\"@\"===r[0]){if(e.$version>7)return n(t,r,\"constants have been deprecated as of v8\");if(!(r in l))return n(t,r,'constant \"%s\" not found',r);r=l[r],a=i(r)}if(o[\"function\"]&&\"object\"===a)return s[\"function\"](t,r,o);if(o.type){var u=s[o.type];if(u)return u(t,r,o);o=e[o.type]}s.object(t,r,o)}function u(t){return function(e,r,o){var a=i(r);a!==t&&n(e,r,\"%s expected, %s found\",t,a),\"minimum\"in o&&r<o.minimum&&n(e,r,\"%s is less than the minimum value %s\",r,o.minimum),\"maximum\"in o&&r>o.maximum&&n(e,r,\"%s is greater than the maximum value %s\",r,o.maximum)}}var l=t.constants||{},c={},d=[];return s.constants=function(t,r){if(e.$version>7){if(r)return n(t,r,\"constants have been deprecated as of v8\")}else{var o=i(r);if(\"object\"!==o)return n(t,r,\"object expected, %s found\",o);for(var a in r)\"@\"!==a[0]&&n(t+\".\"+a,r[a],'constants must start with \"@\"')}},s.source=function(t,i){if(!i.type)return void n(t,i,'\"type\" is required');var o=r(i.type);switch(o){case\"vector\":case\"raster\":if(s.object(t,i,e.source_tile),\"url\"in i)for(var a in i)[\"type\",\"url\",\"tileSize\"].indexOf(a)<0&&n(t+\".\"+a,i[a],'a source with a \"url\" property may not include a \"%s\" property',a);break;case\"geojson\":s.object(t,i,e.source_geojson);break;case\"video\":s.object(t,i,e.source_video);break;case\"image\":s.object(t,i,e.source_image);break;default:s[\"enum\"](t+\".type\",i.type,{values:[\"vector\",\"raster\",\"geojson\",\"video\",\"image\"]})}},s.layer=function(i,o){o.type||o.ref||n(i,o,'either \"type\" or \"ref\" is required');var a=r(o.type),u=r(o.ref);if(o.id&&(c[o.id]?n(i,o.id,'duplicate layer id \"%s\", previously used at line %d',o.id,c[o.id]):c[o.id]=o.id.__line__),\"ref\"in o){[\"type\",\"source\",\"source-layer\",\"filter\",\"layout\"].forEach(function(t){t in o&&n(i,o[t],'\"%s\" is prohibited for ref layers',t)});var l;t.layers.forEach(function(t){t.id==u&&(l=t)}),l?l.ref?n(i,o.ref,\"ref cannot reference another ref layer\"):a=l.type:n(i,o.ref,'ref layer \"%s\" not found',u)}else if(\"background\"!==a)if(o.source){var d=t.sources[o.source];d?\"vector\"==d.type&&\"raster\"==a?n(i,o.source,'layer \"%s\" requires a raster source',o.id):\"raster\"==d.type&&\"raster\"!=a?n(i,o.source,'layer \"%s\" requires a vector source',o.id):\"vector\"!=d.type||o[\"source-layer\"]||n(i,o,'layer \"%s\" must specify a \"source-layer\"',o.id):n(i,o.source,'source \"%s\" not found',o.source)}else n(i,o,'missing required property \"source\"');s.object(i,o,e.layer,{filter:s.filter,layout:function(t,n){var i=e[\"layout_\"+a];return a&&i&&s(t,n,i)},paint:function(t,n){var i=e[\"paint_\"+a];return a&&i&&s(t,n,i)}})},s.object=function(t,r,o,a){a=a||{};var u=i(r);if(\"object\"!==u)return n(t,r,\"object expected, %s found\",u);for(var l in r){var c=l.split(\".\")[0],d=o[c]||o[\"*\"],p=c.match(/^(.*)-transition$/);d?(a[c]||s)((t?t+\".\":t)+l,r[l],d):p&&o[p[1]]&&o[p[1]].transition?s((t?t+\".\":t)+l,r[l],e.transition):\"\"!==t&&1!==t.split(\".\").length&&n(t,r[l],'unknown property \"%s\"',l)}for(var h in o)o[h].required&&void 0===o[h][\"default\"]&&void 0===r[h]&&n(t,r,'missing required property \"%s\"',h)},s.array=function(e,r,o,a){if(\"array\"!==i(r))return n(e,r,\"array expected, %s found\",i(r));if(o.length&&r.length!==o.length)return n(e,r,\"array length %d expected, length %d found\",o.length,r.length);if(o[\"min-length\"]&&r.length<o[\"min-length\"])return n(e,r,\"array length at least %d expected, length %d found\",o[\"min-length\"],r.length);var u={type:o.value};t.version<7&&(u[\"function\"]=o[\"function\"]),\"object\"===i(o.value)&&(u=o.value);for(var l=0;l<r.length;l++)(a||s)(e+\"[\"+l+\"]\",r[l],u)},s.filter=function(t,o){var a;if(\"array\"!==i(o))return n(t,o,\"array expected, %s found\",i(o));if(o.length<1)return n(t,o,\"filter array must have at least 1 element\");switch(s[\"enum\"](t+\"[0]\",o[0],e.filter_operator),r(o[0])){case\"<\":case\"<=\":case\">\":case\">=\":o.length>=2&&\"$type\"==o[1]&&n(t,o,'\"$type\" cannot be use with operator \"%s\"',o[0]);case\"==\":case\"!=\":3!=o.length&&n(t,o,'filter array for operator \"%s\" must have 3 elements',o[0]);case\"in\":case\"!in\":o.length>=2&&(a=i(o[1]),\"string\"!==a?n(t+\"[1]\",o[1],\"string expected, %s found\",a):\"@\"===o[1][0]&&n(t+\"[1]\",o[1],\"filter key cannot be a constant\"));for(var u=2;u<o.length;u++)a=i(o[u]),\"$type\"==o[1]?s[\"enum\"](t+\"[\"+u+\"]\",o[u],e.geometry_type):\"string\"===a&&\"@\"===o[u][0]?n(t+\"[\"+u+\"]\",o[u],\"filter value cannot be a constant\"):\"string\"!==a&&\"number\"!==a&&\"boolean\"!==a&&n(t+\"[\"+u+\"]\",o[u],\"string, number, or boolean expected, %s found\",a);break;case\"any\":case\"all\":case\"none\":for(u=1;u<o.length;u++)s.filter(t+\"[\"+u+\"]\",o[u])}},s[\"function\"]=function(t,r,o){s.object(t,r,e[\"function\"],{stops:function(t,e,r){var a=-(1/0);s.array(t,e,r,function(t,e){return\"array\"!==i(e)?n(t,e,\"array expected, %s found\",i(e)):2!==e.length?n(t,e,\"array length %d expected, length %d found\",2,e.length):(s(t+\"[0]\",e[0],{type:\"number\"}),s(t+\"[1]\",e[1],o),void(\"number\"===i(e[0])&&(\"piecewise-constant\"===o[\"function\"]&&e[0]%1!==0&&n(t+\"[0]\",e[0],\"zoom level for piecewise-constant functions must be an integer\"),e[0]<a&&n(t+\"[0]\",e[0],\"array stops must appear in ascending order\"),a=e[0])))}),\"array\"===i(e)&&0===e.length&&n(t,e,\"array must have at least one stop\")}})},s[\"enum\"]=function(t,e,i){-1===i.values.indexOf(r(e))&&n(t,e,\"expected one of [%s], %s found\",i.values.join(\", \"),e)},s.color=function(t,e){var r=i(e);return\"string\"!==r?n(t,e,\"color expected, %s found\",r):null===o(e)?n(t,e,'color expected, \"%s\" found',e):void 0},s.number=u(\"number\"),s.string=u(\"string\"),s[\"boolean\"]=u(\"boolean\"),s[\"*\"]=function(){},s(\"\",t,e.$root),e.$version>7&&t.constants&&s.constants(\"constants\",t.constants),d.sort(function(t,e){return t.line-e.line}),d}},{csscolorparser:9,util:320}],68:[function(t,e,n){e.exports=t(\"./v8.json\")},{\"./v8.json\":70}],69:[function(t,e,n){e.exports=t(\"./v8.min.json\")},{\"./v8.min.json\":71}],70:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:\"enum\",values:[8],doc:\"Stylesheet version number. Must be 8.\",example:8},name:{type:\"string\",doc:\"A human-readable name for the style.\",example:\"Bright\"},metadata:{type:\"*\",doc:\"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'.\"},center:{type:\"array\",value:\"number\",doc:\"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).\",example:[-73.9749,40.7736]},zoom:{type:\"number\",doc:\"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).\",example:12.5},bearing:{type:\"number\",\"default\":0,period:360,units:\"degrees\",doc:\"Default bearing, in degrees.  The style bearing will be used only if the map has not been positioned by other means (e.g. map options or user interaction).\",example:29},pitch:{type:\"number\",\"default\":0,units:\"degrees\",doc:\"Default pitch, in degrees. Zero is perpendicular to the surface.  The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).\",example:50},sources:{required:!0,type:\"sources\",doc:\"Data source specifications.\",example:{\"mapbox-streets\":{type:\"vector\",url:\"mapbox://mapbox.mapbox-streets-v6\"}}},sprite:{type:\"string\",doc:\"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended.\",example:\"mapbox://sprites/mapbox/bright-v8\"},glyphs:{type:\"string\",doc:\"A URL template for loading signed-distance-field glyph sets in PBF format. Valid tokens are {fontstack} and {range}.\",example:\"mapbox://fonts/mapbox/{fontstack}/{range}.pbf\"},transition:{type:\"transition\",doc:\"A global transition definition to use as a default across properties.\",example:{duration:300,delay:0}},layers:{required:!0,type:\"array\",value:\"layer\",doc:\"Layers will be drawn in the order of this array.\",example:[{id:\"water\",source:\"mapbox-streets\",\"source-layer\":\"water\",type:\"fill\",paint:{\"fill-color\":\"#00ffff\"}}]}},sources:{\"*\":{type:\"source\",doc:\"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For GeoJSON and video sources, a URL must be provided.\"}},source:[\"source_tile\",\"source_geojson\",\"source_video\",\"source_image\"],source_tile:{type:{required:!0,type:\"enum\",values:[\"vector\",\"raster\"],doc:\"The data type of the tile source.\"},url:{type:\"string\",doc:\"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`.\"},tiles:{type:\"array\",value:\"string\",doc:\"An array of one or more tile source URLs, as in the TileJSON spec.\"},minzoom:{type:\"number\",\"default\":0,doc:\"Minimum zoom level for which tiles are available, as in the TileJSON spec.\"},maxzoom:{type:\"number\",\"default\":22,doc:\"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels.\"},tileSize:{type:\"number\",\"default\":512,units:\"pixels\",doc:\"The minimum visual size to display tiles for this layer. Only configurable for raster layers.\"},\"*\":{type:\"*\",doc:\"Other keys to configure the data source.\"}},source_geojson:{type:{required:!0,type:\"enum\",values:[\"geojson\"],doc:\"The data type of the GeoJSON source.\"},data:{type:\"*\",doc:\"A URL to a GeoJSON file, or inline GeoJSON.\"},maxzoom:{type:\"number\",\"default\":14,doc:\"Maximum zoom to preserve detail at.\"},buffer:{type:\"number\",\"default\":64,doc:\"Tile buffer on each side.\"},tolerance:{type:\"number\",\"default\":3,doc:\"Simplification tolerance (higher means simpler).\"}},source_video:{type:{required:!0,type:\"enum\",values:[\"video\"],doc:\"The data type of the video source.\"},urls:{required:!0,type:\"array\",value:\"string\",doc:\"URLs to video content in order of preferred format.\"},coordinates:{required:!0,doc:\"Corners of video specified in longitude, latitude pairs.\",type:\"array\",length:4,value:{type:\"array\",length:2,value:\"number\",doc:\"A single longitude, latitude pair.\"}}},source_image:{type:{required:!0,type:\"enum\",values:[\"image\"],doc:\"The data type of the image source.\"},url:{required:!0,type:\"string\",doc:\"URL that points to an image\"},coordinates:{required:!0,doc:\"Corners of image specified in longitude, latitude pairs.\",type:\"array\",length:4,value:{type:\"array\",length:2,value:\"number\",doc:\"A single longitude, latitude pair.\"}}},layer:{id:{type:\"string\",doc:\"Unique layer name.\"},type:{type:\"enum\",values:[\"fill\",\"line\",\"symbol\",\"circle\",\"raster\",\"background\"],doc:\"Rendering type of this layer.\"},metadata:{type:\"*\",doc:\"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'.\"},ref:{type:\"string\",doc:\"References another layer to copy `type`, `source`, `source-layer`, `minzoom`, `maxzoom`, `filter`, and `layout` properties from. This allows the layers to share processing and be more efficient.\"},source:{type:\"string\",doc:\"Name of a source description to be used for this layer.\"},\"source-layer\":{type:\"string\",doc:\"Layer to use from a vector tile source. Required if the source supports multiple layers.\"},minzoom:{type:\"number\",minimum:0,maximum:22,doc:\"The minimum zoom level on which the layer gets parsed and appears on.\"},maxzoom:{type:\"number\",minimum:0,maximum:22,doc:\"The maximum zoom level on which the layer gets parsed and appears on.\"},interactive:{type:\"boolean\",doc:\"Enable querying of feature data from this layer for interactivity.\",\"default\":!1},filter:{type:\"filter\",doc:\"A expression specifying conditions on source features. Only features that match the filter are displayed.\"\n},layout:{type:\"layout\",doc:\"Layout properties for the layer.\"},paint:{type:\"paint\",doc:\"Default paint properties for this layer.\"},\"paint.*\":{type:\"paint\",doc:\"Class-specific paint properties for this layer. The class name is the part after the first dot.\"}},layout:[\"layout_fill\",\"layout_line\",\"layout_circle\",\"layout_symbol\",\"layout_raster\",\"layout_background\"],layout_background:{visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\",doc:\"The display of this layer. `none` hides this layer.\"}},layout_fill:{visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\",doc:\"The display of this layer. `none` hides this layer.\"}},layout_circle:{visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\",doc:\"The display of this layer. `none` hides this layer.\"}},layout_line:{\"line-cap\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"butt\",\"round\",\"square\"],\"default\":\"butt\",doc:\"The display of line endings.\"},\"line-join\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"bevel\",\"round\",\"miter\"],\"default\":\"miter\",doc:\"The display of lines when joining.\"},\"line-miter-limit\":{type:\"number\",\"default\":2,\"function\":\"interpolated\",doc:\"Used to automatically convert miter joins to bevel joins for sharp angles.\",requires:[{\"line-join\":\"miter\"}]},\"line-round-limit\":{type:\"number\",\"default\":1.05,\"function\":\"interpolated\",doc:\"Used to automatically convert round joins to miter joins for shallow angles.\",requires:[{\"line-join\":\"round\"}]},visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\",doc:\"The display of this layer. `none` hides this layer.\"}},layout_symbol:{\"symbol-placement\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"point\",\"line\"],\"default\":\"point\",doc:\"Label placement relative to its geometry. `line` can only be used on LineStrings and Polygons.\"},\"symbol-spacing\":{type:\"number\",\"default\":250,minimum:1,\"function\":\"interpolated\",units:\"pixels\",doc:\"Distance between two symbol anchors.\",requires:[{\"symbol-placement\":\"line\"}]},\"symbol-avoid-edges\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,doc:\"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer.\"},\"icon-allow-overlap\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,doc:\"If true, the icon will be visible even if it collides with other previously drawn symbols.\",requires:[\"icon-image\"]},\"icon-ignore-placement\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,doc:\"If true, other symbols can be visible even if they collide with the icon.\",requires:[\"icon-image\"]},\"icon-optional\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,doc:\"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.\",requires:[\"icon-image\",\"text-field\"]},\"icon-rotation-alignment\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],\"default\":\"viewport\",doc:\"Orientation of icon when map is rotated.\",requires:[\"icon-image\"]},\"icon-size\":{type:\"number\",\"default\":1,minimum:0,\"function\":\"interpolated\",doc:\"Scale factor for icon. 1 is original size, 3 triples the size.\",requires:[\"icon-image\"]},\"icon-image\":{type:\"string\",\"function\":\"piecewise-constant\",doc:\"A string with {tokens} replaced, referencing the data property to pull from.\",tokens:!0},\"icon-rotate\":{type:\"number\",\"default\":0,period:360,\"function\":\"interpolated\",units:\"degrees\",doc:\"Rotates the icon clockwise.\",requires:[\"icon-image\"]},\"icon-padding\":{type:\"number\",\"default\":2,minimum:0,\"function\":\"interpolated\",units:\"pixels\",doc:\"Size of the additional area around the icon bounding box used for detecting symbol collisions.\",requires:[\"icon-image\"]},\"icon-keep-upright\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,doc:\"If true, the icon may be flipped to prevent it from being rendered upside-down.\",requires:[\"icon-image\",{\"icon-rotation-alignment\":\"map\"},{\"symbol-placement\":\"line\"}]},\"icon-offset\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",doc:\"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up.\",requires:[\"icon-image\"]},\"text-rotation-alignment\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],\"default\":\"viewport\",doc:\"Orientation of text when map is rotated.\",requires:[\"text-field\"]},\"text-field\":{type:\"string\",\"function\":\"piecewise-constant\",\"default\":\"\",tokens:!0,doc:\"Value to use for a text label. Feature properties are specified using tokens like {field_name}.\"},\"text-font\":{type:\"array\",value:\"string\",\"function\":\"piecewise-constant\",\"default\":[\"Open Sans Regular\",\"Arial Unicode MS Regular\"],doc:\"Font stack to use for displaying text.\",requires:[\"text-field\"]},\"text-size\":{type:\"number\",\"default\":16,minimum:0,units:\"pixels\",\"function\":\"interpolated\",doc:\"Font size.\",requires:[\"text-field\"]},\"text-max-width\":{type:\"number\",\"default\":10,minimum:0,units:\"em\",\"function\":\"interpolated\",doc:\"The maximum line width for text wrapping.\",requires:[\"text-field\"]},\"text-line-height\":{type:\"number\",\"default\":1.2,units:\"em\",\"function\":\"interpolated\",doc:\"Text leading value for multi-line text.\",requires:[\"text-field\"]},\"text-letter-spacing\":{type:\"number\",\"default\":0,units:\"em\",\"function\":\"interpolated\",doc:\"Text tracking amount.\",requires:[\"text-field\"]},\"text-justify\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"left\",\"center\",\"right\"],\"default\":\"center\",doc:\"Text justification options.\",requires:[\"text-field\"]},\"text-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"center\",\"left\",\"right\",\"top\",\"bottom\",\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"],\"default\":\"center\",doc:\"Part of the text placed closest to the anchor.\",requires:[\"text-field\"]},\"text-max-angle\":{type:\"number\",\"default\":45,units:\"degrees\",\"function\":\"interpolated\",doc:\"Maximum angle change between adjacent characters.\",requires:[\"text-field\",{\"symbol-placement\":\"line\"}]},\"text-rotate\":{type:\"number\",\"default\":0,period:360,units:\"degrees\",\"function\":\"interpolated\",doc:\"Rotates the text clockwise.\",requires:[\"text-field\"]},\"text-padding\":{type:\"number\",\"default\":2,minimum:0,units:\"pixels\",\"function\":\"interpolated\",doc:\"Size of the additional area around the text bounding box used for detecting symbol collisions.\",requires:[\"text-field\"]},\"text-keep-upright\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!0,doc:\"If true, the text may be flipped vertically to prevent it from being rendered upside-down.\",requires:[\"text-field\",{\"text-rotation-alignment\":\"map\"},{\"symbol-placement\":\"line\"}]},\"text-transform\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"none\",\"uppercase\",\"lowercase\"],\"default\":\"none\",doc:\"Specifies how to capitalize text, similar to the CSS `text-transform` property.\",requires:[\"text-field\"]},\"text-offset\":{type:\"array\",doc:\"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up.\",value:\"number\",units:\"ems\",\"function\":\"interpolated\",length:2,\"default\":[0,0],requires:[\"text-field\"]},\"text-allow-overlap\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,doc:\"If true, the text will be visible even if it collides with other previously drawn symbols.\",requires:[\"text-field\"]},\"text-ignore-placement\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,doc:\"If true, other symbols can be visible even if they collide with the text.\",requires:[\"text-field\"]},\"text-optional\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,doc:\"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.\",requires:[\"text-field\",\"icon-image\"]},visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\",doc:\"The display of this layer. `none` hides this layer.\"}},layout_raster:{visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\",doc:\"The display of this layer. `none` hides this layer.\"}},filter:{type:\"array\",value:\"*\",doc:\"A filter selects specific features from a layer.\"},filter_operator:{type:\"enum\",values:[\"==\",\"!=\",\">\",\">=\",\"<\",\"<=\",\"in\",\"!in\",\"all\",\"any\",\"none\"],doc:\"The filter operator.\"},geometry_type:{type:\"enum\",values:[\"Point\",\"LineString\",\"Polygon\"],doc:\"The geometry type for the filter to select.\"},color_operation:{type:\"enum\",values:[\"lighten\",\"saturate\",\"spin\",\"fade\",\"mix\"],doc:\"A color operation to apply.\"},\"function\":{stops:{type:\"array\",required:!0,doc:\"An array of stops.\",value:\"function_stop\"},base:{type:\"number\",\"default\":1,minimum:0,doc:\"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly.\"}},function_stop:{type:\"array\",minimum:0,maximum:22,value:[\"number\",\"color\"],length:2,doc:\"Zoom level and value pair.\"},paint:[\"paint_fill\",\"paint_line\",\"paint_circle\",\"paint_symbol\",\"paint_raster\",\"paint_background\"],paint_fill:{\"fill-antialias\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!0,doc:\"Whether or not the fill should be antialiased.\"},\"fill-opacity\":{type:\"number\",\"function\":\"interpolated\",\"default\":1,minimum:0,maximum:1,doc:\"The opacity given to the fill color.\",transition:!0},\"fill-color\":{type:\"color\",\"default\":\"#000000\",doc:\"The color of the fill.\",\"function\":\"interpolated\",transition:!0,requires:[{\"!\":\"fill-pattern\"}]},\"fill-outline-color\":{type:\"color\",doc:\"The outline color of the fill. Matches the value of `fill-color` if unspecified.\",\"function\":\"interpolated\",transition:!0,requires:[{\"!\":\"fill-pattern\"},{\"fill-antialias\":!0}]},\"fill-translate\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.\"},\"fill-translate-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],doc:\"Control whether the translation is relative to the map (north) or viewport (screen)\",\"default\":\"map\",requires:[\"fill-translate\"]},\"fill-pattern\":{type:\"string\",\"function\":\"piecewise-constant\",transition:!0,doc:\"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512).\"}},paint_line:{\"line-opacity\":{type:\"number\",doc:\"The opacity at which the line will be drawn.\",\"function\":\"interpolated\",\"default\":1,minimum:0,maximum:1,transition:!0},\"line-color\":{type:\"color\",doc:\"The color with which the line will be drawn.\",\"default\":\"#000000\",\"function\":\"interpolated\",transition:!0,requires:[{\"!\":\"line-pattern\"}]},\"line-translate\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.\"},\"line-translate-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],doc:\"Control whether the translation is relative to the map (north) or viewport (screen)\",\"default\":\"map\",requires:[\"line-translate\"]},\"line-width\":{type:\"number\",\"default\":1,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"Stroke thickness.\"},\"line-gap-width\":{type:\"number\",\"default\":0,minimum:0,doc:\"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.\",\"function\":\"interpolated\",transition:!0,units:\"pixels\"},\"line-offset\":{type:\"number\",\"default\":0,doc:'The line\\'s offset perpendicular to its direction. Values may be positive or negative, where positive indicates \"leftwards\" (if you were moving in the direction of the line) and negative indicates \"rightwards.\"',\"function\":\"interpolated\",transition:!0,units:\"pixels\"},\"line-blur\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"Blur applied to the line, in pixels.\"},\"line-dasharray\":{type:\"array\",value:\"number\",\"function\":\"piecewise-constant\",doc:\"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width.\",minimum:0,transition:!0,units:\"line widths\",requires:[{\"!\":\"line-pattern\"}]},\"line-pattern\":{type:\"string\",\"function\":\"piecewise-constant\",transition:!0,doc:\"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512).\"}},paint_circle:{\"circle-radius\":{type:\"number\",\"default\":5,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"Circle radius.\"},\"circle-color\":{type:\"color\",\"default\":\"#000000\",doc:\"The color of the circle.\",\"function\":\"interpolated\",transition:!0},\"circle-blur\":{type:\"number\",\"default\":0,doc:\"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.\",\"function\":\"interpolated\",transition:!0},\"circle-opacity\":{type:\"number\",doc:\"The opacity at which the circle will be drawn.\",\"default\":1,minimum:0,maximum:1,\"function\":\"interpolated\",transition:!0},\"circle-translate\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.\"},\"circle-translate-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],doc:\"Control whether the translation is relative to the map (north) or viewport (screen)\",\"default\":\"map\",requires:[\"circle-translate\"]}},paint_symbol:{\"icon-opacity\":{doc:\"The opacity at which the icon will be drawn.\",type:\"number\",\"default\":1,minimum:0,maximum:1,\"function\":\"interpolated\",transition:!0,requires:[\"icon-image\"]},\"icon-color\":{type:\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",transition:!0,doc:\"The color of the icon. This can only be used with sdf icons.\",requires:[\"icon-image\"]},\"icon-halo-color\":{type:\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"function\":\"interpolated\",transition:!0,doc:\"The color of the icon's halo. Icon halos can only be used with sdf icons.\",requires:[\"icon-image\"]},\"icon-halo-width\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"Distance of halo to the icon outline.\",requires:[\"icon-image\"]},\"icon-halo-blur\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"Fade out the halo towards the outside.\",requires:[\"icon-image\"]},\"icon-translate\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.\",requires:[\"icon-image\"]},\"icon-translate-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],doc:\"Control whether the translation is relative to the map (north) or viewport (screen).\",\"default\":\"map\",requires:[\"icon-image\",\"icon-translate\"]},\"text-opacity\":{type:\"number\",doc:\"The opacity at which the text will be drawn.\",\"default\":1,minimum:0,maximum:1,\"function\":\"interpolated\",transition:!0,requires:[\"text-field\"]},\"text-color\":{type:\"color\",doc:\"The color with which the text will be drawn.\",\"default\":\"#000000\",\"function\":\"interpolated\",transition:!0,requires:[\"text-field\"]},\"text-halo-color\":{type:\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"function\":\"interpolated\",transition:!0,doc:\"The color of the text's halo, which helps it stand out from backgrounds.\",requires:[\"text-field\"]},\"text-halo-width\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.\",requires:[\"text-field\"]},\"text-halo-blur\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"The halo's fadeout distance towards the outside.\",requires:[\"text-field\"]},\"text-translate\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",transition:!0,units:\"pixels\",doc:\"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.\",requires:[\"text-field\"]},\"text-translate-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],doc:\"Control whether the translation is relative to the map (north) or viewport (screen).\",\"default\":\"map\",requires:[\"text-field\",\"text-translate\"]}},paint_raster:{\"raster-opacity\":{type:\"number\",doc:\"The opacity at which the image will be drawn.\",\"default\":1,minimum:0,maximum:1,\"function\":\"interpolated\",transition:!0},\"raster-hue-rotate\":{type:\"number\",\"default\":0,period:360,\"function\":\"interpolated\",transition:!0,units:\"degrees\",doc:\"Rotates hues around the color wheel.\"},\"raster-brightness-min\":{type:\"number\",\"function\":\"interpolated\",doc:\"Increase or reduce the brightness of the image. The value is the minimum brightness.\",\"default\":0,minimum:0,maximum:1,transition:!0},\"raster-brightness-max\":{type:\"number\",\"function\":\"interpolated\",doc:\"Increase or reduce the brightness of the image. The value is the maximum brightness.\",\"default\":1,minimum:0,maximum:1,transition:!0},\"raster-saturation\":{type:\"number\",doc:\"Increase or reduce the saturation of the image.\",\"default\":0,minimum:-1,maximum:1,\"function\":\"interpolated\",transition:!0},\"raster-contrast\":{type:\"number\",doc:\"Increase or reduce the contrast of the image.\",\"default\":0,minimum:-1,maximum:1,\"function\":\"interpolated\",transition:!0},\"raster-fade-duration\":{type:\"number\",\"default\":300,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"milliseconds\",doc:\"Fade duration when a new tile is added.\"}},paint_background:{\"background-color\":{type:\"color\",\"default\":\"#000000\",doc:\"The color with which the background will be drawn.\",\"function\":\"interpolated\",transition:!0,requires:[{\"!\":\"background-pattern\"}]},\"background-pattern\":{type:\"string\",\"function\":\"piecewise-constant\",transition:!0,doc:\"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512).\"},\"background-opacity\":{type:\"number\",\"default\":1,minimum:0,maximum:1,doc:\"The opacity at which the background will be drawn.\",\"function\":\"interpolated\",transition:!0}},transition:{duration:{type:\"number\",\"default\":300,minimum:0,units:\"milliseconds\",doc:\"Time allotted for transitions to complete.\"},delay:{type:\"number\",\"default\":0,minimum:0,units:\"milliseconds\",doc:\"Length of time before a transition begins.\"}}}},{}],71:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:\"enum\",values:[8]},name:{type:\"string\"},metadata:{type:\"*\"},center:{type:\"array\",value:\"number\"},zoom:{type:\"number\"},bearing:{type:\"number\",\"default\":0,period:360,units:\"degrees\"},pitch:{type:\"number\",\"default\":0,units:\"degrees\"},sources:{required:!0,type:\"sources\"},sprite:{type:\"string\"},glyphs:{type:\"string\"},transition:{type:\"transition\"},layers:{required:!0,type:\"array\",value:\"layer\"}},sources:{\"*\":{type:\"source\"}},source:[\"source_tile\",\"source_geojson\",\"source_video\",\"source_image\"],source_tile:{type:{required:!0,type:\"enum\",values:[\"vector\",\"raster\"]},url:{type:\"string\"},tiles:{type:\"array\",value:\"string\"},minzoom:{type:\"number\",\"default\":0},maxzoom:{type:\"number\",\"default\":22},tileSize:{type:\"number\",\"default\":512,units:\"pixels\"},\"*\":{type:\"*\"}},source_geojson:{type:{required:!0,type:\"enum\",values:[\"geojson\"]},data:{type:\"*\"},maxzoom:{type:\"number\",\"default\":14},buffer:{type:\"number\",\"default\":64},tolerance:{type:\"number\",\"default\":3}},source_video:{type:{required:!0,type:\"enum\",values:[\"video\"]},urls:{required:!0,type:\"array\",value:\"string\"},coordinates:{required:!0,type:\"array\",length:4,value:{type:\"array\",length:2,value:\"number\"}}},source_image:{type:{required:!0,type:\"enum\",values:[\"image\"]},url:{required:!0,type:\"string\"},coordinates:{required:!0,type:\"array\",length:4,value:{type:\"array\",length:2,value:\"number\"}}},layer:{id:{type:\"string\"},type:{type:\"enum\",values:[\"fill\",\"line\",\"symbol\",\"circle\",\"raster\",\"background\"]},metadata:{type:\"*\"},ref:{type:\"string\"},source:{type:\"string\"},\"source-layer\":{type:\"string\"},minzoom:{type:\"number\",minimum:0,maximum:22},maxzoom:{type:\"number\",minimum:0,maximum:22},interactive:{type:\"boolean\",\"default\":!1},filter:{type:\"filter\"},layout:{type:\"layout\"},paint:{type:\"paint\"},\"paint.*\":{type:\"paint\"}},layout:[\"layout_fill\",\"layout_line\",\"layout_circle\",\"layout_symbol\",\"layout_raster\",\"layout_background\"],layout_background:{visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\"}},layout_fill:{visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\"}},layout_circle:{visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\"}},layout_line:{\"line-cap\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"butt\",\"round\",\"square\"],\"default\":\"butt\"},\"line-join\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"bevel\",\"round\",\"miter\"],\"default\":\"miter\"},\"line-miter-limit\":{type:\"number\",\"default\":2,\"function\":\"interpolated\",requires:[{\"line-join\":\"miter\"}]},\"line-round-limit\":{type:\"number\",\"default\":1.05,\"function\":\"interpolated\",requires:[{\"line-join\":\"round\"}]},visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\"}},layout_symbol:{\"symbol-placement\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"point\",\"line\"],\"default\":\"point\"},\"symbol-spacing\":{type:\"number\",\"default\":250,minimum:1,\"function\":\"interpolated\",units:\"pixels\",requires:[{\"symbol-placement\":\"line\"}]},\"symbol-avoid-edges\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1},\"icon-allow-overlap\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,requires:[\"icon-image\"]},\"icon-ignore-placement\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,requires:[\"icon-image\"]},\"icon-optional\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,requires:[\"icon-image\",\"text-field\"]},\"icon-rotation-alignment\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],\"default\":\"viewport\",requires:[\"icon-image\"]},\"icon-size\":{type:\"number\",\"default\":1,minimum:0,\"function\":\"interpolated\",requires:[\"icon-image\"]},\"icon-image\":{type:\"string\",\"function\":\"piecewise-constant\",tokens:!0},\"icon-rotate\":{type:\"number\",\"default\":0,period:360,\"function\":\"interpolated\",units:\"degrees\",requires:[\"icon-image\"]},\"icon-padding\":{type:\"number\",\"default\":2,minimum:0,\"function\":\"interpolated\",units:\"pixels\",requires:[\"icon-image\"]},\"icon-keep-upright\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,requires:[\"icon-image\",{\"icon-rotation-alignment\":\"map\"},{\"symbol-placement\":\"line\"}]},\"icon-offset\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",requires:[\"icon-image\"]},\"text-rotation-alignment\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],\"default\":\"viewport\",requires:[\"text-field\"]},\"text-field\":{type:\"string\",\"function\":\"piecewise-constant\",\"default\":\"\",tokens:!0},\"text-font\":{type:\"array\",value:\"string\",\"function\":\"piecewise-constant\",\"default\":[\"Open Sans Regular\",\"Arial Unicode MS Regular\"],requires:[\"text-field\"]},\"text-size\":{type:\"number\",\"default\":16,minimum:0,units:\"pixels\",\"function\":\"interpolated\",requires:[\"text-field\"]},\"text-max-width\":{type:\"number\",\"default\":10,minimum:0,units:\"em\",\"function\":\"interpolated\",requires:[\"text-field\"]},\"text-line-height\":{type:\"number\",\"default\":1.2,units:\"em\",\"function\":\"interpolated\",requires:[\"text-field\"]},\"text-letter-spacing\":{type:\"number\",\"default\":0,units:\"em\",\"function\":\"interpolated\",requires:[\"text-field\"]},\"text-justify\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"left\",\"center\",\"right\"],\"default\":\"center\",requires:[\"text-field\"]},\"text-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"center\",\"left\",\"right\",\"top\",\"bottom\",\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"],\"default\":\"center\",requires:[\"text-field\"]},\"text-max-angle\":{type:\"number\",\"default\":45,units:\"degrees\",\"function\":\"interpolated\",requires:[\"text-field\",{\"symbol-placement\":\"line\"}]},\"text-rotate\":{type:\"number\",\"default\":0,period:360,units:\"degrees\",\"function\":\"interpolated\",requires:[\"text-field\"]},\"text-padding\":{type:\"number\",\"default\":2,minimum:0,units:\"pixels\",\"function\":\"interpolated\",requires:[\"text-field\"]},\"text-keep-upright\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!0,requires:[\"text-field\",{\"text-rotation-alignment\":\"map\"},{\"symbol-placement\":\"line\"}]},\"text-transform\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"none\",\"uppercase\",\"lowercase\"],\"default\":\"none\",requires:[\"text-field\"]},\"text-offset\":{type:\"array\",value:\"number\",units:\"ems\",\"function\":\"interpolated\",length:2,\"default\":[0,0],requires:[\"text-field\"]},\"text-allow-overlap\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,requires:[\"text-field\"]},\"text-ignore-placement\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,requires:[\"text-field\"]},\"text-optional\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!1,requires:[\"text-field\",\"icon-image\"]},visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\"}},layout_raster:{visibility:{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"visible\",\"none\"],\"default\":\"visible\"}},filter:{type:\"array\",value:\"*\"},filter_operator:{type:\"enum\",values:[\"==\",\"!=\",\">\",\">=\",\"<\",\"<=\",\"in\",\"!in\",\"all\",\"any\",\"none\"]},geometry_type:{type:\"enum\",values:[\"Point\",\"LineString\",\"Polygon\"]},color_operation:{type:\"enum\",values:[\"lighten\",\"saturate\",\"spin\",\"fade\",\"mix\"]},\"function\":{stops:{type:\"array\",required:!0,value:\"function_stop\"},base:{type:\"number\",\"default\":1,minimum:0}},function_stop:{type:\"array\",minimum:0,maximum:22,value:[\"number\",\"color\"],length:2},paint:[\"paint_fill\",\"paint_line\",\"paint_circle\",\"paint_symbol\",\"paint_raster\",\"paint_background\"],paint_fill:{\"fill-antialias\":{type:\"boolean\",\"function\":\"piecewise-constant\",\"default\":!0},\"fill-opacity\":{type:\"number\",\"function\":\"interpolated\",\"default\":1,minimum:0,maximum:1,transition:!0},\"fill-color\":{type:\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",transition:!0,requires:[{\"!\":\"fill-pattern\"}]},\"fill-outline-color\":{type:\"color\",\"function\":\"interpolated\",transition:!0,requires:[{\"!\":\"fill-pattern\"},{\"fill-antialias\":!0}]},\"fill-translate\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",transition:!0,units:\"pixels\"},\"fill-translate-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],\"default\":\"map\",requires:[\"fill-translate\"]},\"fill-pattern\":{type:\"string\",\"function\":\"piecewise-constant\",transition:!0}},paint_line:{\"line-opacity\":{type:\"number\",\"function\":\"interpolated\",\"default\":1,minimum:0,maximum:1,transition:!0},\"line-color\":{type:\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",transition:!0,requires:[{\"!\":\"line-pattern\"}]},\"line-translate\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",transition:!0,units:\"pixels\"},\"line-translate-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],\"default\":\"map\",requires:[\"line-translate\"]},\"line-width\":{type:\"number\",\"default\":1,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\"},\"line-gap-width\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\"},\"line-offset\":{type:\"number\",\"default\":0,\"function\":\"interpolated\",transition:!0,units:\"pixels\"},\"line-blur\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\"},\"line-dasharray\":{type:\"array\",value:\"number\",\"function\":\"piecewise-constant\",minimum:0,transition:!0,units:\"line widths\",requires:[{\"!\":\"line-pattern\"}]},\"line-pattern\":{type:\"string\",\"function\":\"piecewise-constant\",transition:!0}},paint_circle:{\"circle-radius\":{type:\"number\",\"default\":5,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\"},\"circle-color\":{type:\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",transition:!0},\"circle-blur\":{type:\"number\",\"default\":0,\"function\":\"interpolated\",transition:!0},\"circle-opacity\":{type:\"number\",\"default\":1,minimum:0,maximum:1,\"function\":\"interpolated\",transition:!0},\"circle-translate\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",transition:!0,units:\"pixels\"},\"circle-translate-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],\"default\":\"map\",requires:[\"circle-translate\"]}},paint_symbol:{\"icon-opacity\":{type:\"number\",\"default\":1,minimum:0,maximum:1,\"function\":\"interpolated\",transition:!0,requires:[\"icon-image\"]},\"icon-color\":{type:\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",transition:!0,requires:[\"icon-image\"]},\"icon-halo-color\":{type:\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"function\":\"interpolated\",transition:!0,requires:[\"icon-image\"]},\"icon-halo-width\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",requires:[\"icon-image\"]},\"icon-halo-blur\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",requires:[\"icon-image\"]},\"icon-translate\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",transition:!0,units:\"pixels\",requires:[\"icon-image\"]},\"icon-translate-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],\"default\":\"map\",requires:[\"icon-image\",\"icon-translate\"]},\"text-opacity\":{type:\"number\",\"default\":1,minimum:0,maximum:1,\"function\":\"interpolated\",transition:!0,requires:[\"text-field\"]},\"text-color\":{type:\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",transition:!0,requires:[\"text-field\"]},\"text-halo-color\":{type:\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"function\":\"interpolated\",transition:!0,requires:[\"text-field\"]},\"text-halo-width\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",requires:[\"text-field\"]},\"text-halo-blur\":{type:\"number\",\"default\":0,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"pixels\",requires:[\"text-field\"]},\"text-translate\":{type:\"array\",value:\"number\",length:2,\"default\":[0,0],\"function\":\"interpolated\",transition:!0,units:\"pixels\",requires:[\"text-field\"]},\"text-translate-anchor\":{type:\"enum\",\"function\":\"piecewise-constant\",values:[\"map\",\"viewport\"],\"default\":\"map\",requires:[\"text-field\",\"text-translate\"]}},paint_raster:{\"raster-opacity\":{type:\"number\",\"default\":1,minimum:0,maximum:1,\"function\":\"interpolated\",transition:!0},\"raster-hue-rotate\":{type:\"number\",\"default\":0,period:360,\"function\":\"interpolated\",transition:!0,units:\"degrees\"},\"raster-brightness-min\":{type:\"number\",\"function\":\"interpolated\",\"default\":0,minimum:0,maximum:1,transition:!0},\"raster-brightness-max\":{type:\"number\",\"function\":\"interpolated\",\"default\":1,minimum:0,maximum:1,transition:!0},\"raster-saturation\":{type:\"number\",\"default\":0,minimum:-1,maximum:1,\"function\":\"interpolated\",transition:!0},\"raster-contrast\":{type:\"number\",\"default\":0,minimum:-1,maximum:1,\"function\":\"interpolated\",transition:!0},\"raster-fade-duration\":{type:\"number\",\"default\":300,minimum:0,\"function\":\"interpolated\",transition:!0,units:\"milliseconds\"}},paint_background:{\"background-color\":{type:\"color\",\"default\":\"#000000\",\n\"function\":\"interpolated\",transition:!0,requires:[{\"!\":\"background-pattern\"}]},\"background-pattern\":{type:\"string\",\"function\":\"piecewise-constant\",transition:!0},\"background-opacity\":{type:\"number\",\"default\":1,minimum:0,maximum:1,\"function\":\"interpolated\",transition:!0}},transition:{duration:{type:\"number\",\"default\":300,minimum:0,units:\"milliseconds\"},delay:{type:\"number\",\"default\":0,minimum:0,units:\"milliseconds\"}}}},{}],72:[function(t,e,n){\"use strict\";function i(t){this.layer=t.layer,this.zoom=t.zoom,this.layers=[this.layer.id],this.type=this.layer.type,this.features=[],this.id=this.layer.id,this[\"source-layer\"]=this.layer[\"source-layer\"],this.interactive=this.layer.interactive,this.minZoom=this.layer.minzoom,this.maxZoom=this.layer.maxzoom,this.filter=l(this.layer.filter),this.layoutProperties=r(this.layer,this.zoom),this.resetBuffers(t.buffers);for(var e in this.shaders){var n=this.shaders[e];this[this.getAddMethodName(e,\"vertex\")]=o(e,n,this.getBufferName(e,\"vertex\"))}}function r(t,e){var n=new c(\"layout\",t.type,t.layout,{}).values(),i={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0},r={};for(var o in n)r[o]=n[o].calculate(e,i);return\"symbol\"===t.type&&(n[\"text-size\"]&&(r[\"text-max-size\"]=n[\"text-size\"].calculate(18,i),r[\"text-size\"]=n[\"text-size\"].calculate(e+1,i)),n[\"icon-size\"]&&(r[\"icon-max-size\"]=n[\"icon-size\"].calculate(18,i),r[\"icon-size\"]=n[\"icon-size\"].calculate(e+1,i))),new d[t.type](r)}function o(t,e,n){for(var i=[],r=0;r<e.attributes.length;r++)i=i.concat(e.attributes[r].value);var o=\"return this.buffers.\"+n+\".push(\"+i.join(\", \")+\");\";return f[o]||(f[o]=new Function(e.attributeArgs,o)),f[o]}function a(t){return function(e,n,i){return t.push(e,n,i)}}function s(t){return new h({type:h.BufferType.ELEMENT,attributes:[{name:\"vertices\",components:t||3,type:h.ELEMENT_ATTRIBUTE_TYPE}]})}function u(t){return t.charAt(0).toUpperCase()+t.slice(1)}var l=t(\"feature-filter\"),c=t(\"../style/style_declaration_set\"),d=t(\"../style/layout_properties\"),p=t(\"./element_groups\"),h=t(\"./buffer\");e.exports=i,i.create=function(e){var n={fill:t(\"./fill_bucket\"),line:t(\"./line_bucket\"),circle:t(\"./circle_bucket\"),symbol:t(\"./symbol_bucket\")};return new n[e.layer.type](e)},i.AttributeType=h.AttributeType,i.prototype.addFeatures=function(){for(var t=0;t<this.features.length;t++)this.addFeature(this.features[t])},i.prototype.makeRoomFor=function(t,e){return this.elementGroups[t].makeRoomFor(e)},i.prototype.resetBuffers=function(t){this.buffers=t,this.elementGroups={};for(var e in this.shaders){var n=this.shaders[e],i=this.getBufferName(e,\"vertex\");if(n.vertexBuffer&&!t[i]&&(t[i]=new h({type:h.BufferType.VERTEX,attributes:n.attributes})),n.elementBuffer){var r=this.getBufferName(e,\"element\");t[r]||(t[r]=s(n.elementBufferComponents)),this[this.getAddMethodName(e,\"element\")]=a(this.buffers[r])}if(n.secondElementBuffer){var o=this.getBufferName(e,\"secondElement\");t[o]||(t[o]=s(n.secondElementBufferComponents)),this[this.getAddMethodName(e,\"secondElement\")]=a(this.buffers[o])}this.elementGroups[e]=new p(t[this.getBufferName(e,\"vertex\")],t[this.getBufferName(e,\"element\")],t[this.getBufferName(e,\"secondElement\")])}},i.prototype.getAddMethodName=function(t,e){return\"add\"+u(t)+u(e)},i.prototype.getBufferName=function(t,e){return t+u(e)};var f={}},{\"../style/layout_properties\":114,\"../style/style_declaration_set\":120,\"./buffer\":73,\"./circle_bucket\":74,\"./element_groups\":75,\"./fill_bucket\":77,\"./line_bucket\":78,\"./symbol_bucket\":79,\"feature-filter\":38}],73:[function(t,e,n){\"use strict\";function i(t){if(this.type=t.type,t.arrayBuffer)this.capacity=t.capacity,this.arrayBuffer=t.arrayBuffer,this.attributes=t.attributes,this.itemSize=t.itemSize,this.length=t.length;else{this.capacity=r(i.CAPACITY_DEFAULT,i.CAPACITY_ALIGNMENT),this.arrayBuffer=new ArrayBuffer(this.capacity),this.attributes=[],this.itemSize=0,this.length=0;var e=this.type===i.BufferType.VERTEX?i.VERTEX_ATTRIBUTE_ALIGNMENT:1;this.attributes=t.attributes.map(function(t){var n={};return n.name=t.name,n.components=t.components||1,n.type=t.type||i.AttributeType.UNSIGNED_BYTE,n.size=n.type.size*n.components,n.offset=this.itemSize,this.itemSize=r(n.offset+n.size,e),o(!isNaN(this.itemSize)),o(!isNaN(n.size)),o(n.type.name in i.AttributeType),n},this),this._createPushMethod(),this._refreshViews()}}function r(t,e){e=e||1;var n=t%e;return 1!==e&&0!==n&&(t+=e-n),t}var o=t(\"assert\");i.prototype.bind=function(t){var e=t[this.type];this.buffer?t.bindBuffer(e,this.buffer):(this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer.slice(0,this.length*this.itemSize),t.STATIC_DRAW),this.arrayBuffer=null)},i.prototype.destroy=function(t){this.buffer&&t.deleteBuffer(this.buffer)},i.prototype.setAttribPointers=function(t,e,n){for(var i=0;i<this.attributes.length;i++){var r=this.attributes[i];t.vertexAttribPointer(e[\"a_\"+r.name],r.components,t[r.type.name],!1,this.itemSize,n+r.offset)}},i.prototype.get=function(t){this._refreshViews();for(var e={},n=t*this.itemSize,i=0;i<this.attributes.length;i++)for(var r=this.attributes[i],o=e[r.name]=[],a=0;a<r.components;a++){var s=(n+r.offset)/r.type.size+a;o.push(this.views[r.type.name][s])}return e},i.prototype.validate=function(t){for(var e=0,n=0;n<this.attributes.length;n++)for(var i=0;i<this.attributes[n].components;i++)o(!isNaN(t[e++]));o(e===t.length)},i.prototype._resize=function(t){var e=this.views.UNSIGNED_BYTE;this.capacity=r(t,i.CAPACITY_ALIGNMENT),this.arrayBuffer=new ArrayBuffer(this.capacity),this._refreshViews(),this.views.UNSIGNED_BYTE.set(e)},i.prototype._refreshViews=function(){this.views={UNSIGNED_BYTE:new Uint8Array(this.arrayBuffer),BYTE:new Int8Array(this.arrayBuffer),UNSIGNED_SHORT:new Uint16Array(this.arrayBuffer),SHORT:new Int16Array(this.arrayBuffer)}};var a={};i.prototype._createPushMethod=function(){var t=\"\",e=[];t+=\"var i = this.length++;\\n\",t+=\"var o = i * \"+this.itemSize+\";\\n\",t+=\"if (o + \"+this.itemSize+\" > this.capacity) { this._resize(this.capacity * 1.5); }\\n\";for(var n=0;n<this.attributes.length;n++){var i=this.attributes[n],r=\"o\"+n;t+=\"\\nvar \"+r+\" = (o + \"+i.offset+\") / \"+i.type.size+\";\\n\";for(var o=0;o<i.components;o++){var s=\"v\"+e.length,u=\"this.views.\"+i.type.name+\"[\"+r+\" + \"+o+\"]\";t+=u+\" = \"+s+\";\\n\",e.push(s)}}t+=\"\\nreturn i;\\n\",a[t]||(a[t]=new Function(e,t)),this.push=a[t]},i.BufferType={VERTEX:\"ARRAY_BUFFER\",ELEMENT:\"ELEMENT_ARRAY_BUFFER\"},i.AttributeType={BYTE:{size:1,name:\"BYTE\"},UNSIGNED_BYTE:{size:1,name:\"UNSIGNED_BYTE\"},SHORT:{size:2,name:\"SHORT\"},UNSIGNED_SHORT:{size:2,name:\"UNSIGNED_SHORT\"}},i.ELEMENT_ATTRIBUTE_TYPE=i.AttributeType.UNSIGNED_SHORT,i.CAPACITY_DEFAULT=8192,i.CAPACITY_ALIGNMENT=2,i.VERTEX_ATTRIBUTE_ALIGNMENT=4,e.exports=i},{assert:8}],74:[function(t,e,n){\"use strict\";function i(){r.apply(this,arguments)}var r=t(\"./bucket\"),o=t(\"../util/util\");e.exports=i;var a=4096;i.prototype=o.inherit(r,{}),i.prototype.shaders={circle:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:[\"x\",\"y\",\"extrudeX\",\"extrudeY\"],attributes:[{name:\"pos\",components:2,type:r.AttributeType.SHORT,value:[\"(x * 2) + ((extrudeX + 1) / 2)\",\"(y * 2) + ((extrudeY + 1) / 2)\"]}]}},i.prototype.addFeature=function(t){for(var e=t.loadGeometry()[0],n=0;n<e.length;n++){var i=this.makeRoomFor(\"circle\",4),r=e[n].x,o=e[n].y;if(!(0>r||r>=a||0>o||o>=a)){var s=this.addCircleVertex(r,o,-1,-1)-i.vertexStartIndex;this.addCircleVertex(r,o,1,-1),this.addCircleVertex(r,o,1,1),this.addCircleVertex(r,o,-1,1),i.vertexLength+=4,this.addCircleElement(s,s+1,s+2),this.addCircleElement(s,s+3,s+2),i.elementLength+=2}}}},{\"../util/util\":166,\"./bucket\":72}],75:[function(t,e,n){\"use strict\";function i(t,e,n){this.vertexBuffer=t,this.elementBuffer=e,this.secondElementBuffer=n,this.groups=[]}function r(t,e,n){this.vertexStartIndex=t,this.elementStartIndex=e,this.secondElementStartIndex=n,this.elementLength=0,this.vertexLength=0,this.secondElementLength=0}e.exports=i,i.prototype.makeRoomFor=function(t){return(!this.current||this.current.vertexLength+t>65535)&&(this.current=new r(this.vertexBuffer.length,this.elementBuffer&&this.elementBuffer.length,this.secondElementBuffer&&this.secondElementBuffer.length),this.groups.push(this.current)),this.current}},{}],76:[function(t,e,n){\"use strict\";function i(t,e){this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.rtree=f(9),this.toBeInserted=[]}function r(t,e,n){return\"Point\"===e?u(t,n):\"LineString\"===e?a(t,n):\"Polygon\"===e?o(t,n)||a(t,n):!1}function o(t,e){return p(t,new m(e[0],e[1]))||p(t,new m(e[0],e[3]))||p(t,new m(e[2],e[1]))||p(t,new m(e[2],e[3]))?!0:a(t,e)}function a(t,e){for(var n=0;n<t.length;n++)for(var i=t[n],r=0,o=i.length-1;r<i.length;o=r++){var a=i[r],l=i[o],c=new m(a.y,a.x),d=new m(l.y,l.x);if(s(a,l,e[0],e[2],e[1])||s(a,l,e[0],e[2],e[3])||s(c,d,e[1],e[3],e[0])||s(c,d,e[1],e[3],e[2]))return!0}return u(t,e)}function s(t,e,n,i,r){if(e.y===t.y)return e.y===r&&Math.min(t.x,e.x)<=i&&Math.max(t.x,e.x)>=n;var o=(r-t.y)/(e.y-t.y),a=t.x+o*(e.x-t.x);return a>=n&&i>=a&&1>=o&&o>=0}function u(t,e){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)if(i[r].x>=e[0]&&i[r].y>=e[1]&&i[r].x<=e[2]&&i[r].y<=e[3])return!0;return!1}function l(t,e,n,i){return\"Point\"===e?h(t,n,i):\"LineString\"===e?d(t,n,i):\"Polygon\"===e?p(t,n)||d(t,n,i):!1}function c(t,e,n){var i=e.distSqr(n);if(0===i)return t.distSqr(e);var r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;return 0>r?t.distSqr(e):r>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(r)._add(e))}function d(t,e,n){for(var i=n*n,r=0;r<t.length;r++)for(var o=t[r],a=1;a<o.length;a++){var s=o[a-1],u=o[a];if(c(e,s,u)<i)return!0}return!1}function p(t,e){for(var n,i,r,o=!1,a=0;a<t.length;a++){n=t[a];for(var s=0,u=n.length-1;s<n.length;u=s++)i=n[s],r=n[u],i.y>e.y!=r.y>e.y&&e.x<(r.x-i.x)*(e.y-i.y)/(r.y-i.y)+i.x&&(o=!o)}return o}function h(t,e,n){for(var i=n*n,r=0;r<t.length;r++)for(var o=t[r],a=0;a<o.length;a++)if(o[a].distSqr(e)<=i)return!0;return!1}var f=t(\"rbush\"),m=t(\"point-geometry\"),v=t(\"vector-tile\"),g=t(\"../util/util\");e.exports=i,i.prototype.insert=function(t,e,n){t.layers=e,t.feature=n,this.toBeInserted.push(t)},i.prototype._load=function(){this.rtree.load(this.toBeInserted),this.toBeInserted=[]},i.prototype.query=function(t,e){this.toBeInserted.length&&this._load();var n,i,o=t.params||{},a=t.x,s=t.y,u=[];\"undefined\"!=typeof a&&\"undefined\"!=typeof s?(n=(o.radius||0)*(t.tileExtent||4096)/t.scale,i=[a-n,s-n,a+n,s+n]):i=[t.minX,t.minY,t.maxX,t.maxY];for(var c=this.rtree.search(i),d=0;d<c.length;d++){var p=c[d].feature,h=c[d].layers,f=v.VectorTileFeature.types[p.type];if((!o.$type||f===o.$type)&&(!n||l(p.loadGeometry(),f,new m(a,s),n))&&r(p.loadGeometry(),f,i)){var y=p.toGeoJSON(this.x,this.y,this.z);o.includeGeometry||(y.geometry=null);for(var b=0;b<h.length;b++){var _=h[b];o.layerIds&&o.layerIds.indexOf(_)<0||u.push(g.extend({layer:_},y))}}}e(null,u)}},{\"../util/util\":166,\"point-geometry\":170,rbush:172,\"vector-tile\":321}],77:[function(t,e,n){\"use strict\";function i(){r.apply(this,arguments)}var r=t(\"./bucket\"),o=t(\"../util/util\");e.exports=i,i.prototype=o.inherit(r,{}),i.prototype.shaders={fill:{vertexBuffer:!0,elementBuffer:!0,secondElementBuffer:!0,secondElementBufferComponents:2,attributeArgs:[\"x\",\"y\"],attributes:[{name:\"pos\",components:2,type:r.AttributeType.SHORT,value:[\"x\",\"y\"]}]}},i.prototype.addFeature=function(t){for(var e=t.loadGeometry(),n=0;n<e.length;n++)this.addFill(e[n])},i.prototype.addFill=function(t){if(!(t.length<3))for(var e,n,i=t.length,r=this.makeRoomFor(\"fill\",i+1),o=0;o<t.length;o++){var a=t[o],s=this.addFillVertex(a.x,a.y)-r.vertexStartIndex;r.vertexLength++,0===o&&(e=s),o>=2&&(a.x!==t[0].x||a.y!==t[0].y)&&(this.addFillElement(e,n,s),r.elementLength++),o>=1&&(this.addFillSecondElement(n,s),r.secondElementLength++),n=s}}},{\"../util/util\":166,\"./bucket\":72}],78:[function(t,e,n){\"use strict\";function i(){r.apply(this,arguments)}var r=t(\"./bucket\"),o=t(\"../util/util\"),a=63;e.exports=i,i.prototype=o.inherit(r,{}),i.prototype.shaders={line:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:[\"point\",\"extrude\",\"tx\",\"ty\",\"dir\",\"linesofar\"],attributes:[{name:\"pos\",components:2,type:r.AttributeType.SHORT,value:[\"(point.x << 1) | tx\",\"(point.y << 1) | ty\"]},{name:\"data\",components:4,type:r.AttributeType.BYTE,value:[\"Math.round(\"+a+\" * extrude.x)\",\"Math.round(\"+a+\" * extrude.y)\",\"((dir < 0) ? -1 : 1) * ((dir ? 1 : 0) | ((linesofar << 1) & 0x7F))\",\"(linesofar >> 6) & 0x7F\"]}]}},i.prototype.addFeature=function(t){for(var e=t.loadGeometry(),n=this.layoutProperties,i=0;i<e.length;i++)this.addLine(e[i],n[\"line-join\"],n[\"line-cap\"],n[\"line-miter-limit\"],n[\"line-round-limit\"])},i.prototype.addLine=function(t,e,n,i,r){for(var o=t.length;o>2&&t[o-1].equals(t[o-2]);)o--;if(!(t.length<2)){\"bevel\"===e&&(i=1.05);var a=t[0],s=t[o-1],u=a.equals(s);if(this.makeRoomFor(\"line\",10*o),2!==o||!u){var l,c,d,p,h,f,m,v=n,g=u?\"butt\":n,y=1,b=0,_=!0;this.e1=this.e2=this.e3=-1,u&&(l=t[o-2],h=a.sub(l)._unit()._perp());for(var x=0;o>x;x++)if(d=u&&x===o-1?t[1]:t[x+1],!d||!t[x].equals(d)){h&&(p=h),l&&(c=l),l=t[x],c&&(b+=l.dist(c)),h=d?d.sub(l)._unit()._perp():p,p=p||h;var w=p.add(h)._unit(),E=w.x*h.x+w.y*h.y,M=1/E,S=c&&d,C=S?e:d?v:g;if(S&&\"round\"===C&&(r>M?C=\"miter\":2>=M&&(C=\"fakeround\")),\"miter\"===C&&M>i&&(C=\"bevel\"),\"bevel\"===C&&(M>2&&(C=\"flipbevel\"),i>M&&(C=\"miter\")),\"miter\"===C)w._mult(M),this.addCurrentVertex(l,y,b,w,0,0,!1);else if(\"flipbevel\"===C){if(M>100)w=h.clone();else{var T=p.x*h.y-p.y*h.x>0?-1:1,R=M*p.add(h).mag()/p.sub(h).mag();w._perp()._mult(R*T)}this.addCurrentVertex(l,y,b,w,0,0,!1),this.addCurrentVertex(l,-y,b,w,0,0,!1)}else if(\"bevel\"===C||\"fakeround\"===C){var P=y*(p.x*h.y-p.y*h.x)>0,I=-Math.sqrt(M*M-1);if(P?(m=0,f=I):(f=0,m=I),_||this.addCurrentVertex(l,y,b,p,f,m,!1),\"fakeround\"===C){for(var D,A=Math.floor(8*(.5-(E-.5))),L=0;A>L;L++)D=h.mult((L+1)/(A+1))._add(p)._unit(),this.addPieSliceVertex(l,y,b,D,P);this.addPieSliceVertex(l,y,b,w,P);for(var O=A-1;O>=0;O--)D=p.mult((O+1)/(A+1))._add(h)._unit(),this.addPieSliceVertex(l,y,b,D,P)}d&&this.addCurrentVertex(l,y,b,h,-f,-m,!1)}else\"butt\"===C?(_||this.addCurrentVertex(l,y,b,p,0,0,!1),d&&this.addCurrentVertex(l,y,b,h,0,0,!1)):\"square\"===C?(_||(this.addCurrentVertex(l,y,b,p,1,1,!1),this.e1=this.e2=-1,y=1),d&&this.addCurrentVertex(l,y,b,h,-1,-1,!1)):\"round\"===C&&(_||(this.addCurrentVertex(l,y,b,p,0,0,!1),this.addCurrentVertex(l,y,b,p,1,1,!0),this.e1=this.e2=-1,y=1),d&&(this.addCurrentVertex(l,y,b,h,-1,-1,!0),this.addCurrentVertex(l,y,b,h,0,0,!1)));_=!1}}}},i.prototype.addCurrentVertex=function(t,e,n,i,r,o,a){var s,u=a?1:0,l=this.elementGroups.line.current;l.vertexLength+=2,s=i.mult(e),r&&s._sub(i.perp()._mult(r)),this.e3=this.addLineVertex(t,s,u,0,r,n)-l.vertexStartIndex,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),l.elementLength++),this.e1=this.e2,this.e2=this.e3,s=i.mult(-e),o&&s._sub(i.perp()._mult(o)),this.e3=this.addLineVertex(t,s,u,1,-o,n)-l.vertexStartIndex,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),l.elementLength++),this.e1=this.e2,this.e2=this.e3},i.prototype.addPieSliceVertex=function(t,e,n,i,r){var o=r?1:0;i=i.mult(e*(r?-1:1));var a=this.elementGroups.line.current;this.e3=this.addLineVertex(t,i,0,o,0,n)-a.vertexStartIndex,a.vertexLength++,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),a.elementLength++),r?this.e2=this.e3:this.e1=this.e3}},{\"../util/util\":166,\"./bucket\":72}],79:[function(t,e,n){\"use strict\";function i(t){a.apply(this,arguments),this.collisionDebug=t.collisionDebug,this.overscaling=t.overscaling}function r(t,e,n,i,r,o,a,s,u,l,c,d){this.x=t.x,this.y=t.y,this.hasText=!!n,this.hasIcon=!!i,this.hasText&&(this.glyphQuads=o?g(t,n,a,e,r,u):[],this.textCollisionFeature=new x(e,t,n,a,s,u)),this.hasIcon&&(this.iconQuads=o?y(t,i,l,e,r,d):[],this.iconCollisionFeature=new x(e,t,i,l,c,d))}var o=t(\"point-geometry\"),a=t(\"./bucket\"),s=t(\"./element_groups\"),u=t(\"../symbol/anchor\"),l=t(\"../symbol/get_anchors\"),c=t(\"../util/token\"),d=t(\"../symbol/quads\"),p=t(\"../symbol/shaping\"),h=t(\"../symbol/resolve_text\"),f=t(\"../symbol/mergelines\"),m=p.shapeText,v=p.shapeIcon,g=d.getGlyphQuads,y=d.getIconQuads,b=t(\"../symbol/clip_line\"),_=t(\"../util/util\"),x=t(\"../symbol/collision_feature\");e.exports=i,i.prototype=_.inherit(a,{});var w=[\"x\",\"y\",\"ox\",\"oy\",\"tx\",\"ty\",\"minzoom\",\"maxzoom\",\"labelminzoom\"],E=[{name:\"pos\",components:2,type:a.AttributeType.SHORT,value:[\"x\",\"y\"]},{name:\"offset\",components:2,type:a.AttributeType.SHORT,value:[\"Math.round(ox * 64)\",\"Math.round(oy * 64)\"]},{name:\"data1\",components:4,type:a.AttributeType.UNSIGNED_BYTE,value:[\"tx / 4\",\"ty / 4\",\"(labelminzoom || 0) * 10\",\"0\"]},{name:\"data2\",components:2,type:a.AttributeType.UNSIGNED_BYTE,value:[\"(minzoom || 0) * 10\",\"Math.min(maxzoom || 25, 25) * 10\"]}];i.prototype.shaders={glyph:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:w,attributes:E},icon:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:w,attributes:E},collisionBox:{vertexBuffer:\"collisionBoxVertex\",attributeArgs:[\"point\",\"extrude\",\"maxZoom\",\"placementZoom\"],attributes:[{name:\"pos\",components:2,type:a.AttributeType.SHORT,value:[\"point.x\",\"point.y\"]},{name:\"extrude\",components:2,type:a.AttributeType.SHORT,value:[\"Math.round(extrude.x)\",\"Math.round(extrude.y)\"]},{name:\"data\",components:2,type:a.AttributeType.UNSIGNED_BYTE,value:[\"maxZoom * 10\",\"placementZoom * 10\"]}]}},i.prototype.addFeatures=function(t,e,n){var i=512*this.overscaling,r=4096;this.tilePixelRatio=r/i,this.compareText={},this.symbolInstances=[];var o=this.layoutProperties,a=this.features,s=this.textFeatures,u=.5,l=.5;switch(o[\"text-anchor\"]){case\"right\":case\"top-right\":case\"bottom-right\":u=1;break;case\"left\":case\"top-left\":case\"bottom-left\":u=0}switch(o[\"text-anchor\"]){case\"bottom\":case\"bottom-right\":case\"bottom-left\":l=1;break;case\"top\":case\"top-right\":case\"top-left\":l=0}for(var d=\"right\"===o[\"text-justify\"]?1:\"left\"===o[\"text-justify\"]?0:.5,p=24,h=o[\"text-line-height\"]*p,g=\"line\"!==o[\"symbol-placement\"]?o[\"text-max-width\"]*p:0,y=o[\"text-letter-spacing\"]*p,b=[o[\"text-offset\"][0]*p,o[\"text-offset\"][1]*p],_=o[\"text-font\"].join(\",\"),x=[],w=0;w<a.length;w++)x.push(a[w].loadGeometry());if(\"line\"===o[\"symbol-placement\"]){var E=f(a,s,x);x=E.geometries,a=E.features,s=E.textFeatures}for(var M,S,C=0;C<a.length;C++)if(x[C]){if(M=s[C]?m(s[C],e[_],g,h,u,l,d,y,b):null,o[\"icon-image\"]){var T=c(a[C].properties,o[\"icon-image\"]),R=n[T];S=v(R,o),R&&(void 0===this.sdfIcons?this.sdfIcons=R.sdf:this.sdfIcons!==R.sdf&&console.warn(\"Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer\"))}else S=null;(M||S)&&this.addFeature(x[C],M,S)}this.placeFeatures(t,this.buffers,this.collisionDebug)},i.prototype.addFeature=function(t,e,n){var i=this.layoutProperties,o=24,a=i[\"text-size\"]/o,s=this.tilePixelRatio*a,c=this.tilePixelRatio*i[\"text-max-size\"]/o,d=this.tilePixelRatio*i[\"icon-size\"],p=this.tilePixelRatio*i[\"symbol-spacing\"],h=i[\"symbol-avoid-edges\"],f=i[\"text-padding\"]*this.tilePixelRatio,m=i[\"icon-padding\"]*this.tilePixelRatio,v=i[\"text-max-angle\"]/180*Math.PI,g=\"map\"===i[\"text-rotation-alignment\"]&&\"line\"===i[\"symbol-placement\"],y=\"map\"===i[\"icon-rotation-alignment\"]&&\"line\"===i[\"symbol-placement\"],_=i[\"text-allow-overlap\"]||i[\"icon-allow-overlap\"]||i[\"text-ignore-placement\"]||i[\"icon-ignore-placement\"],x=\"line\"===i[\"symbol-placement\"],w=p/2;x&&(t=b(t,0,0,4096,4096));for(var E=0;E<t.length;E++)for(var M=t[E],S=x?l(M,p,v,e,n,o,c,this.overscaling):[new u(M[0].x,M[0].y,0)],C=0,T=S.length;T>C;C++){var R=S[C];if(!(e&&x&&this.anchorIsTooClose(e.text,w,R))){var P=!(R.x<0||R.x>4096||R.y<0||R.y>4096);if(!h||P){var I=P||_;this.symbolInstances.push(new r(R,M,e,n,i,I,s,f,g,d,m,y))}}}},i.prototype.anchorIsTooClose=function(t,e,n){var i=this.compareText;if(t in i){for(var r=i[t],o=r.length-1;o>=0;o--)if(n.dist(r[o])<e)return!0}else i[t]=[];return i[t].push(n),!1},i.prototype.placeFeatures=function(t,e,n){this.resetBuffers(e);var i=this.elementGroups={glyph:new s(e.glyphVertex,e.glyphElement),icon:new s(e.iconVertex,e.iconElement),sdfIcons:this.sdfIcons},r=this.layoutProperties,o=t.maxScale;i.glyph[\"text-size\"]=r[\"text-size\"],i.icon[\"icon-size\"]=r[\"icon-size\"];var a=\"map\"===r[\"text-rotation-alignment\"]&&\"line\"===r[\"symbol-placement\"],u=\"map\"===r[\"icon-rotation-alignment\"]&&\"line\"===r[\"symbol-placement\"],l=r[\"text-allow-overlap\"]||r[\"icon-allow-overlap\"]||r[\"text-ignore-placement\"]||r[\"icon-ignore-placement\"];if(l){var c=t.angle,d=Math.sin(c),p=Math.cos(c);this.symbolInstances.sort(function(t,e){var n=d*t.x+p*t.y,i=d*e.x+p*e.y;return i-n})}for(var h=0;h<this.symbolInstances.length;h++){var f=this.symbolInstances[h],m=f.hasText,v=f.hasIcon,g=r[\"text-optional\"]||!m,y=r[\"icon-optional\"]||!v,b=m&&!r[\"text-allow-overlap\"]?t.placeCollisionFeature(f.textCollisionFeature):t.minScale,_=v&&!r[\"icon-allow-overlap\"]?t.placeCollisionFeature(f.iconCollisionFeature):t.minScale;g||y?!y&&b?b=Math.max(_,b):!g&&_&&(_=Math.max(_,b)):_=b=Math.max(_,b),m&&(r[\"text-ignore-placement\"]||t.insertCollisionFeature(f.textCollisionFeature,b),o>=b&&this.addSymbols(\"glyph\",f.glyphQuads,b,r[\"text-keep-upright\"],a,t.angle)),v&&(r[\"icon-ignore-placement\"]||t.insertCollisionFeature(f.iconCollisionFeature,_),o>=_&&this.addSymbols(\"icon\",f.iconQuads,_,r[\"icon-keep-upright\"],u,t.angle))}n&&this.addToDebugBuffers(t)},i.prototype.addSymbols=function(t,e,n,i,r,o){for(var a=this.makeRoomFor(t,4*e.length),s=this[this.getAddMethodName(t,\"element\")].bind(this),u=this[this.getAddMethodName(t,\"vertex\")].bind(this),l=this.zoom,c=Math.max(Math.log(n)/Math.LN2+l,0),d=0;d<e.length;d++){var p=e[d],h=p.angle,f=(h+o+Math.PI)%(2*Math.PI);if(!(i&&r&&(f<=Math.PI/2||f>3*Math.PI/2))){var m=p.tl,v=p.tr,g=p.bl,y=p.br,b=p.tex,_=p.anchorPoint,x=Math.max(l+Math.log(p.minScale)/Math.LN2,c),w=Math.min(l+Math.log(p.maxScale)/Math.LN2,25);if(!(x>=w)){x===c&&(x=0);var E=u(_.x,_.y,m.x,m.y,b.x,b.y,x,w,c)-a.vertexStartIndex;u(_.x,_.y,v.x,v.y,b.x+b.w,b.y,x,w,c),u(_.x,_.y,g.x,g.y,b.x,b.y+b.h,x,w,c),u(_.x,_.y,y.x,y.y,b.x+b.w,b.y+b.h,x,w,c),a.vertexLength+=4,s(E,E+1,E+2),s(E+1,E+2,E+3),a.elementLength+=2}}}},i.prototype.updateIcons=function(t){var e=this.layoutProperties[\"icon-image\"];if(e)for(var n=0;n<this.features.length;n++){var i=c(this.features[n].properties,e);i&&(t[i]=!0)}},i.prototype.updateFont=function(t){var e=this.layoutProperties[\"text-font\"],n=t[e]=t[e]||{};this.textFeatures=h(this.features,this.layoutProperties,n)},i.prototype.addToDebugBuffers=function(t){this.elementGroups.collisionBox=new s(this.buffers.collisionBoxVertex);for(var e=this.makeRoomFor(\"collisionBox\",8),n=-t.angle,i=t.yStretch,r=0;r<this.symbolInstances.length;r++)for(var a=0;2>a;a++){var u=this.symbolInstances[r][0===a?\"textCollisionFeature\":\"iconCollisionFeature\"];if(u)for(var l=u.boxes,c=0;c<l.length;c++){var d=l[c],p=d.anchorPoint,h=new o(d.x1,d.y1*i)._rotate(n),f=new o(d.x2,d.y1*i)._rotate(n),m=new o(d.x1,d.y2*i)._rotate(n),v=new o(d.x2,d.y2*i)._rotate(n),g=Math.max(0,Math.min(25,this.zoom+Math.log(d.maxScale)/Math.LN2)),y=Math.max(0,Math.min(25,this.zoom+Math.log(d.placementScale)/Math.LN2));this.addCollisionBoxVertex(p,h,g,y),this.addCollisionBoxVertex(p,f,g,y),this.addCollisionBoxVertex(p,f,g,y),this.addCollisionBoxVertex(p,v,g,y),this.addCollisionBoxVertex(p,v,g,y),this.addCollisionBoxVertex(p,m,g,y),this.addCollisionBoxVertex(p,m,g,y),this.addCollisionBoxVertex(p,h,g,y),e.vertexLength+=8}}}},{\"../symbol/anchor\":123,\"../symbol/clip_line\":126,\"../symbol/collision_feature\":128,\"../symbol/get_anchors\":130,\"../symbol/mergelines\":133,\"../symbol/quads\":134,\"../symbol/resolve_text\":135,\"../symbol/shaping\":136,\"../util/token\":165,\"../util/util\":166,\"./bucket\":72,\"./element_groups\":75,\"point-geometry\":170}],80:[function(t,e,n){\"use strict\";function i(t,e,n){this.column=t,this.row=e,this.zoom=n}e.exports=i,i.prototype={clone:function(){return new i(this.column,this.row,this.zoom)},zoomTo:function(t){return this.clone()._zoomTo(t)},sub:function(t){return this.clone()._sub(t)},_zoomTo:function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},_sub:function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this}}},{}],81:[function(t,e,n){\"use strict\";function i(t,e){if(isNaN(t)||isNaN(e))throw new Error(\"Invalid LngLat object: (\"+t+\", \"+e+\")\");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error(\"Invalid LngLat latitude value: must be between -90 and 90\")}e.exports=i;var r=t(\"../util/util\").wrap;i.prototype.wrap=function(){return new i(r(this.lng,-180,180),this.lat)},i.prototype.toArray=function(){return[this.lng,this.lat]},i.prototype.toString=function(){return\"LngLat(\"+this.lng+\", \"+this.lat+\")\"},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{\"../util/util\":166}],82:[function(t,e,n){\"use strict\";function i(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;r>i;i++)this.extend(n[i])}e.exports=i;var r=t(\"./lng_lat\");i.prototype={extend:function(t){var e,n,o=this._sw,a=this._ne;if(t instanceof r)e=t,n=t;else{if(!(t instanceof i))return t?this.extend(r.convert(t)||i.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return o||a?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new r(e.lng,e.lat),this._ne=new r(n.lng,n.lat)),this},getCenter:function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},getSouthWest:function(){return this._sw},getNorthEast:function(){return this._ne},getNorthWest:function(){return new r(this.getWest(),this.getNorth())},getSouthEast:function(){return new r(this.getEast(),this.getSouth())},getWest:function(){return this._sw.lng},getSouth:function(){return this._sw.lat},getEast:function(){return this._ne.lng},getNorth:function(){return this._ne.lat},toArray:function(){return[this._sw.toArray(),this._ne.toArray()]},toString:function(){return\"LngLatBounds(\"+this._sw.toString()+\", \"+this._ne.toString()+\")\"}},i.convert=function(t){return!t||t instanceof i?t:new i(t)}},{\"./lng_lat\":81}],83:[function(t,e,n){\"use strict\";function i(t,e){this.tileSize=512,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._altitude=1.5,this._pitch=0,this._unmodified=!0}var r=t(\"./lng_lat\"),o=t(\"point-geometry\"),a=t(\"./coordinate\"),s=t(\"../util/util\").wrap,u=t(\"../util/interpolate\"),l=t(\"gl-matrix\"),c=l.vec4,d=l.mat4,p=l.mat2;e.exports=i,i.prototype={get minZoom(){return this._minZoom},set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},get maxZoom(){return this._maxZoom},set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},get worldSize(){return this.tileSize*this.scale},get centerPoint(){return this.size._div(2)},get size(){return new o(this.width,this.height)},get bearing(){return-this.angle/Math.PI*180},set bearing(t){var e=-s(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcProjMatrix(),this.rotationMatrix=p.create(),p.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},get pitch(){return this._pitch/Math.PI*180},set pitch(t){var e=Math.min(60,t)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcProjMatrix())},get altitude(){return this._altitude},set altitude(t){var e=Math.max(.75,t);this._altitude!==e&&(this._unmodified=!1,this._altitude=e,this._calcProjMatrix())},get zoom(){return this._zoom},set zoom(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._calcProjMatrix(),this._constrain())},get center(){return this._center},set center(t){(t.lat!==this._center.lat||t.lng!==this._center.lng)&&(this._unmodified=!1,this._center=t,this._calcProjMatrix(),this._constrain())},resize:function(t,e){this.width=t,this.height=e,this.exMatrix=d.create(),d.ortho(this.exMatrix,0,t,e,0,0,-1),this._calcProjMatrix(),this._constrain()},get unmodified(){return this._unmodified},zoomScale:function(t){return Math.pow(2,t)},scaleZoom:function(t){return Math.log(t)/Math.LN2},project:function(t,e){return new o(this.lngX(t.lng,e),this.latY(t.lat,e))},unproject:function(t,e){return new r(this.xLng(t.x,e),this.yLat(t.y,e))},get x(){return this.lngX(this.center.lng)},get y(){return this.latY(this.center.lat)},get point(){return new o(this.x,this.y)},lngX:function(t,e){return(180+t)*(e||this.worldSize)/360},latY:function(t,e){var n=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-n)*(e||this.worldSize)/360},xLng:function(t,e){return 360*t/(e||this.worldSize)-180},yLat:function(t,e){var n=180-360*t/(e||this.worldSize);return 360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90},panBy:function(t){var e=this.centerPoint._add(t);this.center=this.pointLocation(e)},setLocationAtPoint:function(t,e){var n=this.locationCoordinate(t),i=this.pointCoordinate(e),r=this.pointCoordinate(this.centerPoint),o=i._sub(n);this._unmodified=!1,this.center=this.coordinateLocation(r._sub(o))},setZoomAround:function(t,e){var n;e&&(n=this.locationPoint(e)),this.zoom=t,e&&this.setLocationAtPoint(e,n)},setBearingAround:function(t,e){var n;e&&(n=this.locationPoint(e)),this.bearing=t,e&&this.setLocationAtPoint(e,n)},locationPoint:function(t){return this.coordinatePoint(this.locationCoordinate(t))},pointLocation:function(t){return this.coordinateLocation(this.pointCoordinate(t))},locationCoordinate:function(t){var e=this.zoomScale(this.tileZoom)/this.worldSize,n=r.convert(t);return new a(this.lngX(n.lng)*e,this.latY(n.lat)*e,this.tileZoom)},coordinateLocation:function(t){var e=this.zoomScale(t.zoom);return new r(this.xLng(t.column,e),this.yLat(t.row,e))},pointCoordinate:function(t,e){void 0===e&&(e=0);var n=this.coordinatePointMatrix(this.tileZoom);if(d.invert(n,n),!n)throw new Error(\"failed to invert matrix\");var i=[t.x,t.y,0,1],r=[t.x,t.y,1,1];c.transformMat4(i,i,n),c.transformMat4(r,r,n);var o=i[3],s=r[3],l=i[0]/o,p=r[0]/s,h=i[1]/o,f=r[1]/s,m=i[2]/o,v=r[2]/s,g=m===v?0:(e-m)/(v-m);return new a(u(l,p,g),u(h,f,g),this.tileZoom)},coordinatePoint:function(t){var e=this.coordinatePointMatrix(t.zoom),n=[t.column,t.row,0,1];return c.transformMat4(n,n,e),new o(n[0]/n[3],n[1]/n[3])},coordinatePointMatrix:function(t){var e=d.copy(new Float64Array(16),this.projMatrix),n=this.worldSize/this.zoomScale(t);return d.scale(e,e,[n,n,1]),d.multiply(e,this.getPixelMatrix(),e),e},getPixelMatrix:function(){var t=d.create();return d.scale(t,t,[this.width/2,-this.height/2,1]),d.translate(t,t,[1,-1,0]),t},_constrain:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,i,r,a,s,u,l=this.size,c=this._unmodified;this.latRange&&(t=this.latY(this.latRange[1]),e=this.latY(this.latRange[0]),r=e-t<l.y?l.y/(e-t):0),this.lngRange&&(n=this.lngX(this.lngRange[0]),i=this.lngX(this.lngRange[1]),a=i-n<l.x?l.x/(i-n):0);var d=Math.max(a||0,r||0);if(d)return this.center=this.unproject(new o(a?(i+n)/2:this.x,r?(e+t)/2:this.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var p=this.y,h=l.y/2;t>p-h&&(u=t+h),p+h>e&&(u=e-h)}if(this.lngRange){var f=this.x,m=l.x/2;n>f-m&&(s=n+m),f+m>i&&(s=i-m)}(void 0!==s||void 0!==u)&&(this.center=this.unproject(new o(void 0!==s?s:this.x,void 0!==u?u:this.y))),this._unmodified=c,this._constraining=!1}},_calcProjMatrix:function(){var t=new Float64Array(16),e=Math.atan(.5/this.altitude),n=Math.sin(e)*this.altitude/Math.sin(Math.PI/2-this._pitch-e),i=Math.cos(Math.PI/2-this._pitch)*n+this.altitude;d.perspective(t,2*Math.atan(this.height/2/this.altitude),this.width/this.height,.1,i),d.translate(t,t,[0,0,-this.altitude]),d.scale(t,t,[1,-1,1/this.height]),d.rotateX(t,t,this._pitch),d.rotateZ(t,t,this.angle),d.translate(t,t,[-this.x,-this.y,0]),this.projMatrix=t}}},{\"../util/interpolate\":162,\"../util/util\":166,\"./coordinate\":80,\"./lng_lat\":81,\"gl-matrix\":46,\"point-geometry\":170}],84:[function(t,e,n){\"use strict\";var i={\" \":[16,[]],\n\"!\":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'\"':[16,[4,21,4,14,-1,-1,12,21,12,14]],\"#\":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],\"%\":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],\"&\":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],\"'\":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],\"(\":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],\")\":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],\"*\":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],\"+\":[26,[13,18,13,0,-1,-1,4,9,22,9]],\",\":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],\"-\":[26,[4,9,22,9]],\".\":[10,[5,2,4,1,5,0,6,1,5,2]],\"/\":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],\":\":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],\";\":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],\"<\":[24,[20,18,4,9,20,0]],\"=\":[26,[4,12,22,12,-1,-1,4,6,22,6]],\">\":[24,[4,18,20,9,4,0]],\"?\":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],\"@\":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],\"[\":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],\"\\\\\":[14,[0,21,14,-3]],\"]\":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],\"^\":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],\"`\":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],\"{\":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],\"|\":[8,[4,25,4,-7]],\"}\":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],\"~\":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};e.exports=function(t,e,n,r){r=r||1;var o,a,s,u,l,c,d,p,h=[];for(o=0,a=t.length;a>o;o++)if(l=i[t[o]]){for(p=null,s=0,u=l[1].length;u>s;s+=2)-1===l[1][s]&&-1===l[1][s+1]?p=null:(c=e+l[1][s]*r,d=n-l[1][s+1]*r,p&&h.push(p.x,p.y,c,d),p={x:c,y:d});e+=l[0]*r}return h}},{}],85:[function(t,e,n){\"use strict\";var i=e.exports={};i.Map=t(\"./ui/map\"),i.Control=t(\"./ui/control/control\"),i.Navigation=t(\"./ui/control/navigation\"),i.Attribution=t(\"./ui/control/attribution\"),i.Popup=t(\"./ui/popup\"),i.GeoJSONSource=t(\"./source/geojson_source\"),i.VideoSource=t(\"./source/video_source\"),i.ImageSource=t(\"./source/image_source\"),i.Style=t(\"./style/style\"),i.LngLat=t(\"./geo/lng_lat\"),i.LngLatBounds=t(\"./geo/lng_lat_bounds\"),i.Point=t(\"point-geometry\"),i.Evented=t(\"./util/evented\"),i.util=t(\"./util/util\"),i.supported=t(\"./util/browser\").supported;var r=t(\"./util/ajax\");i.util.getJSON=r.getJSON,i.util.getArrayBuffer=r.getArrayBuffer;var o=t(\"./util/config\");i.config=o,Object.defineProperty(i,\"accessToken\",{get:function(){return o.ACCESS_TOKEN},set:function(t){o.ACCESS_TOKEN=t}})},{\"./geo/lng_lat\":81,\"./geo/lng_lat_bounds\":82,\"./source/geojson_source\":100,\"./source/image_source\":102,\"./source/video_source\":109,\"./style/style\":117,\"./ui/control/attribution\":139,\"./ui/control/control\":140,\"./ui/control/navigation\":141,\"./ui/map\":151,\"./ui/popup\":152,\"./util/ajax\":154,\"./util/browser\":155,\"./util/config\":159,\"./util/evented\":160,\"./util/util\":166,\"point-geometry\":170}],86:[function(t,e,n){\"use strict\";function i(t,e,n){var i,o=t.gl,a=e.paint[\"background-color\"],s=e.paint[\"background-pattern\"],u=e.paint[\"background-opacity\"],l=s?t.spriteAtlas.getPosition(s.from,!0):null,c=s?t.spriteAtlas.getPosition(s.to,!0):null;if(l&&c){i=t.patternShader,o.switchShader(i,n),o.uniform1i(i.u_image,0),o.uniform2fv(i.u_pattern_tl_a,l.tl),o.uniform2fv(i.u_pattern_br_a,l.br),o.uniform2fv(i.u_pattern_tl_b,c.tl),o.uniform2fv(i.u_pattern_br_b,c.br),o.uniform1f(i.u_opacity,u);var d=t.transform,p=l.size,h=c.size,f=d.locationCoordinate(d.center),m=1/Math.pow(2,d.zoomFraction);o.uniform1f(i.u_mix,s.t);var v=r.create();r.scale(v,v,[1/(p[0]*s.fromScale),1/(p[1]*s.fromScale)]),r.translate(v,v,[f.column*d.tileSize%(p[0]*s.fromScale),f.row*d.tileSize%(p[1]*s.fromScale)]),r.rotate(v,v,-d.angle),r.scale(v,v,[m*d.width/2,-m*d.height/2]);var g=r.create();r.scale(g,g,[1/(h[0]*s.toScale),1/(h[1]*s.toScale)]),r.translate(g,g,[f.column*d.tileSize%(h[0]*s.toScale),f.row*d.tileSize%(h[1]*s.toScale)]),r.rotate(g,g,-d.angle),r.scale(g,g,[m*d.width/2,-m*d.height/2]),o.uniformMatrix3fv(i.u_patternmatrix_a,!1,v),o.uniformMatrix3fv(i.u_patternmatrix_b,!1,g),t.spriteAtlas.bind(o,!0)}else i=t.fillShader,o.switchShader(i,n),o.uniform4fv(i.u_color,a);o.disable(o.STENCIL_TEST),o.bindBuffer(o.ARRAY_BUFFER,t.backgroundBuffer),o.vertexAttribPointer(i.a_pos,t.backgroundBuffer.itemSize,o.SHORT,!1,0,0),o.drawArrays(o.TRIANGLE_STRIP,0,t.backgroundBuffer.itemCount),o.enable(o.STENCIL_TEST),o.stencilMask(0),o.stencilFunc(o.EQUAL,128,128)}var r=t(\"gl-matrix\").mat3;e.exports=i},{\"gl-matrix\":46}],87:[function(t,e,n){\"use strict\";function i(t,e,n,i){if(i.buffers&&(n=t.translateMatrix(n,i,e.paint[\"circle-translate\"],e.paint[\"circle-translate-anchor\"]),i.elementGroups[e.ref||e.id])){var o=i.elementGroups[e.ref||e.id].circle,a=t.gl;a.disable(a.STENCIL_TEST),a.switchShader(t.circleShader,n,i.exMatrix);var s=i.buffers.circleVertex,u=t.circleShader,l=i.buffers.circleElement,c=1/r.devicePixelRatio/e.paint[\"circle-radius\"];a.uniform4fv(u.u_color,e.paint[\"circle-color\"]),a.uniform1f(u.u_blur,Math.max(e.paint[\"circle-blur\"],c)),a.uniform1f(u.u_size,e.paint[\"circle-radius\"]);for(var d=0;d<o.groups.length;d++){var p=o.groups[d],h=p.vertexStartIndex*s.itemSize;s.bind(a),s.setAttribPointers(a,u,h),l.bind(a);var f=3*p.elementLength,m=p.elementStartIndex*l.itemSize;a.drawElements(a.TRIANGLES,f,a.UNSIGNED_SHORT,m)}a.enable(a.STENCIL_TEST)}}var r=t(\"../util/browser.js\");e.exports=i},{\"../util/browser.js\":155}],88:[function(t,e,n){\"use strict\";function i(t,e,n,i){var r=i.elementGroups[e.ref||e.id].collisionBox;if(r){var o=t.gl,a=i.buffers.collisionBoxVertex,s=t.collisionBoxShader;o.enable(o.STENCIL_TEST),o.switchShader(s,n),a.bind(o),a.setAttribPointers(o,s,0),o.lineWidth(1),o.uniform1f(s.u_scale,Math.pow(2,t.transform.zoom-i.coord.z)),o.uniform1f(s.u_zoom,10*t.transform.zoom),o.uniform1f(s.u_maxzoom,10*(i.coord.z+1));var u=r.groups[0].vertexStartIndex,l=r.groups[0].vertexLength;o.drawArrays(o.LINES,u,l),o.disable(o.STENCIL_TEST)}}e.exports=i},{}],89:[function(t,e,n){\"use strict\";function i(t,e){var n=t.gl;n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.switchShader(t.debugShader,e.posMatrix),n.bindBuffer(n.ARRAY_BUFFER,t.debugBuffer),n.vertexAttribPointer(t.debugShader.a_pos,t.debugBuffer.itemSize,n.SHORT,!1,0,0),n.uniform4f(t.debugShader.u_color,1,0,0,1),n.lineWidth(4),n.drawArrays(n.LINE_STRIP,0,t.debugBuffer.itemCount);var i=r(e.coord.toString(),50,200,5);n.bindBuffer(n.ARRAY_BUFFER,t.debugTextBuffer),n.bufferData(n.ARRAY_BUFFER,new Int16Array(i),n.STREAM_DRAW),n.vertexAttribPointer(t.debugShader.a_pos,t.debugTextBuffer.itemSize,n.SHORT,!1,0,0),n.lineWidth(8*o.devicePixelRatio),n.uniform4f(t.debugShader.u_color,1,1,1,1),n.drawArrays(n.LINES,0,i.length/t.debugTextBuffer.itemSize),n.lineWidth(2*o.devicePixelRatio),n.uniform4f(t.debugShader.u_color,0,0,0,1),n.drawArrays(n.LINES,0,i.length/t.debugTextBuffer.itemSize),n.blendFunc(n.ONE_MINUS_DST_ALPHA,n.ONE)}var r=t(\"../lib/debugtext\"),o=t(\"../util/browser\");e.exports=i},{\"../lib/debugtext\":84,\"../util/browser\":155}],90:[function(t,e,n){\"use strict\";function i(t,e,n,i){if(i.buffers&&i.elementGroups[e.ref||e.id]){var a,s,u,l,c=i.elementGroups[e.ref||e.id].fill,d=t.gl,p=t.translateMatrix(n,i,e.paint[\"fill-translate\"],e.paint[\"fill-translate-anchor\"]),h=e.paint[\"fill-color\"];d.stencilMask(63),d.clear(d.STENCIL_BUFFER_BIT),d.stencilFunc(d.NOTEQUAL,128,128),d.stencilOpSeparate(d.FRONT,d.INCR_WRAP,d.KEEP,d.KEEP),d.stencilOpSeparate(d.BACK,d.DECR_WRAP,d.KEEP,d.KEEP),d.colorMask(!1,!1,!1,!1),d.switchShader(t.fillShader,p),a=i.buffers.fillVertex,a.bind(d),s=i.buffers.fillElement,s.bind(d);for(var f,m,v=0;v<c.groups.length;v++)u=c.groups[v],f=u.vertexStartIndex*a.itemSize,a.setAttribPointers(d,t.fillShader,f),l=3*u.elementLength,m=u.elementStartIndex*s.itemSize,d.drawElements(d.TRIANGLES,l,d.UNSIGNED_SHORT,m);d.colorMask(!0,!0,!0,!0),d.stencilOp(d.KEEP,d.KEEP,d.KEEP),d.stencilMask(0);var g=e.paint[\"fill-outline-color\"];if(e.paint[\"fill-antialias\"]===!0&&(!e.paint[\"fill-pattern\"]||g)){d.switchShader(t.outlineShader,p),d.lineWidth(2*r.devicePixelRatio),g?d.stencilFunc(d.EQUAL,128,128):d.stencilFunc(d.EQUAL,128,191),d.uniform2f(t.outlineShader.u_world,d.drawingBufferWidth,d.drawingBufferHeight),d.uniform4fv(t.outlineShader.u_color,g?g:h),a=i.buffers.fillVertex,s=i.buffers.fillSecondElement,s.bind(d);for(var y=0;y<c.groups.length;y++)u=c.groups[y],f=u.vertexStartIndex*a.itemSize,a.setAttribPointers(d,t.outlineShader,f),l=2*u.secondElementLength,m=u.secondElementStartIndex*s.itemSize,d.drawElements(d.LINES,l,d.UNSIGNED_SHORT,m)}var b,_=e.paint[\"fill-pattern\"],x=e.paint[\"fill-opacity\"]||1;if(_){var w=t.spriteAtlas.getPosition(_.from,!0),E=t.spriteAtlas.getPosition(_.to,!0);if(!w||!E)return;b=t.patternShader,d.switchShader(b,n),d.uniform1i(b.u_image,0),d.uniform2fv(b.u_pattern_tl_a,w.tl),d.uniform2fv(b.u_pattern_br_a,w.br),d.uniform2fv(b.u_pattern_tl_b,E.tl),d.uniform2fv(b.u_pattern_br_b,E.br),d.uniform1f(b.u_opacity,x),d.uniform1f(b.u_mix,_.t);var M=i.tileExtent/i.tileSize/Math.pow(2,t.transform.tileZoom-i.coord.z),S=o.create();o.scale(S,S,[1/(w.size[0]*M*_.fromScale),1/(w.size[1]*M*_.fromScale)]);var C=o.create();o.scale(C,C,[1/(E.size[0]*M*_.toScale),1/(E.size[1]*M*_.toScale)]),d.uniformMatrix3fv(b.u_patternmatrix_a,!1,S),d.uniformMatrix3fv(b.u_patternmatrix_b,!1,C),t.spriteAtlas.bind(d,!0)}else b=t.fillShader,d.switchShader(b,n),d.uniform4fv(b.u_color,h);d.stencilFunc(d.NOTEQUAL,0,63),d.bindBuffer(d.ARRAY_BUFFER,t.tileExtentBuffer),d.vertexAttribPointer(b.a_pos,t.tileExtentBuffer.itemSize,d.SHORT,!1,0,0),d.drawArrays(d.TRIANGLE_STRIP,0,t.tileExtentBuffer.itemCount),d.stencilMask(0),d.stencilFunc(d.EQUAL,128,128)}}var r=t(\"../util/browser\"),o=t(\"gl-matrix\").mat3;e.exports=i},{\"../util/browser\":155,\"gl-matrix\":46}],91:[function(t,e,n){\"use strict\";var i=t(\"../util/browser\"),r=t(\"gl-matrix\").mat2;e.exports=function(t,e,n,o){if(o.buffers&&o.elementGroups[e.ref||e.id]){var a=o.elementGroups[e.ref||e.id].line,s=t.gl;if(!(e.paint[\"line-width\"]<=0)){var u=1/i.devicePixelRatio,l=e.paint[\"line-blur\"]+u,c=e.paint[\"line-width\"]/2,d=-1,p=0,h=0;e.paint[\"line-gap-width\"]>0&&(d=e.paint[\"line-gap-width\"]/2+.5*u,c=e.paint[\"line-width\"],p=d-u/2);var f=p+c+u/2+h,m=e.paint[\"line-color\"],v=t.transform.scale/(1<<o.coord.z)/(o.tileExtent/o.tileSize),g=t.translateMatrix(n,o,e.paint[\"line-translate\"],e.paint[\"line-translate-anchor\"]),y=t.transform,b=r.create();r.scale(b,b,[1,Math.cos(y._pitch)]),r.rotate(b,b,t.transform.angle);var _,x=Math.sqrt(y.height*y.height/4*(1+y.altitude*y.altitude)),w=y.height/2*Math.tan(y._pitch),E=(x+w)/x-1,M=o.tileSize/t.transform.tileSize,S=e.paint[\"line-dasharray\"],C=e.paint[\"line-pattern\"];if(S){_=t.linesdfpatternShader,s.switchShader(_,g,o.exMatrix),s.uniform2fv(_.u_linewidth,[f,d]),s.uniform1f(_.u_ratio,v),s.uniform1f(_.u_blur,l),s.uniform4fv(_.u_color,m);var T=t.lineAtlas.getDash(S.from,\"round\"===e.layout[\"line-cap\"]),R=t.lineAtlas.getDash(S.to,\"round\"===e.layout[\"line-cap\"]);t.lineAtlas.bind(s);var P=Math.pow(2,Math.floor(Math.log(t.transform.scale)/Math.LN2)-o.coord.z)/8*M,I=[P/T.width/S.fromScale,-T.height/2],D=t.lineAtlas.width/(S.fromScale*T.width*256*i.devicePixelRatio)/2,A=[P/R.width/S.toScale,-R.height/2],L=t.lineAtlas.width/(S.toScale*R.width*256*i.devicePixelRatio)/2;s.uniform2fv(_.u_patternscale_a,I),s.uniform1f(_.u_tex_y_a,T.y),s.uniform2fv(_.u_patternscale_b,A),s.uniform1f(_.u_tex_y_b,R.y),s.uniform1i(_.u_image,0),s.uniform1f(_.u_sdfgamma,Math.max(D,L)),s.uniform1f(_.u_mix,S.t),s.uniform1f(_.u_extra,E),s.uniform1f(_.u_offset,e.paint[\"line-offset\"]),s.uniformMatrix2fv(_.u_antialiasingmatrix,!1,b)}else if(C){var O=t.spriteAtlas.getPosition(C.from,!0),N=t.spriteAtlas.getPosition(C.to,!0);if(!O||!N)return;var k=o.tileExtent/o.tileSize/Math.pow(2,t.transform.tileZoom-o.coord.z)*M;t.spriteAtlas.bind(s,!0),_=t.linepatternShader,s.switchShader(_,g,o.exMatrix),s.uniform2fv(_.u_linewidth,[f,d]),s.uniform1f(_.u_ratio,v),s.uniform1f(_.u_blur,l),s.uniform2fv(_.u_pattern_size_a,[O.size[0]*k*C.fromScale,N.size[1]]),s.uniform2fv(_.u_pattern_size_b,[N.size[0]*k*C.toScale,N.size[1]]),s.uniform2fv(_.u_pattern_tl_a,O.tl),s.uniform2fv(_.u_pattern_br_a,O.br),s.uniform2fv(_.u_pattern_tl_b,N.tl),s.uniform2fv(_.u_pattern_br_b,N.br),s.uniform1f(_.u_fade,C.t),s.uniform1f(_.u_opacity,e.paint[\"line-opacity\"]),s.uniform1f(_.u_extra,E),s.uniform1f(_.u_offset,e.paint[\"line-offset\"]),s.uniformMatrix2fv(_.u_antialiasingmatrix,!1,b)}else _=t.lineShader,s.switchShader(_,g,o.exMatrix),s.uniform2fv(_.u_linewidth,[f,d]),s.uniform1f(_.u_ratio,v),s.uniform1f(_.u_blur,l),s.uniform1f(_.u_extra,E),s.uniform1f(_.u_offset,e.paint[\"line-offset\"]),s.uniformMatrix2fv(_.u_antialiasingmatrix,!1,b),s.uniform4fv(_.u_color,m);var j=o.buffers.lineVertex;j.bind(s);var z=o.buffers.lineElement;z.bind(s);for(var F=0;F<a.groups.length;F++){var U=a.groups[F],B=U.vertexStartIndex*j.itemSize;j.setAttribPointers(s,_,B);var V=3*U.elementLength,q=U.elementStartIndex*z.itemSize;s.drawElements(s.TRIANGLES,V,s.UNSIGNED_SHORT,q)}}}}},{\"../util/browser\":155,\"gl-matrix\":46}],92:[function(t,e,n){\"use strict\";function i(t,e,n,i){var u=t.gl;u.disable(u.STENCIL_TEST);var l=t.rasterShader;u.switchShader(l,n),u.uniform1f(l.u_brightness_low,e.paint[\"raster-brightness-min\"]),u.uniform1f(l.u_brightness_high,e.paint[\"raster-brightness-max\"]),u.uniform1f(l.u_saturation_factor,a(e.paint[\"raster-saturation\"])),u.uniform1f(l.u_contrast_factor,o(e.paint[\"raster-contrast\"])),u.uniform3fv(l.u_spin_weights,r(e.paint[\"raster-hue-rotate\"]));var c,d,p=i.source&&i.source._pyramid.findLoadedParent(i.coord,0,{}),h=s(i,p,e,t.transform);u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,i.texture),p?(u.activeTexture(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,p.texture),c=Math.pow(2,p.coord.z-i.coord.z),d=[i.coord.x*c%1,i.coord.y*c%1]):h[1]=0,u.uniform2fv(l.u_tl_parent,d||[0,0]),u.uniform1f(l.u_scale_parent,c||1),u.uniform1f(l.u_buffer_scale,1),u.uniform1f(l.u_opacity0,h[0]),u.uniform1f(l.u_opacity1,h[1]),u.uniform1i(l.u_image0,0),u.uniform1i(l.u_image1,1),u.bindBuffer(u.ARRAY_BUFFER,i.boundsBuffer||t.tileExtentBuffer),u.vertexAttribPointer(l.a_pos,2,u.SHORT,!1,8,0),u.vertexAttribPointer(l.a_texture_pos,2,u.SHORT,!1,8,4),u.drawArrays(u.TRIANGLE_STRIP,0,4),u.enable(u.STENCIL_TEST)}function r(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function o(t){return t>0?1/(1-t):1+t}function a(t){return t>0?1-1/(1.001-t):-t}function s(t,e,n,i){var r=[1,0];if(t.source){var o=(new Date).getTime(),a=n.paint[\"raster-fade-duration\"],s=(o-t.timeAdded)/a,l=e?(o-e.timeAdded)/a:-1,c=t.source._pyramid.coveringZoomLevel(i),d=e?Math.abs(e.coord.z-c)>Math.abs(t.coord.z-c):!1;!e||d?(r[0]=u.clamp(s,0,1),r[1]=1-r[0]):(r[0]=u.clamp(1-l,0,1),r[1]=1-r[0])}var p=n.paint[\"raster-opacity\"];return r[0]*=p,r[1]*=p,r}var u=t(\"../util/util\");e.exports=i},{\"../util/util\":166}],93:[function(t,e,n){\"use strict\";function i(t,e,n,i){if(i.buffers){var o=i.elementGroups[e.ref||e.id];if(o){var a=!(e.layout[\"text-allow-overlap\"]||e.layout[\"icon-allow-overlap\"]||e.layout[\"text-ignore-placement\"]||e.layout[\"icon-ignore-placement\"]),u=t.gl;a&&u.disable(u.STENCIL_TEST),o.glyph.groups.length&&r(t,e,n,i,o.glyph,\"text\",!0),o.icon.groups.length&&r(t,e,n,i,o.icon,\"icon\",o.sdfIcons),s(t,e,n,i),a&&u.enable(u.STENCIL_TEST)}}}function r(t,e,n,i,r,s,l){var c=t.gl;n=t.translateMatrix(n,i,e.paint[s+\"-translate\"],e.paint[s+\"-translate-anchor\"]);var d,p,h,f=t.transform,m=\"map\"===e.layout[s+\"-rotation-alignment\"],v=m;v?(d=a.create(),p=i.tileExtent/i.tileSize/Math.pow(2,t.transform.zoom-i.coord.z),h=1/Math.cos(f._pitch)):(d=a.clone(i.exMatrix),p=t.transform.altitude,h=1),a.scale(d,d,[p,p,1]);var g=e.paint[s+\"-size\"],y=g/u[s];a.scale(d,d,[y,y,1]);var b,_,x,w,E=Math.sqrt(f.height*f.height/4*(1+f.altitude*f.altitude)),M=f.height/2*Math.tan(f._pitch),S=(E+M)/E-1,C=\"text\"===s;if(C||t.style.sprite.loaded()){c.activeTexture(c.TEXTURE0),b=l?t.sdfShader:t.iconShader,C?(t.glyphAtlas.updateTexture(c),_=i.buffers.glyphVertex,x=i.buffers.glyphElement,w=[t.glyphAtlas.width/4,t.glyphAtlas.height/4]):(t.spriteAtlas.bind(c,m||t.options.rotating||t.options.zooming||1!==y||l||t.transform.pitch),_=i.buffers.iconVertex,x=i.buffers.iconElement,w=[t.spriteAtlas.width/4,t.spriteAtlas.height/4]),c.switchShader(b,n,d),c.uniform1i(b.u_texture,0),c.uniform2fv(b.u_texsize,w),c.uniform1i(b.u_skewed,v),c.uniform1f(b.u_extra,S);var T=Math.log(g/r[s+\"-size\"])/Math.LN2||0;c.uniform1f(b.u_zoom,10*(t.transform.zoom-T));var R=t.frameHistory.getFadeProperties(300);c.uniform1f(b.u_fadedist,10*R.fadedist),c.uniform1f(b.u_minfadezoom,Math.floor(10*R.minfadezoom)),c.uniform1f(b.u_maxfadezoom,Math.floor(10*R.maxfadezoom)),c.uniform1f(b.u_fadezoom,10*(t.transform.zoom+R.bump));var P,I,D,A;if(x.bind(c),l){var L=8,O=1.19,N=6,k=.105*u[s]/g/o.devicePixelRatio;c.uniform1f(b.u_gamma,k*h),c.uniform4fv(b.u_color,e.paint[s+\"-color\"]),c.uniform1f(b.u_buffer,.75);for(var j=0;j<r.groups.length;j++)P=r.groups[j],I=P.vertexStartIndex*_.itemSize,_.bind(c),_.setAttribPointers(c,b,I),D=3*P.elementLength,A=P.elementStartIndex*x.itemSize,c.drawElements(c.TRIANGLES,D,c.UNSIGNED_SHORT,A);if(e.paint[s+\"-halo-width\"]){c.uniform1f(b.u_gamma,(e.paint[s+\"-halo-blur\"]*O/y/L+k)*h),c.uniform4fv(b.u_color,e.paint[s+\"-halo-color\"]),c.uniform1f(b.u_buffer,(N-e.paint[s+\"-halo-width\"]/y)/L);for(var z=0;z<r.groups.length;z++)P=r.groups[z],I=P.vertexStartIndex*_.itemSize,_.bind(c),_.setAttribPointers(c,b,I),D=3*P.elementLength,A=P.elementStartIndex*x.itemSize,c.drawElements(c.TRIANGLES,D,c.UNSIGNED_SHORT,A)}}else{c.uniform1f(b.u_opacity,e.paint[\"icon-opacity\"]);for(var F=0;F<r.groups.length;F++)P=r.groups[F],I=P.vertexStartIndex*_.itemSize,_.bind(c),_.setAttribPointers(c,b,I),D=3*P.elementLength,A=P.elementStartIndex*x.itemSize,c.drawElements(c.TRIANGLES,D,c.UNSIGNED_SHORT,A)}}}var o=t(\"../util/browser\"),a=t(\"gl-matrix\").mat4,s=t(\"./draw_collision_debug\");e.exports=i;var u={icon:1,text:24}},{\"../util/browser\":155,\"./draw_collision_debug\":88,\"gl-matrix\":46}],94:[function(t,e,n){\"use strict\";function i(t,e,n,i){function a(e,n,i){s.switchShader(t.dotShader,i),s.uniform1f(t.dotShader.u_size,4*r.devicePixelRatio),s.uniform1f(t.dotShader.u_blur,.25),s.uniform4fv(t.dotShader.u_color,[.1,0,0,.1]),e.bind(s);for(var o=0;o<n.length;o++){var a=n[o],u=a.vertexStartIndex,l=a.vertexLength;s.vertexAttribPointer(t.dotShader.a_pos,2,s.SHORT,!1,e.itemSize,0),s.drawArrays(s.POINTS,u,l)}}var s=t.gl;if(i&&i.buffers){var u=i.elementGroups[e.ref||e.id];if(u){if(s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),\"fill\"===e.type)a(i.buffers.fillVertex,u.groups,n);else if(\"symbol\"===e.type)a(i.buffers.iconVertex,u.icon.groups,n),a(i.buffers.glyphVertex,u.glyph.groups,n);else if(\"line\"===e.type){var l=o.clone(n);o.scale(l,l,[.5,.5,1]),a(i.buffers.lineVertex,u.groups,l)}s.blendFunc(s.ONE_MINUS_DST_ALPHA,s.ONE)}}}var r=t(\"../util/browser\"),o=t(\"gl-matrix\").mat4;e.exports=i},{\"../util/browser\":155,\"gl-matrix\":46}],95:[function(t,e,n){\"use strict\";function i(){this.frameHistory=[]}e.exports=i,i.prototype.getFadeProperties=function(t){void 0===t&&(t=300);for(var e=(new Date).getTime();this.frameHistory.length>3&&this.frameHistory[1].time+t<e;)this.frameHistory.shift();this.frameHistory[1].time+t<e&&(this.frameHistory[0].z=this.frameHistory[1].z);var n=this.frameHistory.length;3>n&&console.warn(\"there should never be less than three frames in the history\");var i=this.frameHistory[0].z,r=this.frameHistory[n-1],o=r.z,a=Math.min(i,o),s=Math.max(i,o),u=r.z-this.frameHistory[1].z,l=r.time-this.frameHistory[1].time,c=u/(l/t);isNaN(c)&&console.warn(\"fadedist should never be NaN\");var d=(e-r.time)/t*c;return{fadedist:c,minfadezoom:a,maxfadezoom:s,bump:d}},i.prototype.record=function(t){var e=(new Date).getTime();this.frameHistory.length||this.frameHistory.push({time:0,z:t},{time:0,z:t}),(2===this.frameHistory.length||this.frameHistory[this.frameHistory.length-1].z!==t)&&this.frameHistory.push({time:e,z:t})}},{}],96:[function(t,e,n){\"use strict\";var i=t(\"./shaders\"),r=t(\"../util/util\");n.extend=function(t){var e=t.lineWidth,n=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE);return t.lineWidth=function(i){e.call(t,r.clamp(i,n[0],n[1]))},t.getShader=function(t,e){var n=e===this.FRAGMENT_SHADER?\"fragment\":\"vertex\";if(!i[t]||!i[t][n])throw new Error(\"Could not find shader \"+t);var r=this.createShader(e),o=i[t][n];if(\"undefined\"==typeof orientation&&(o=o.replace(/ highp /g,\" \")),this.shaderSource(r,o),this.compileShader(r),!this.getShaderParameter(r,this.COMPILE_STATUS))throw new Error(this.getShaderInfoLog(r));return r},t.initializeShader=function(t,e,n){var i={program:this.createProgram(),fragment:this.getShader(t,this.FRAGMENT_SHADER),vertex:this.getShader(t,this.VERTEX_SHADER),attributes:[]};if(this.attachShader(i.program,i.vertex),this.attachShader(i.program,i.fragment),this.linkProgram(i.program),this.getProgramParameter(i.program,this.LINK_STATUS)){for(var r=0;r<e.length;r++)i[e[r]]=this.getAttribLocation(i.program,e[r]),i.attributes.push(i[e[r]]);for(var o=0;o<n.length;o++)i[n[o]]=this.getUniformLocation(i.program,n[o])}else console.error(this.getProgramInfoLog(i.program));return i},t.switchShader=function(t,e,n){if(e||console.trace(\"posMatrix does not have required argument\"),this.currentShader!==t){this.useProgram(t.program);for(var i=this.currentShader?this.currentShader.attributes:[],r=t.attributes,o=0;o<i.length;o++)r.indexOf(i[o])<0&&this.disableVertexAttribArray(i[o]);for(var a=0;a<r.length;a++)i.indexOf(r[a])<0&&this.enableVertexAttribArray(r[a]);this.currentShader=t}t.posMatrix!==e&&(this.uniformMatrix4fv(t.u_matrix,!1,e),t.posMatrix=e),n&&t.exMatrix!==n&&t.u_exmatrix&&(this.uniformMatrix4fv(t.u_exmatrix,!1,n),t.exMatrix=n)},t.vertexAttrib2fv=function(e,n){t.vertexAttrib2f(e,n[0],n[1])},t.vertexAttrib3fv=function(e,n){t.vertexAttrib3f(e,n[0],n[1],n[2])},t.vertexAttrib4fv=function(e,n){t.vertexAttrib4f(e,n[0],n[1],n[2],n[3])},t}},{\"../util/util\":166,\"./shaders\":99}],97:[function(t,e,n){\"use strict\";function i(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}}e.exports=i,i.prototype.setSprite=function(t){this.sprite=t},i.prototype.getDash=function(t,e){var n=t.join(\",\")+e;return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},i.prototype.addDash=function(t,e){var n=e?7:0,i=2*n+1,r=128;if(this.nextRow+i>this.height)return console.warn(\"LineAtlas out of space\"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];for(var s=this.width/o,u=s/2,l=t.length%2===1,c=-n;n>=c;c++)for(var d=this.nextRow+n+c,p=this.width*d,h=l?-t[t.length-1]:0,f=t[0],m=1,v=0;v<this.width;v++){for(;v/s>f;)h=f,f+=t[m],l&&m===t.length-1&&(f+=t[0]),m++;var g,y=Math.abs(v-h*s),b=Math.abs(v-f*s),_=Math.min(y,b),x=m%2===1;if(e){var w=n?c/n*(u+1):0;if(x){var E=u-Math.abs(w);g=Math.sqrt(_*_+E*E)}else g=u-Math.sqrt(_*_+w*w)}else g=(x?1:-1)*_;this.data[3+4*(p+v)]=Math.max(0,Math.min(255,g+r))}var M={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:o};return this.nextRow+=i,this.dirty=!0,M},i.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},i.prototype.debug=function(){var t=document.createElement(\"canvas\");document.body.appendChild(t),t.style.position=\"absolute\",t.style.top=0,t.style.left=0,t.style.background=\"#ff0\",t.width=this.width,t.height=this.height;for(var e=t.getContext(\"2d\"),n=e.getImageData(0,0,this.width,this.height),i=0;i<this.data.length;i++)if(this.sdf){var r=4*i;n.data[r]=n.data[r+1]=n.data[r+2]=0,n.data[r+3]=this.data[i]}else n.data[i]=this.data[i];e.putImageData(n,0,0)}},{}],98:[function(t,e,n){\"use strict\";function i(t,e){this.gl=r.extend(t),this.transform=e,this.reusableTextures={},this.preFbos={},this.frameHistory=new s,this.setup()}var r=t(\"./gl_util\"),o=t(\"../util/browser\"),a=t(\"gl-matrix\").mat4,s=t(\"./frame_history\");e.exports=i,i.prototype.resize=function(t,e){var n=this.gl;this.width=t*o.devicePixelRatio,this.height=e*o.devicePixelRatio,n.viewport(0,0,this.width,this.height)},i.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE_MINUS_DST_ALPHA,t.ONE),t.enable(t.STENCIL_TEST),this.debugShader=t.initializeShader(\"debug\",[\"a_pos\"],[\"u_matrix\",\"u_color\"]),this.rasterShader=t.initializeShader(\"raster\",[\"a_pos\",\"a_texture_pos\"],[\"u_matrix\",\"u_brightness_low\",\"u_brightness_high\",\"u_saturation_factor\",\"u_spin_weights\",\"u_contrast_factor\",\"u_opacity0\",\"u_opacity1\",\"u_image0\",\"u_image1\",\"u_tl_parent\",\"u_scale_parent\",\"u_buffer_scale\"]),this.circleShader=t.initializeShader(\"circle\",[\"a_pos\"],[\"u_matrix\",\"u_exmatrix\",\"u_blur\",\"u_size\",\"u_color\"]),this.lineShader=t.initializeShader(\"line\",[\"a_pos\",\"a_data\"],[\"u_matrix\",\"u_linewidth\",\"u_color\",\"u_ratio\",\"u_blur\",\"u_extra\",\"u_antialiasingmatrix\",\"u_offset\"]),this.linepatternShader=t.initializeShader(\"linepattern\",[\"a_pos\",\"a_data\"],[\"u_matrix\",\"u_linewidth\",\"u_ratio\",\"u_pattern_size_a\",\"u_pattern_size_b\",\"u_pattern_tl_a\",\"u_pattern_br_a\",\"u_pattern_tl_b\",\"u_pattern_br_b\",\"u_blur\",\"u_fade\",\"u_opacity\",\"u_extra\",\"u_antialiasingmatrix\",\"u_offset\"]),this.linesdfpatternShader=t.initializeShader(\"linesdfpattern\",[\"a_pos\",\"a_data\"],[\"u_matrix\",\"u_linewidth\",\"u_color\",\"u_ratio\",\"u_blur\",\"u_patternscale_a\",\"u_tex_y_a\",\"u_patternscale_b\",\"u_tex_y_b\",\"u_image\",\"u_sdfgamma\",\"u_mix\",\"u_extra\",\"u_antialiasingmatrix\",\"u_offset\"]),this.dotShader=t.initializeShader(\"dot\",[\"a_pos\"],[\"u_matrix\",\"u_size\",\"u_color\",\"u_blur\"]),this.sdfShader=t.initializeShader(\"sdf\",[\"a_pos\",\"a_offset\",\"a_data1\",\"a_data2\"],[\"u_matrix\",\"u_exmatrix\",\"u_texture\",\"u_texsize\",\"u_color\",\"u_gamma\",\"u_buffer\",\"u_zoom\",\"u_fadedist\",\"u_minfadezoom\",\"u_maxfadezoom\",\"u_fadezoom\",\"u_skewed\",\"u_extra\"]),this.iconShader=t.initializeShader(\"icon\",[\"a_pos\",\"a_offset\",\"a_data1\",\"a_data2\"],[\"u_matrix\",\"u_exmatrix\",\"u_texture\",\"u_texsize\",\"u_zoom\",\"u_fadedist\",\"u_minfadezoom\",\"u_maxfadezoom\",\"u_fadezoom\",\"u_opacity\",\"u_skewed\",\"u_extra\"]),this.outlineShader=t.initializeShader(\"outline\",[\"a_pos\"],[\"u_matrix\",\"u_color\",\"u_world\"]),\nthis.patternShader=t.initializeShader(\"pattern\",[\"a_pos\"],[\"u_matrix\",\"u_pattern_tl_a\",\"u_pattern_br_a\",\"u_pattern_tl_b\",\"u_pattern_br_b\",\"u_mix\",\"u_patternmatrix_a\",\"u_patternmatrix_b\",\"u_opacity\",\"u_image\"]),this.fillShader=t.initializeShader(\"fill\",[\"a_pos\"],[\"u_matrix\",\"u_color\"]),this.collisionBoxShader=t.initializeShader(\"collisionbox\",[\"a_pos\",\"a_extrude\",\"a_data\"],[\"u_matrix\",\"u_scale\",\"u_zoom\",\"u_maxzoom\"]),this.identityMatrix=a.create(),this.backgroundBuffer=t.createBuffer(),this.backgroundBuffer.itemSize=2,this.backgroundBuffer.itemCount=4,t.bindBuffer(t.ARRAY_BUFFER,this.backgroundBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([-1,-1,1,-1,-1,1,1,1]),t.STATIC_DRAW),this.setExtent(4096),this.debugTextBuffer=t.createBuffer(),this.debugTextBuffer.itemSize=2},i.prototype.setExtent=function(t){if(t&&t!==this.tileExtent){this.tileExtent=t;var e=this.gl;this.tileExtentBuffer=e.createBuffer(),this.tileExtentBuffer.itemSize=4,this.tileExtentBuffer.itemCount=4,e.bindBuffer(e.ARRAY_BUFFER,this.tileExtentBuffer),e.bufferData(e.ARRAY_BUFFER,new Int16Array([0,0,0,0,this.tileExtent,0,32767,0,0,this.tileExtent,0,32767,this.tileExtent,this.tileExtent,32767,32767]),e.STATIC_DRAW),this.debugBuffer=e.createBuffer(),this.debugBuffer.itemSize=2,this.debugBuffer.itemCount=5,e.bindBuffer(e.ARRAY_BUFFER,this.debugBuffer),e.bufferData(e.ARRAY_BUFFER,new Int16Array([0,0,this.tileExtent-1,0,this.tileExtent-1,this.tileExtent-1,0,this.tileExtent-1,0,0]),e.STATIC_DRAW)}},i.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},i.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},i.prototype.drawClippingMask=function(t){var e=this.gl;e.switchShader(this.fillShader,t.posMatrix),e.colorMask(!1,!1,!1,!1),e.clearStencil(0),e.stencilMask(191),e.clear(e.STENCIL_BUFFER_BIT),e.stencilFunc(e.EQUAL,192,64),e.stencilMask(192),e.stencilOp(e.REPLACE,e.KEEP,e.KEEP),e.bindBuffer(e.ARRAY_BUFFER,this.tileExtentBuffer),e.vertexAttribPointer(this.fillShader.a_pos,this.tileExtentBuffer.itemSize,e.SHORT,!1,8,0),e.drawArrays(e.TRIANGLE_STRIP,0,this.tileExtentBuffer.itemCount),e.stencilFunc(e.EQUAL,128,128),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.stencilMask(0),e.colorMask(!0,!0,!0,!0)},i.prototype.prepareBuffers=function(){},i.prototype.bindDefaultFramebuffer=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)};var u={symbol:t(\"./draw_symbol\"),circle:t(\"./draw_circle\"),line:t(\"./draw_line\"),fill:t(\"./draw_fill\"),raster:t(\"./draw_raster\"),background:t(\"./draw_background\"),debug:t(\"./draw_debug\"),vertices:t(\"./draw_vertices\")};i.prototype.render=function(t,e){this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphAtlas=t.glyphAtlas,this.glyphAtlas.bind(this.gl),this.frameHistory.record(this.transform.zoom),this.prepareBuffers(),this.clearColor();for(var n=t._groups.length-1;n>=0;n--){var i=t._groups[n],r=t.sources[i.source];r?(this.clearStencil(),r.render(i,this)):void 0===i.source&&this.drawLayers(i,this.identityMatrix)}},i.prototype.drawTile=function(t,e){this.setExtent(t.tileExtent),this.drawClippingMask(t),this.drawLayers(e,t.posMatrix,t),this.options.debug&&u.debug(this,t)},i.prototype.drawLayers=function(t,e,n){for(var i=t.length-1;i>=0;i--){var r=t[i];r.hidden||(u[r.type](this,r,e,n),this.options.vertices&&u.vertices(this,r,e,n))}},i.prototype.drawStencilBuffer=function(){var t=this.gl;t.switchShader(this.fillShader,this.identityMatrix),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.stencilMask(0),t.stencilFunc(t.EQUAL,128,128),t.bindBuffer(t.ARRAY_BUFFER,this.backgroundBuffer),t.vertexAttribPointer(this.fillShader.a_pos,this.backgroundBuffer.itemSize,t.SHORT,!1,0,0),t.uniform4fv(this.fillShader.u_color,[0,0,0,.5]),t.drawArrays(t.TRIANGLE_STRIP,0,this.tileExtentBuffer.itemCount),t.blendFunc(t.ONE_MINUS_DST_ALPHA,t.ONE)},i.prototype.translateMatrix=function(t,e,n,i){if(!n[0]&&!n[1])return t;if(\"viewport\"===i){var r=Math.sin(-this.transform.angle),o=Math.cos(-this.transform.angle);n=[n[0]*o-n[1]*r,n[0]*r+n[1]*o]}var s=this.transform.scale/(1<<e.coord.z)/(e.tileExtent/e.tileSize),u=[n[0]/s,n[1]/s,0],l=new Float32Array(16);return a.translate(l,t,u),l},i.prototype.saveTexture=function(t){var e=this.reusableTextures[t.size];e?e.push(t):this.reusableTextures[t.size]=[t]},i.prototype.getTexture=function(t){var e=this.reusableTextures[t];return e&&e.length>0?e.pop():null}},{\"../util/browser\":155,\"./draw_background\":86,\"./draw_circle\":87,\"./draw_debug\":89,\"./draw_fill\":90,\"./draw_line\":91,\"./draw_raster\":92,\"./draw_symbol\":93,\"./draw_vertices\":94,\"./frame_history\":95,\"./gl_util\":96,\"gl-matrix\":46}],99:[function(t,e,n){\"use strict\";t(\"path\");e.exports={debug:{fragment:\"precision mediump float;\\n\\nuniform vec4 u_color;\\n\\nvoid main() {\\n    gl_FragColor = u_color;\\n}\\n\",vertex:\"precision mediump float;\\n\\nattribute vec2 a_pos;\\n\\nuniform mat4 u_matrix;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\\n}\\n\"},dot:{fragment:\"precision mediump float;\\n\\nuniform vec4 u_color;\\nuniform float u_blur;\\n\\nvoid main() {\\n    float dist = length(gl_PointCoord - 0.5);\\n    float t = smoothstep(0.5, 0.5 - u_blur, dist);\\n\\n    gl_FragColor = u_color * t;\\n}\\n\",vertex:\"precision mediump float;\\n\\nuniform mat4 u_matrix;\\nuniform float u_size;\\n\\nattribute vec2 a_pos;\\n\\nvoid main(void) {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n    gl_PointSize = u_size;\\n}\\n\"},fill:{fragment:\"precision mediump float;\\n\\nuniform vec4 u_color;\\n\\nvoid main() {\\n    gl_FragColor = u_color;\\n}\\n\",vertex:\"precision mediump float;\\n\\nattribute vec2 a_pos;\\nuniform mat4 u_matrix;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n}\\n\"},circle:{fragment:\"precision mediump float;\\n\\nuniform vec4 u_color;\\nuniform float u_blur;\\nuniform float u_size;\\n\\nvarying vec2 v_extrude;\\n\\nvoid main() {\\n    float t = smoothstep(1.0 - u_blur, 1.0, length(v_extrude));\\n    gl_FragColor = u_color * (1.0 - t);\\n}\\n\",vertex:\"precision mediump float;\\n\\n// set by gl_util\\nuniform float u_size;\\n\\nattribute vec2 a_pos;\\n\\nuniform mat4 u_matrix;\\nuniform mat4 u_exmatrix;\\n\\nvarying vec2 v_extrude;\\n\\nvoid main(void) {\\n    // unencode the extrusion vector that we snuck into the a_pos vector\\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\\n\\n    vec4 extrude = u_exmatrix * vec4(v_extrude * u_size, 0, 0);\\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\\n    // in extrusion data\\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\\n\\n    // gl_Position is divided by gl_Position.w after this shader runs.\\n    // Multiply the extrude by it so that it isn't affected by it.\\n    gl_Position += extrude * gl_Position.w;\\n}\\n\"},line:{fragment:\"precision mediump float;\\n\\nuniform vec2 u_linewidth;\\nuniform vec4 u_color;\\nuniform float u_blur;\\n\\nvarying vec2 v_normal;\\nvarying float v_linesofar;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    // Calculate the distance of the pixel from the line in pixels.\\n    float dist = length(v_normal) * u_linewidth.s;\\n\\n    // Calculate the antialiasing fade factor. This is either when fading in\\n    // the line in case of an offset line (v_linewidth.t) or when fading out\\n    // (v_linewidth.s)\\n    float blur = u_blur * v_gamma_scale;\\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\\n\\n    gl_FragColor = u_color * alpha;\\n}\\n\",vertex:\"precision mediump float;\\n\\n// floor(127 / 2) == 63.0\\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\\n// there are also \\\"special\\\" normals that have a bigger length (of up to 126 in\\n// this case).\\n// #define scale 63.0\\n#define scale 0.015873016\\n\\nattribute vec2 a_pos;\\nattribute vec4 a_data;\\n\\nuniform highp mat4 u_matrix;\\nuniform float u_ratio;\\nuniform vec2 u_linewidth;\\nuniform float u_extra;\\nuniform mat2 u_antialiasingmatrix;\\nuniform float u_offset;\\n\\nvarying vec2 v_normal;\\nvarying float v_linesofar;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    vec2 a_extrude = a_data.xy;\\n    float a_direction = sign(a_data.z) * mod(a_data.z, 2.0);\\n\\n    // We store the texture normals in the most insignificant bit\\n    // transform y so that 0 => -1 and 1 => 1\\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\\n    // y is 1 if the normal points up, and -1 if it points down\\n    vec2 normal = mod(a_pos, 2.0);\\n    normal.y = sign(normal.y - 0.5);\\n    v_normal = normal;\\n\\n    // Scale the extrusion vector down to a normal and then up by the line width\\n    // of this vertex.\\n    vec4 dist = vec4(u_linewidth.s * a_extrude * scale, 0.0, 0.0);\\n\\n    // Calculate the offset when drawing a line that is to the side of the actual line.\\n    // We do this by creating a vector that points towards the extrude, but rotate\\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\\n    // extrude vector points in another direction.\\n    float u = 0.5 * a_direction;\\n    float t = 1.0 - abs(u);\\n    vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\\n\\n    // Remove the texture normal bit of the position before scaling it with the\\n    // model/view matrix.\\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist.xy) / u_ratio, 0.0, 1.0);\\n\\n    // position of y on the screen\\n    float y = gl_Position.y / gl_Position.w;\\n\\n    // how much features are squished in the y direction by the tilt\\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\\n\\n    // how much features are squished in all directions by the perspectiveness\\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\\n\\n    v_gamma_scale = perspective_scale * squish_scale;\\n}\\n\"},linepattern:{fragment:\"precision mediump float;\\n\\nuniform vec2 u_linewidth;\\nuniform float u_point;\\nuniform float u_blur;\\n\\nuniform vec2 u_pattern_size_a;\\nuniform vec2 u_pattern_size_b;\\nuniform vec2 u_pattern_tl_a;\\nuniform vec2 u_pattern_br_a;\\nuniform vec2 u_pattern_tl_b;\\nuniform vec2 u_pattern_br_b;\\nuniform float u_fade;\\nuniform float u_opacity;\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_normal;\\nvarying float v_linesofar;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    // Calculate the distance of the pixel from the line in pixels.\\n    float dist = length(v_normal) * u_linewidth.s;\\n\\n    // Calculate the antialiasing fade factor. This is either when fading in\\n    // the line in case of an offset line (v_linewidth.t) or when fading out\\n    // (v_linewidth.s)\\n    float blur = u_blur * v_gamma_scale;\\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\\n\\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\\n    float y_a = 0.5 + (v_normal.y * u_linewidth.s / u_pattern_size_a.y);\\n    float y_b = 0.5 + (v_normal.y * u_linewidth.s / u_pattern_size_b.y);\\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\\n\\n    vec4 color = mix(texture2D(u_image, pos), texture2D(u_image, pos2), u_fade);\\n\\n    alpha *= u_opacity;\\n\\n    gl_FragColor = color * alpha;\\n}\\n\",vertex:\"precision mediump float;\\n\\n// floor(127 / 2) == 63.0\\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\\n// there are also \\\"special\\\" normals that have a bigger length (of up to 126 in\\n// this case).\\n// #define scale 63.0\\n#define scale 0.015873016\\n\\nattribute vec2 a_pos;\\nattribute vec4 a_data;\\n\\nuniform highp mat4 u_matrix;\\nuniform float u_ratio;\\nuniform vec2 u_linewidth;\\nuniform vec4 u_color;\\nuniform float u_extra;\\nuniform mat2 u_antialiasingmatrix;\\nuniform float u_offset;\\n\\nvarying vec2 v_normal;\\nvarying float v_linesofar;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    vec2 a_extrude = a_data.xy;\\n    float a_direction = sign(a_data.z) * mod(a_data.z, 2.0);\\n    float a_linesofar = abs(floor(a_data.z / 2.0)) + a_data.w * 64.0;\\n\\n    // We store the texture normals in the most insignificant bit\\n    // transform y so that 0 => -1 and 1 => 1\\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\\n    // y is 1 if the normal points up, and -1 if it points down\\n    vec2 normal = mod(a_pos, 2.0);\\n    normal.y = sign(normal.y - 0.5);\\n    v_normal = normal;\\n\\n    // Scale the extrusion vector down to a normal and then up by the line width\\n    // of this vertex.\\n    vec2 extrude = a_extrude * scale;\\n    vec2 dist = u_linewidth.s * extrude;\\n\\n    // Calculate the offset when drawing a line that is to the side of the actual line.\\n    // We do this by creating a vector that points towards the extrude, but rotate\\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\\n    // extrude vector points in another direction.\\n    float u = 0.5 * a_direction;\\n    float t = 1.0 - abs(u);\\n    vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\\n\\n    // Remove the texture normal bit of the position before scaling it with the\\n    // model/view matrix.\\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist.xy) / u_ratio, 0.0, 1.0);\\n    v_linesofar = a_linesofar;\\n\\n    // position of y on the screen\\n    float y = gl_Position.y / gl_Position.w;\\n\\n    // how much features are squished in the y direction by the tilt\\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\\n\\n    // how much features are squished in all directions by the perspectiveness\\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\\n\\n    v_gamma_scale = perspective_scale * squish_scale;\\n}\\n\"},linesdfpattern:{fragment:\"precision mediump float;\\n\\nuniform vec2 u_linewidth;\\nuniform vec4 u_color;\\nuniform float u_blur;\\nuniform sampler2D u_image;\\nuniform float u_sdfgamma;\\nuniform float u_mix;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_tex_a;\\nvarying vec2 v_tex_b;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    // Calculate the distance of the pixel from the line in pixels.\\n    float dist = length(v_normal) * u_linewidth.s;\\n\\n    // Calculate the antialiasing fade factor. This is either when fading in\\n    // the line in case of an offset line (v_linewidth.t) or when fading out\\n    // (v_linewidth.s)\\n    float blur = u_blur * v_gamma_scale;\\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\\n\\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\\n\\n    gl_FragColor = u_color * alpha;\\n}\\n\",vertex:\"precision mediump float;\\n\\n// floor(127 / 2) == 63.0\\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\\n// there are also \\\"special\\\" normals that have a bigger length (of up to 126 in\\n// this case).\\n// #define scale 63.0\\n#define scale 0.015873016\\n\\nattribute vec2 a_pos;\\nattribute vec4 a_data;\\n\\nuniform highp mat4 u_matrix;\\nuniform vec2 u_linewidth;\\nuniform float u_ratio;\\nuniform vec2 u_patternscale_a;\\nuniform float u_tex_y_a;\\nuniform vec2 u_patternscale_b;\\nuniform float u_tex_y_b;\\nuniform float u_extra;\\nuniform mat2 u_antialiasingmatrix;\\nuniform float u_offset;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_tex_a;\\nvarying vec2 v_tex_b;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    vec2 a_extrude = a_data.xy;\\n    float a_direction = sign(a_data.z) * mod(a_data.z, 2.0);\\n    float a_linesofar = abs(floor(a_data.z / 2.0)) + a_data.w * 64.0;\\n\\n    // We store the texture normals in the most insignificant bit\\n    // transform y so that 0 => -1 and 1 => 1\\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\\n    // y is 1 if the normal points up, and -1 if it points down\\n    vec2 normal = mod(a_pos, 2.0);\\n    normal.y = sign(normal.y - 0.5);\\n    v_normal = normal;\\n\\n    // Scale the extrusion vector down to a normal and then up by the line width\\n    // of this vertex.\\n    vec4 dist = vec4(u_linewidth.s * a_extrude * scale, 0.0, 0.0);\\n\\n    // Calculate the offset when drawing a line that is to the side of the actual line.\\n    // We do this by creating a vector that points towards the extrude, but rotate\\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\\n    // extrude vector points in another direction.\\n    float u = 0.5 * a_direction;\\n    float t = 1.0 - abs(u);\\n    vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\\n\\n    // Remove the texture normal bit of the position before scaling it with the\\n    // model/view matrix.\\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist.xy) / u_ratio, 0.0, 1.0);\\n\\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\\n\\n    // position of y on the screen\\n    float y = gl_Position.y / gl_Position.w;\\n\\n    // how much features are squished in the y direction by the tilt\\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\\n\\n    // how much features are squished in all directions by the perspectiveness\\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\\n\\n    v_gamma_scale = perspective_scale * squish_scale;\\n}\\n\"},outline:{fragment:\"precision mediump float;\\n\\nuniform vec4 u_color;\\n\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    float dist = length(v_pos - gl_FragCoord.xy);\\n    float alpha = smoothstep(1.0, 0.0, dist);\\n    gl_FragColor = u_color * alpha;\\n}\\n\",vertex:\"precision mediump float;\\n\\nattribute vec2 a_pos;\\n\\nuniform highp mat4 u_matrix;\\nuniform vec2 u_world;\\n\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n    v_pos = (gl_Position.xy/gl_Position.w + 1.0) / 2.0 * u_world;\\n}\\n\"},pattern:{fragment:\"precision mediump float;\\n\\nuniform float u_opacity;\\nuniform vec2 u_pattern_tl_a;\\nuniform vec2 u_pattern_br_a;\\nuniform vec2 u_pattern_tl_b;\\nuniform vec2 u_pattern_br_b;\\nuniform float u_mix;\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\n\\nvoid main() {\\n\\n    vec2 imagecoord = mod(v_pos_a, 1.0);\\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\\n    vec4 color1 = texture2D(u_image, pos);\\n\\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\\n    vec4 color2 = texture2D(u_image, pos2);\\n\\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\\n}\\n\",vertex:\"precision mediump float;\\n\\nuniform mat4 u_matrix;\\nuniform mat3 u_patternmatrix_a;\\nuniform mat3 u_patternmatrix_b;\\n\\nattribute vec2 a_pos;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n    v_pos_a = (u_patternmatrix_a * vec3(a_pos, 1)).xy;\\n    v_pos_b = (u_patternmatrix_b * vec3(a_pos, 1)).xy;\\n}\\n\"},raster:{fragment:\"precision mediump float;\\n\\nuniform float u_opacity0;\\nuniform float u_opacity1;\\nuniform sampler2D u_image0;\\nuniform sampler2D u_image1;\\nvarying vec2 v_pos0;\\nvarying vec2 v_pos1;\\n\\nuniform float u_brightness_low;\\nuniform float u_brightness_high;\\n\\nuniform float u_saturation_factor;\\nuniform float u_contrast_factor;\\nuniform vec3 u_spin_weights;\\n\\nvoid main() {\\n\\n    // read and cross-fade colors from the main and parent tiles\\n    vec4 color0 = texture2D(u_image0, v_pos0);\\n    vec4 color1 = texture2D(u_image1, v_pos1);\\n    vec4 color = color0 * u_opacity0 + color1 * u_opacity1;\\n    vec3 rgb = color.rgb;\\n\\n    // spin\\n    rgb = vec3(\\n        dot(rgb, u_spin_weights.xyz),\\n        dot(rgb, u_spin_weights.zxy),\\n        dot(rgb, u_spin_weights.yzx));\\n\\n    // saturation\\n    float average = (color.r + color.g + color.b) / 3.0;\\n    rgb += (average - rgb) * u_saturation_factor;\\n\\n    // contrast\\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\\n\\n    // brightness\\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\\n\\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb), color.a);\\n}\\n\",vertex:\"precision mediump float;\\n\\nuniform mat4 u_matrix;\\nuniform vec2 u_tl_parent;\\nuniform float u_scale_parent;\\nuniform float u_buffer_scale;\\n\\nattribute vec2 a_pos;\\nattribute vec2 a_texture_pos;\\n\\nvarying vec2 v_pos0;\\nvarying vec2 v_pos1;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\\n}\\n\"},icon:{fragment:\"precision mediump float;\\n\\nuniform sampler2D u_texture;\\n\\nvarying vec2 v_tex;\\nvarying float v_alpha;\\n\\nvoid main() {\\n    gl_FragColor = texture2D(u_texture, v_tex) * v_alpha;\\n}\\n\",vertex:\"precision mediump float;\\n\\nattribute vec2 a_pos;\\nattribute vec2 a_offset;\\nattribute vec4 a_data1;\\nattribute vec4 a_data2;\\n\\n\\n// matrix is for the vertex position, exmatrix is for rotating and projecting\\n// the extrusion vector.\\nuniform highp mat4 u_matrix;\\nuniform mat4 u_exmatrix;\\nuniform float u_zoom;\\nuniform float u_fadedist;\\nuniform float u_minfadezoom;\\nuniform float u_maxfadezoom;\\nuniform float u_fadezoom;\\nuniform float u_opacity;\\nuniform bool u_skewed;\\nuniform float u_extra;\\n\\nuniform vec2 u_texsize;\\n\\nvarying vec2 v_tex;\\nvarying float v_alpha;\\n\\nvoid main() {\\n    vec2 a_tex = a_data1.xy;\\n    float a_labelminzoom = a_data1[2];\\n    vec2 a_zoom = a_data2.st;\\n    float a_minzoom = a_zoom[0];\\n    float a_maxzoom = a_zoom[1];\\n\\n    float a_fadedist = 10.0;\\n\\n    // u_zoom is the current zoom level adjusted for the change in font size\\n    float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\\n\\n    // fade out labels\\n    float alpha = clamp((u_fadezoom - a_labelminzoom) / u_fadedist, 0.0, 1.0);\\n\\n    if (u_fadedist >= 0.0) {\\n        v_alpha = alpha;\\n    } else {\\n        v_alpha = 1.0 - alpha;\\n    }\\n    if (u_maxfadezoom < a_labelminzoom) {\\n        v_alpha = 0.0;\\n    }\\n    if (u_minfadezoom >= a_labelminzoom) {\\n        v_alpha = 1.0;\\n    }\\n\\n    // if label has been faded out, clip it\\n    z += step(v_alpha, 0.0);\\n\\n    if (u_skewed) {\\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, 0, 0);\\n        gl_Position = u_matrix * vec4(a_pos + extrude.xy, 0, 1);\\n        gl_Position.z += z * gl_Position.w;\\n    } else {\\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, z, 0);\\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + extrude;\\n    }\\n\\n    v_tex = a_tex / u_texsize;\\n\\n    v_alpha *= u_opacity;\\n}\\n\"},sdf:{fragment:\"precision mediump float;\\n\\nuniform sampler2D u_texture;\\nuniform vec4 u_color;\\nuniform float u_buffer;\\nuniform float u_gamma;\\n\\nvarying vec2 v_tex;\\nvarying float v_alpha;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    float gamma = u_gamma * v_gamma_scale;\\n    float dist = texture2D(u_texture, v_tex).a;\\n    float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * v_alpha;\\n    gl_FragColor = u_color * alpha;\\n}\\n\",vertex:\"precision mediump float;\\n\\nattribute vec2 a_pos;\\nattribute vec2 a_offset;\\nattribute vec4 a_data1;\\nattribute vec4 a_data2;\\n\\n\\n// matrix is for the vertex position, exmatrix is for rotating and projecting\\n// the extrusion vector.\\nuniform highp mat4 u_matrix;\\nuniform mat4 u_exmatrix;\\n\\nuniform float u_zoom;\\nuniform float u_fadedist;\\nuniform float u_minfadezoom;\\nuniform float u_maxfadezoom;\\nuniform float u_fadezoom;\\nuniform bool u_skewed;\\nuniform float u_extra;\\n\\nuniform vec2 u_texsize;\\n\\nvarying vec2 v_tex;\\nvarying float v_alpha;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    vec2 a_tex = a_data1.xy;\\n    float a_labelminzoom = a_data1[2];\\n    vec2 a_zoom = a_data2.st;\\n    float a_minzoom = a_zoom[0];\\n    float a_maxzoom = a_zoom[1];\\n\\n    // u_zoom is the current zoom level adjusted for the change in font size\\n    float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\\n\\n    // fade out labels\\n    float alpha = clamp((u_fadezoom - a_labelminzoom) / u_fadedist, 0.0, 1.0);\\n\\n    if (u_fadedist >= 0.0) {\\n        v_alpha = alpha;\\n    } else {\\n        v_alpha = 1.0 - alpha;\\n    }\\n    if (u_maxfadezoom < a_labelminzoom) {\\n        v_alpha = 0.0;\\n    }\\n    if (u_minfadezoom >= a_labelminzoom) {\\n        v_alpha = 1.0;\\n    }\\n\\n    // if label has been faded out, clip it\\n    z += step(v_alpha, 0.0);\\n\\n    if (u_skewed) {\\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, 0, 0);\\n        gl_Position = u_matrix * vec4(a_pos + extrude.xy, 0, 1);\\n        gl_Position.z += z * gl_Position.w;\\n    } else {\\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, z, 0);\\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + extrude;\\n    }\\n\\n    // position of y on the screen\\n    float y = gl_Position.y / gl_Position.w;\\n    // how much features are squished in all directions by the perspectiveness\\n    float perspective_scale = 1.0 / (1.0 - y * u_extra);\\n    v_gamma_scale = perspective_scale;\\n\\n    v_tex = a_tex / u_texsize;\\n}\\n\"},collisionbox:{fragment:\"precision mediump float;\\n\\nuniform float u_zoom;\\nuniform float u_maxzoom;\\n\\nvarying float v_max_zoom;\\nvarying float v_placement_zoom;\\n\\nvoid main() {\\n\\n    float alpha = 0.5;\\n\\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\\n\\n    if (v_placement_zoom > u_zoom) {\\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\\n    }\\n\\n    if (u_zoom >= v_max_zoom) {\\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\\n    }\\n\\n    if (v_placement_zoom >= u_maxzoom) {\\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\\n    }\\n}\\n\",vertex:\"precision mediump float;\\n\\nattribute vec2 a_pos;\\nattribute vec2 a_extrude;\\nattribute vec2 a_data;\\n\\nuniform mat4 u_matrix;\\nuniform float u_scale;\\n\\nvarying float v_max_zoom;\\nvarying float v_placement_zoom;\\n\\nvoid main() {\\n     gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\\n\\n     v_max_zoom = a_data.x;\\n     v_placement_zoom = a_data.y;\\n}\\n\"}}},{path:167}],100:[function(t,e,n){\"use strict\";function i(t){t=t||{},this._data=t.data,void 0!==t.maxzoom&&(this.maxzoom=t.maxzoom),this.geojsonVtOptions={maxZoom:this.maxzoom},void 0!==t.buffer&&(this.geojsonVtOptions.buffer=t.buffer),void 0!==t.tolerance&&(this.geojsonVtOptions.tolerance=t.tolerance),this._pyramid=new a({tileSize:512,minzoom:this.minzoom,maxzoom:this.maxzoom,cacheSize:20,load:this._loadTile.bind(this),abort:this._abortTile.bind(this),unload:this._unloadTile.bind(this),add:this._addTile.bind(this),remove:this._removeTile.bind(this),redoPlacement:this._redoTilePlacement.bind(this)})}var r=t(\"../util/util\"),o=t(\"../util/evented\"),a=t(\"./tile_pyramid\"),s=t(\"./source\"),u=t(\"resolve-url\");e.exports=i,i.prototype=r.inherit(o,{minzoom:0,maxzoom:14,_dirty:!0,setData:function(t){return this._data=t,this._dirty=!0,this.fire(\"change\"),this.map&&this.update(this.map.transform),this},onAdd:function(t){this.map=t},loaded:function(){return this._loaded&&this._pyramid.loaded()},update:function(t){this._dirty&&this._updateData(),this._loaded&&this._pyramid.update(this.used,t)},reload:function(){this._loaded&&this._pyramid.reload()},render:s._renderTiles,featuresAt:s._vectorFeaturesAt,featuresIn:s._vectorFeaturesIn,_updateData:function(){this._dirty=!1;var t=this._data;\"string\"==typeof t&&(t=u(window.location.href,t)),this.workerID=this.dispatcher.send(\"parse geojson\",{data:t,tileSize:512,source:this.id,geojsonVtOptions:this.geojsonVtOptions},function(t){return t?void this.fire(\"error\",{error:t}):(this._loaded=!0,this._pyramid.reload(),void this.fire(\"change\"))}.bind(this))},_loadTile:function(t){var e=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,n={uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:512,source:this.id,overscaling:e,angle:this.map.transform.angle,pitch:this.map.transform.pitch,collisionDebug:this.map.collisionDebug};t.workerID=this.dispatcher.send(\"load geojson tile\",n,function(e,n){if(t.unloadVectorData(this.map.painter),!t.aborted){if(e)return void this.fire(\"tile.error\",{tile:t});t.loadVectorData(n),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),this.fire(\"tile.load\",{tile:t})}}.bind(this),this.workerID)},_abortTile:function(t){t.aborted=!0},_addTile:function(t){this.fire(\"tile.add\",{tile:t})},_removeTile:function(t){this.fire(\"tile.remove\",{tile:t})},_unloadTile:function(t){t.unloadVectorData(this.map.painter),this.glyphAtlas.removeGlyphs(t.uid),this.dispatcher.send(\"remove tile\",{uid:t.uid,source:this.id},null,t.workerID)},redoPlacement:s.redoPlacement,_redoTilePlacement:function(t){t.redoPlacement(this)}})},{\"../util/evented\":160,\"../util/util\":166,\"./source\":104,\"./tile_pyramid\":107,\"resolve-url\":309}],101:[function(t,e,n){\"use strict\";function i(t){this.features=t,this.length=t.length}function r(t){this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var o=t(\"point-geometry\"),a=t(\"vector-tile\").VectorTileFeature;e.exports=i,i.prototype.feature=function(t){return new r(this.features[t])},r.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],i=[],r=0;r<n.length;r++)i.push(new o(n[r][0],n[r][1]));this.geometry.push(i)}return this.geometry},r.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),i=1/0,r=-(1/0),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),i=Math.min(i,u.y),r=Math.max(r,u.y)}return[e,i,n,r]},r.prototype.toGeoJSON=a.prototype.toGeoJSON},{\"point-geometry\":170,\"vector-tile\":321}],102:[function(t,e,n){\"use strict\";function i(t){this.coordinates=t.coordinates,l.getImage(t.url,function(t,e){t||(this.image=e,this.image.addEventListener(\"load\",function(){this.map._rerender()}.bind(this)),this._loaded=!0,this.map&&(this.createTile(),this.fire(\"change\")))}.bind(this))}var r=t(\"../util/util\"),o=t(\"./tile\"),a=t(\"../geo/lng_lat\"),s=t(\"point-geometry\"),u=t(\"../util/evented\"),l=t(\"../util/ajax\");e.exports=i,i.prototype=r.inherit(u,{onAdd:function(t){this.map=t,this.image&&this.createTile()},createTile:function(){var t=this.map,e=this.coordinates.map(function(e){var n=a.convert(e);return t.transform.locationCoordinate(n).zoomTo(0)}),n=r.getCoordinatesCenter(e),i=4096,u=e.map(function(t){var e=t.zoomTo(n.zoom);return new s(Math.round((e.column-n.column)*i),Math.round((e.row-n.row)*i))}),l=t.painter.gl,c=32767,d=new Int16Array([u[0].x,u[0].y,0,0,u[1].x,u[1].y,c,0,u[3].x,u[3].y,0,c,u[2].x,u[2].y,c,c]);this.tile=new o,this.tile.buckets={},this.tile.boundsBuffer=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,this.tile.boundsBuffer),l.bufferData(l.ARRAY_BUFFER,d,l.STATIC_DRAW),this.center=n},loaded:function(){return this.image&&this.image.complete},update:function(){},reload:function(){},render:function(t,e){if(this._loaded&&this.loaded()){var n=this.center;this.tile.calculateMatrices(n.zoom,n.column,n.row,this.map.transform,e);var i=e.gl;this.tile.texture?(i.bindTexture(i.TEXTURE_2D,this.tile.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.image)):(this.tile.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.tile.texture),\ni.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,this.image)),e.drawLayers(t,this.tile.posMatrix,this.tile)}},featuresAt:function(t,e,n){return n(null,[])}})},{\"../geo/lng_lat\":81,\"../util/ajax\":154,\"../util/evented\":160,\"../util/util\":166,\"./tile\":105,\"point-geometry\":170}],103:[function(t,e,n){\"use strict\";function i(t){r.extend(this,r.pick(t,[\"url\",\"tileSize\"])),s._loadTileJSON.call(this,t)}var r=t(\"../util/util\"),o=t(\"../util/ajax\"),a=t(\"../util/evented\"),s=t(\"./source\"),u=t(\"../util/mapbox\").normalizeTileURL;e.exports=i,i.prototype=r.inherit(a,{minzoom:0,maxzoom:22,roundZoom:!0,tileSize:512,_loaded:!1,onAdd:function(t){this.map=t},loaded:function(){return this._pyramid&&this._pyramid.loaded()},update:function(t){this._pyramid&&this._pyramid.update(this.used,t,this.map.style.rasterFadeDuration)},reload:function(){},render:s._renderTiles,_loadTile:function(t){function e(e,n){if(delete t.request,!t.aborted){if(e)return t.errored=!0,void this.fire(\"tile.error\",{tile:t,error:e});var i=this.map.painter.gl;t.texture=this.map.painter.getTexture(n.width),t.texture?(i.bindTexture(i.TEXTURE_2D,t.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,n)):(t.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,t.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,n),t.texture.size=n.width),i.generateMipmap(i.TEXTURE_2D),t.timeAdded=(new Date).getTime(),this.map.animationLoop.set(this.style.rasterFadeDuration),t.source=this,t.loaded=!0,this.fire(\"tile.load\",{tile:t})}}var n=u(t.coord.url(this.tiles),this.url);t.request=o.getImage(n,e.bind(this))},_abortTile:function(t){t.aborted=!0,t.request&&(t.request.abort(),delete t.request)},_addTile:function(t){this.fire(\"tile.add\",{tile:t})},_removeTile:function(t){this.fire(\"tile.remove\",{tile:t})},_unloadTile:function(t){t.texture&&this.map.painter.saveTexture(t.texture)},featuresAt:function(t,e,n){n(null,[])},featuresIn:function(t,e,n){n(null,[])}})},{\"../util/ajax\":154,\"../util/evented\":160,\"../util/mapbox\":163,\"../util/util\":166,\"./source\":104}],104:[function(t,e,n){\"use strict\";var i=t(\"../util/util\"),r=t(\"../util/ajax\"),o=t(\"../util/browser\"),a=t(\"./tile_pyramid\"),s=t(\"./tile_coord\"),u=t(\"../util/mapbox\").normalizeSourceURL;n._loadTileJSON=function(t){var e=function(t,e){return t?void this.fire(\"error\",{error:t}):(i.extend(this,i.pick(e,[\"tiles\",\"minzoom\",\"maxzoom\",\"attribution\"])),e.vector_layers&&(this.vectorLayers=e.vector_layers,this.vectorLayerIds=this.vectorLayers.map(function(t){return t.id})),this._pyramid=new a({tileSize:this.tileSize,cacheSize:20,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom,reparseOverscaled:this.reparseOverscaled,load:this._loadTile.bind(this),abort:this._abortTile.bind(this),unload:this._unloadTile.bind(this),add:this._addTile.bind(this),remove:this._removeTile.bind(this),redoPlacement:this._redoTilePlacement?this._redoTilePlacement.bind(this):void 0}),void this.fire(\"load\"))}.bind(this);t.url?r.getJSON(u(t.url),e):o.frame(e.bind(this,null,t))},n.redoPlacement=function(){if(this._pyramid)for(var t=this._pyramid.orderedIDs(),e=0;e<t.length;e++){var n=this._pyramid.getTile(t[e]);this._redoTilePlacement(n)}},n._renderTiles=function(t,e){if(this._pyramid)for(var n=this._pyramid.renderedIDs(),i=0;i<n.length;i++){var r=this._pyramid.getTile(n[i]),o=s.fromID(n[i]),a=o.z,u=o.x,l=o.y,c=o.w;a=Math.min(a,this.maxzoom),u+=c*(1<<a),r.calculateMatrices(a,u,l,e.transform,e),e.drawTile(r,t)}},n._vectorFeaturesAt=function(t,e,n){if(!this._pyramid)return n(null,[]);var i=this._pyramid.tileAt(t);return i?void this.dispatcher.send(\"query features\",{uid:i.tile.uid,x:i.x,y:i.y,tileExtent:i.tile.tileExtent,scale:i.scale,source:this.id,params:e},n,i.tile.workerID):n(null,[])},n._vectorFeaturesIn=function(t,e,n){if(!this._pyramid)return n(null,[]);var r=this._pyramid.tilesIn(t);return r?void i.asyncAll(r,function(t,n){this.dispatcher.send(\"query features\",{uid:t.tile.uid,source:this.id,minX:t.minX,maxX:t.maxX,minY:t.minY,maxY:t.maxY,params:e},n,t.tile.workerID)}.bind(this),function(t,e){n(t,Array.prototype.concat.apply([],e))}):n(null,[])},n.create=function(e){var n={vector:t(\"./vector_tile_source\"),raster:t(\"./raster_tile_source\"),geojson:t(\"./geojson_source\"),video:t(\"./video_source\"),image:t(\"./image_source\")};for(var i in n)if(e instanceof n[i])return e;return new n[e.type](e)}},{\"../util/ajax\":154,\"../util/browser\":155,\"../util/mapbox\":163,\"../util/util\":166,\"./geojson_source\":100,\"./image_source\":102,\"./raster_tile_source\":103,\"./tile_coord\":106,\"./tile_pyramid\":107,\"./vector_tile_source\":108,\"./video_source\":109}],105:[function(t,e,n){\"use strict\";function i(t,e){this.coord=t,this.uid=a.uniqueId(),this.loaded=!1,this.uses=0,this.tileSize=e}function r(t){var e={};for(var n in t)e[n]=new s(t[n]);return e}var o=t(\"gl-matrix\").mat4,a=t(\"../util/util\"),s=t(\"../data/buffer\");e.exports=i,i.prototype={tileExtent:4096,calculateMatrices:function(t,e,n,i){var r=Math.pow(2,t),a=i.worldSize/r;this.scale=a,this.posMatrix=new Float64Array(16),o.identity(this.posMatrix),o.translate(this.posMatrix,this.posMatrix,[e*a,n*a,0]),o.scale(this.posMatrix,this.posMatrix,[a/this.tileExtent,a/this.tileExtent,1]),o.multiply(this.posMatrix,i.projMatrix,this.posMatrix),this.posMatrix=new Float32Array(this.posMatrix),this.exMatrix=i.exMatrix,this.rotationMatrix=i.rotationMatrix},positionAt:function(t,e){return t=t.zoomTo(Math.min(this.coord.z,e)),{x:(t.column-this.coord.x)*this.tileExtent,y:(t.row-this.coord.y)*this.tileExtent,scale:this.scale}},loadVectorData:function(t){this.loaded=!0,t&&(this.buffers=r(t.buffers),this.elementGroups=t.elementGroups,this.tileExtent=t.extent)},reloadSymbolData:function(t,e){if(this.buffers){this.buffers.glyphVertex&&this.buffers.glyphVertex.destroy(e.gl),this.buffers.glyphElement&&this.buffers.glyphElement.destroy(e.gl),this.buffers.iconVertex&&this.buffers.iconVertex.destroy(e.gl),this.buffers.iconElement&&this.buffers.iconElement.destroy(e.gl),this.buffers.collisionBoxVertex&&this.buffers.collisionBoxVertex.destroy(e.gl);var n=r(t.buffers);this.buffers.glyphVertex=n.glyphVertex,this.buffers.glyphElement=n.glyphElement,this.buffers.iconVertex=n.iconVertex,this.buffers.iconElement=n.iconElement,this.buffers.collisionBoxVertex=n.collisionBoxVertex;for(var i in t.elementGroups)this.elementGroups[i]=t.elementGroups[i]}},unloadVectorData:function(t){for(var e in this.buffers)this.buffers[e]&&this.buffers[e].destroy(t.gl);this.buffers=null},redoPlacement:function(t){function e(e,n){this.reloadSymbolData(n,t.map.painter),t.fire(\"tile.load\",{tile:this}),this.redoingPlacement=!1,this.redoWhenDone&&(this.redoPlacement(t),this.redoWhenDone=!1)}return!this.loaded||this.redoingPlacement?void(this.redoWhenDone=!0):(this.redoingPlacement=!0,void t.dispatcher.send(\"redo placement\",{uid:this.uid,source:t.id,angle:t.map.transform.angle,pitch:t.map.transform.pitch,collisionDebug:t.map.collisionDebug},e.bind(this),this.workerID))}}},{\"../data/buffer\":73,\"../util/util\":166,\"gl-matrix\":46}],106:[function(t,e,n){\"use strict\";function i(t,e,n,i){s(!isNaN(t)),s(!isNaN(e)),s(!isNaN(n)),s(t>=0),s(e>=0),s(n>=0),isNaN(i)&&(i=0),this.z=+t,this.x=+e,this.y=+n,this.w=+i,i*=2,0>i&&(i=-1*i-1);var r=1<<this.z;this.id=32*(r*r*i+r*this.y+this.x)+this.z}function r(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function o(t,e,n,i,r){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(i,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,d=e.dx<0,p=o;a>p;p++){var h=u*Math.max(0,Math.min(t.dy,p+c-t.y0))+t.x0,f=l*Math.max(0,Math.min(e.dy,p+d-e.y0))+e.x0;r(Math.floor(f),Math.ceil(h),p)}}function a(t,e,n,i,a,s){var u,l=r(t,e),c=r(e,n),d=r(n,t);l.dy>c.dy&&(u=l,l=c,c=u),l.dy>d.dy&&(u=l,l=d,d=u),c.dy>d.dy&&(u=c,c=d,d=u),l.dy&&o(d,l,i,a,s),c.dy&&o(d,c,i,a,s)}var s=t(\"assert\");e.exports=i,i.prototype.toString=function(){return this.z+\"/\"+this.x+\"/\"+this.y},i.fromID=function(t){var e=t%32,n=1<<e,r=(t-e)/32,o=r%n,a=(r-o)/n%n,s=Math.floor(r/(n*n));return s%2!==0&&(s=-1*s-1),s/=2,new i(e,o,a,s)},i.prototype.url=function(t,e){return t[(this.x+this.y)%t.length].replace(\"{prefix}\",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(\"{z}\",Math.min(this.z,e||this.z)).replace(\"{x}\",this.x).replace(\"{y}\",this.y)},i.prototype.parent=function(t){return 0===this.z?null:this.z>t?new i(this.z-1,this.x,this.y,this.w):new i(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},i.prototype.wrapped=function(){return new i(this.z,this.x,this.y,0)},i.prototype.children=function(t){if(this.z>=t)return[new i(this.z+1,this.x,this.y,this.w)];var e=this.z+1,n=2*this.x,r=2*this.y;return[new i(e,n,r,this.w),new i(e,n+1,r,this.w),new i(e,n,r+1,this.w),new i(e,n+1,r+1,this.w)]},i.cover=function(t,e,n){function r(t,e,r){var a,u,l;if(r>=0&&o>=r)for(a=t;e>a;a++)u=(a%o+o)%o,l=new i(n,u,r,Math.floor(a/o)),s[l.id]=l}var o=1<<t,s={};return a(e[0],e[1],e[2],0,o,r),a(e[2],e[3],e[0],0,o,r),Object.keys(s).map(function(t){return s[t]})}},{assert:8}],107:[function(t,e,n){\"use strict\";function i(t){this.tileSize=t.tileSize,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.roundZoom=t.roundZoom,this.reparseOverscaled=t.reparseOverscaled,this._load=t.load,this._abort=t.abort,this._unload=t.unload,this._add=t.add,this._remove=t.remove,this._redoPlacement=t.redoPlacement,this._tiles={},this._cache=new u(t.cacheSize,function(t){return this._unload(t)}.bind(this)),this._filterRendered=this._filterRendered.bind(this)}function r(t,e){return e%32-t%32}var o=t(\"./tile\"),a=t(\"./tile_coord\"),s=t(\"point-geometry\"),u=t(\"../util/mru_cache\"),l=t(\"../util/util\");e.exports=i,i.prototype={loaded:function(){for(var t in this._tiles)if(!this._tiles[t].loaded&&!this._tiles[t].errored)return!1;return!0},orderedIDs:function(){return Object.keys(this._tiles).map(Number).sort(r)},renderedIDs:function(){return this.orderedIDs().filter(this._filterRendered)},_filterRendered:function(t){return this._tiles[t].loaded&&!this._coveredTiles[t]},reload:function(){this._cache.reset();for(var t in this._tiles)this._load(this._tiles[t])},getTile:function(t){return this._tiles[t]},getZoom:function(t){return t.zoom+Math.log(t.tileSize/this.tileSize)/Math.LN2},coveringZoomLevel:function(t){return(this.roundZoom?Math.round:Math.floor)(this.getZoom(t))},coveringTiles:function(t){var e=this.coveringZoomLevel(t),n=e;if(e<this.minzoom)return[];e>this.maxzoom&&(e=this.maxzoom);var i=t,r=i.locationCoordinate(i.center)._zoomTo(e),o=new s(r.column-.5,r.row-.5);return a.cover(e,[i.pointCoordinate(new s(0,0))._zoomTo(e),i.pointCoordinate(new s(i.width,0))._zoomTo(e),i.pointCoordinate(new s(i.width,i.height))._zoomTo(e),i.pointCoordinate(new s(0,i.height))._zoomTo(e)],this.reparseOverscaled?n:e).sort(function(t,e){return o.dist(t)-o.dist(e)})},findLoadedChildren:function(t,e,n){var i=!1;for(var r in this._tiles){var o=this._tiles[r];if(!(n[r]||!o.loaded||o.coord.z<=t.z||o.coord.z>e)){var a=Math.pow(2,Math.min(o.coord.z,this.maxzoom)-Math.min(t.z,this.maxzoom));if(Math.floor(o.coord.x/a)===t.x&&Math.floor(o.coord.y/a)===t.y)for(n[r]=!0,i=!0;o&&o.coord.z-1>t.z;){var s=o.coord.parent(this.maxzoom).id;o=this._tiles[s],o&&o.loaded&&(delete n[r],n[s]=!0)}}}return i},findLoadedParent:function(t,e,n){for(var i=t.z-1;i>=e;i--){t=t.parent(this.maxzoom);var r=this._tiles[t.id];if(r&&r.loaded)return n[t.id]=!0,r}},update:function(t,e,n){var i,r,o,s=(this.roundZoom?Math.round:Math.floor)(this.getZoom(e)),u=l.clamp(s-10,this.minzoom,this.maxzoom),c=l.clamp(s+3,this.minzoom,this.maxzoom),d={},p=(new Date).getTime();this._coveredTiles={};var h=t?this.coveringTiles(e):[];for(i=0;i<h.length;i++)r=h[i],o=this.addTile(r),d[r.id]=!0,o.loaded||this.findLoadedChildren(r,c,d)||this.findLoadedParent(r,u,d);for(var f in d)r=a.fromID(f),o=this._tiles[f],o&&o.timeAdded>p-(n||0)&&(this.findLoadedChildren(r,c,d)?(this._coveredTiles[f]=!0,d[f]=!0):this.findLoadedParent(r,u,d));var m=l.keysDifference(this._tiles,d);for(i=0;i<m.length;i++)this.removeTile(+m[i])},addTile:function(t){var e=this._tiles[t.id];if(e)return e;var n=t.wrapped();if(e=this._tiles[n.id],e||(e=this._cache.get(n.id),e&&this._redoPlacement&&this._redoPlacement(e)),!e){var i=t.z,r=i>this.maxzoom?Math.pow(2,i-this.maxzoom):1;e=new o(n,this.tileSize*r),this._load(e)}return e.uses++,this._tiles[t.id]=e,this._add(e,t),e},removeTile:function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._remove(e),e.uses>0||(e.loaded?this._cache.add(e.coord.wrapped().id,e):(this._abort(e),this._unload(e))))},clearTiles:function(){for(var t in this._tiles)this.removeTile(t);this._cache.reset()},tileAt:function(t){for(var e=this.orderedIDs(),n=0;n<e.length;n++){var i=this._tiles[e[n]],r=i.positionAt(t,this.maxzoom);if(r&&r.x>=0&&r.x<i.tileExtent&&r.y>=0&&r.y<i.tileExtent)return{tile:i,x:r.x,y:r.y,scale:r.scale}}},tilesIn:function(t){for(var e=[],n=this.orderedIDs(),i=0;i<n.length;i++){var r=this._tiles[n[i]],o=[r.positionAt(t[0],this.maxzoom),r.positionAt(t[1],this.maxzoom)];o[0].x<r.tileExtent&&o[0].y<r.tileExtent&&o[1].x>=0&&o[1].y>=0&&e.push({tile:r,minX:o[0].x,maxX:o[1].x,minY:o[0].y,maxY:o[1].y})}return e}}},{\"../util/mru_cache\":164,\"../util/util\":166,\"./tile\":105,\"./tile_coord\":106,\"point-geometry\":170}],108:[function(t,e,n){\"use strict\";function i(t){if(r.extend(this,r.pick(t,[\"url\",\"tileSize\"])),512!==this.tileSize)throw new Error(\"vector tile sources must have a tileSize of 512\");a._loadTileJSON.call(this,t)}var r=t(\"../util/util\"),o=t(\"../util/evented\"),a=t(\"./source\"),s=t(\"../util/mapbox\").normalizeTileURL;e.exports=i,i.prototype=r.inherit(o,{minzoom:0,maxzoom:22,tileSize:512,reparseOverscaled:!0,_loaded:!1,onAdd:function(t){this.map=t},loaded:function(){return this._pyramid&&this._pyramid.loaded()},update:function(t){this._pyramid&&this._pyramid.update(this.used,t)},reload:function(){this._pyramid&&this._pyramid.reload()},render:a._renderTiles,featuresAt:a._vectorFeaturesAt,featuresIn:a._vectorFeaturesIn,_loadTile:function(t){var e=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,n={url:s(t.coord.url(this.tiles,this.maxzoom),this.url),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*e,source:this.id,overscaling:e,angle:this.map.transform.angle,pitch:this.map.transform.pitch,collisionDebug:this.map.collisionDebug};t.workerID?this.dispatcher.send(\"reload tile\",n,this._tileLoaded.bind(this,t),t.workerID):t.workerID=this.dispatcher.send(\"load tile\",n,this._tileLoaded.bind(this,t))},_tileLoaded:function(t,e,n){if(!t.aborted){if(e)return void this.fire(\"tile.error\",{tile:t});t.loadVectorData(n),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),this.fire(\"tile.load\",{tile:t}),this.fire(\"tile.stats\",n.bucketStats)}},_abortTile:function(t){t.aborted=!0,this.dispatcher.send(\"abort tile\",{uid:t.uid,source:this.id},null,t.workerID)},_addTile:function(t){this.fire(\"tile.add\",{tile:t})},_removeTile:function(t){this.fire(\"tile.remove\",{tile:t})},_unloadTile:function(t){t.unloadVectorData(this.map.painter),this.glyphAtlas.removeGlyphs(t.uid),this.dispatcher.send(\"remove tile\",{uid:t.uid,source:this.id},null,t.workerID)},redoPlacement:a.redoPlacement,_redoTilePlacement:function(t){t.redoPlacement(this)}})},{\"../util/evented\":160,\"../util/mapbox\":163,\"../util/util\":166,\"./source\":104}],109:[function(t,e,n){\"use strict\";function i(t){this.coordinates=t.coordinates,l.getVideo(t.urls,function(t,e){if(!t){this.video=e,this.video.loop=!0;var n;this.video.addEventListener(\"playing\",function(){n=this.map.style.animationLoop.set(1/0),this.map._rerender()}.bind(this)),this.video.addEventListener(\"pause\",function(){this.map.style.animationLoop.cancel(n)}.bind(this)),this._loaded=!0,this.map&&(this.video.play(),this.createTile(),this.fire(\"change\"))}}.bind(this))}var r=t(\"../util/util\"),o=t(\"./tile\"),a=t(\"../geo/lng_lat\"),s=t(\"point-geometry\"),u=t(\"../util/evented\"),l=t(\"../util/ajax\");e.exports=i,i.prototype=r.inherit(u,{roundZoom:!0,getVideo:function(){return this.video},onAdd:function(t){this.map=t,this.video&&(this.video.play(),this.createTile())},createTile:function(){var t=this.map,e=this.coordinates.map(function(e){var n=a.convert(e);return t.transform.locationCoordinate(n).zoomTo(0)}),n=r.getCoordinatesCenter(e),i=4096,u=e.map(function(t){var e=t.zoomTo(n.zoom);return new s(Math.round((e.column-n.column)*i),Math.round((e.row-n.row)*i))}),l=t.painter.gl,c=32767,d=new Int16Array([u[0].x,u[0].y,0,0,u[1].x,u[1].y,c,0,u[3].x,u[3].y,0,c,u[2].x,u[2].y,c,c]);this.tile=new o,this.tile.buckets={},this.tile.boundsBuffer=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,this.tile.boundsBuffer),l.bufferData(l.ARRAY_BUFFER,d,l.STATIC_DRAW),this.center=n},loaded:function(){return this.video&&this.video.readyState>=2},update:function(){},reload:function(){},render:function(t,e){if(this._loaded&&!(this.video.readyState<2)){var n=this.center;this.tile.calculateMatrices(n.zoom,n.column,n.row,this.map.transform,e);var i=e.gl;this.tile.texture?(i.bindTexture(i.TEXTURE_2D,this.tile.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.tile.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.tile.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,this.video)),e.drawLayers(t,this.tile.posMatrix,this.tile)}},featuresAt:function(t,e,n){return n(null,[])},featuresIn:function(t,e,n){return n(null,[])}})},{\"../geo/lng_lat\":81,\"../util/ajax\":154,\"../util/evented\":160,\"../util/util\":166,\"./tile\":105,\"point-geometry\":170}],110:[function(t,e,n){\"use strict\";function i(t){this.self=t,this.actor=new r(t,this),this.loading={},this.loaded={},this.layers=[],this.geoJSONIndexes={}}var r=t(\"../util/actor\"),o=t(\"./worker_tile\"),a=t(\"../util/util\"),s=t(\"../util/ajax\"),u=t(\"vector-tile\"),l=t(\"pbf\"),c=t(\"geojson-vt\"),d=t(\"./geojson_wrapper\");e.exports=function(t){return new i(t)},a.extend(i.prototype,{\"set layers\":function(t){this.layers=t},\"load tile\":function(t,e){function n(t,n){return delete this.loading[i][r],t?e(t):(a.data=new u.VectorTile(new l(new Uint8Array(n))),a.parse(a.data,this.layers,this.actor,e),this.loaded[i]=this.loaded[i]||{},void(this.loaded[i][r]=a))}var i=t.source,r=t.uid;this.loading[i]||(this.loading[i]={});var a=this.loading[i][r]=new o(t);a.xhr=s.getArrayBuffer(t.url,n.bind(this))},\"reload tile\":function(t,e){var n=this.loaded[t.source],i=t.uid;if(n&&n[i]){var r=n[i];r.parse(r.data,this.layers,this.actor,e)}},\"abort tile\":function(t){var e=this.loading[t.source],n=t.uid;e&&e[n]&&(e[n].xhr.abort(),delete e[n])},\"remove tile\":function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]},\"redo placement\":function(t,e){var n=this.loaded[t.source],i=this.loading[t.source],r=t.uid;if(n&&n[r]){var o=n[r],a=o.redoPlacement(t.angle,t.pitch,t.collisionDebug);a.result&&e(null,a.result,a.transferables)}else i&&i[r]&&(i[r].angle=t.angle)},\"parse geojson\":function(t,e){var n=function(n,i){return n?e(n):(this.geoJSONIndexes[t.source]=c(i,t.geojsonVtOptions),void e(null))}.bind(this);\"string\"==typeof t.data?s.getJSON(t.data,n):n(null,t.data)},\"load geojson tile\":function(t,e){var n=t.source,i=t.coord,r=this.geoJSONIndexes[n].getTile(i.z,i.x,i.y);if(!r)return e(null,null);var a=new o(t);a.parse(new d(r.features),this.layers,this.actor,e),this.loaded[n]=this.loaded[n]||{},this.loaded[n][t.uid]=a},\"query features\":function(t,e){var n=this.loaded[t.source]&&this.loaded[t.source][t.uid];n?n.featureTree.query(t,e):e(null,[])}})},{\"../util/actor\":153,\"../util/ajax\":154,\"../util/util\":166,\"./geojson_wrapper\":101,\"./worker_tile\":111,\"geojson-vt\":41,pbf:169,\"vector-tile\":321}],111:[function(t,e,n){\"use strict\";function i(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.collisionDebug=t.collisionDebug}function r(t){for(var e={},n=0;n<t.length;n++)e[t[n].id]=t[n].elementGroups;return e}function o(t){var e=[];for(var n in t)e.push(t[n].arrayBuffer),t[n].push=null;return e}var a=t(\"../data/feature_tree\"),s=t(\"../symbol/collision_tile\"),u=t(\"../data/bucket\");e.exports=i,i.prototype.parse=function(t,e,n,i){function l(t,e){for(var n=0;n<t.length;n++){var i=t.feature(n);for(var r in e)e[r].filter(i)&&e[r].features.push(i)}}function c(t){if(t)return i(t);if(D++,2===D){for(var e=S.length-1;e>=0;e--)d(y,S[e]);p()}}function d(t,e){var n=Date.now();e.addFeatures(_,P,R);var i=Date.now()-n;if(e.interactive)for(var r=0;r<e.features.length;r++){var o=e.features[r];t.featureTree.insert(o.bbox(),e.layers,o)}e.features=null,g._total+=i,g[e.id]=(g[e.id]||0)+i}function p(){if(y.status=\"done\",y.redoPlacementAfterDone){var t=y.redoPlacement(y.angle,y.pitch).result;b.glyphVertex=t.buffers.glyphVertex,b.iconVertex=t.buffers.iconVertex,b.collisionBoxVertex=t.buffers.collisionBoxVertex,y.redoPlacementAfterDone=!1}i(null,{elementGroups:r(M),buffers:b,extent:E,bucketStats:g},o(b))}this.status=\"parsing\",this.featureTree=new a(this.coord,this.overscaling);var h,f,m,v,g={_total:0},y=this,b={},_=new s(this.angle,this.pitch),x={},w={};for(h=0;h<e.length;h++)f=e[h],f.source!==this.source||f.ref||f.minzoom&&this.zoom<f.minzoom||f.maxzoom&&this.zoom>=f.maxzoom||\"none\"===f.layout.visibility||(v=u.create({layer:f,buffers:b,zoom:this.zoom,overscaling:this.overscaling,collisionDebug:this.collisionDebug}),v.layers=[f.id],x[f.id]=v,t.layers&&(m=f[\"source-layer\"],w[m]=w[m]||{},w[m][f.id]=v));for(h=0;h<e.length;h++)f=e[h],f.source===this.source&&f.ref&&x[f.ref]&&x[f.ref].layers.push(f.id);var E=4096;if(t.layers)for(m in w)f=t.layers[m],f&&(f.extent&&(E=f.extent),l(f,w[m]));else l(t,x);var M=[],S=this.symbolBuckets=[],C=[];for(var T in x)v=x[T],0!==v.features.length&&(M.push(v),\"symbol\"===v.type?S.push(v):C.push(v));var R={},P={};if(S.length>0){for(h=S.length-1;h>=0;h--)S[h].updateIcons(R),S[h].updateFont(P);for(var I in P)P[I]=Object.keys(P[I]).map(Number);R=Object.keys(R);var D=0;n.send(\"get glyphs\",{uid:this.uid,stacks:P},function(t,e){P=e,c(t)}),R.length?n.send(\"get icons\",{icons:R},function(t,e){R=e,c(t)}):c()}for(h=C.length-1;h>=0;h--)d(this,C[h]);return 0===S.length?p():void 0},i.prototype.redoPlacement=function(t,e,n){if(\"done\"!==this.status)return this.redoPlacementAfterDone=!0,this.angle=t,{};for(var i={},a=new s(t,e),u=this.symbolBuckets.length-1;u>=0;u--)this.symbolBuckets[u].placeFeatures(a,i,n);return{result:{elementGroups:r(this.symbolBuckets),buffers:i},transferables:o(i)}}},{\"../data/bucket\":72,\"../data/feature_tree\":76,\"../symbol/collision_tile\":129}],112:[function(t,e,n){\"use strict\";function i(){this.n=0,this.times=[]}e.exports=i,i.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},i.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},i.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})}},{}],113:[function(t,e,n){\"use strict\";function i(t){this.base=t,this.retina=s.devicePixelRatio>1;var e=this.retina?\"@2x\":\"\";a.getJSON(u(t,e,\".json\"),function(t,e){return t?void this.fire(\"error\",{error:t}):(this.data=e,void(this.img&&this.fire(\"load\")))}.bind(this)),a.getImage(u(t,e,\".png\"),function(t,e){if(t)return void this.fire(\"error\",{error:t});for(var n=e.getData(),i=e.data=new Uint8Array(n.length),r=0;r<n.length;r+=4){var o=n[r+3]/255;i[r+0]=n[r+0]*o,i[r+1]=n[r+1]*o,i[r+2]=n[r+2]*o,i[r+3]=n[r+3]}this.img=e,this.data&&this.fire(\"load\")}.bind(this))}function r(){}var o=t(\"../util/evented\"),a=t(\"../util/ajax\"),s=t(\"../util/browser\"),u=t(\"../util/mapbox\").normalizeSpriteURL;e.exports=i,i.prototype=Object.create(o),i.prototype.toJSON=function(){return this.base},i.prototype.loaded=function(){return!(!this.data||!this.img)},i.prototype.resize=function(){if(s.devicePixelRatio>1!==this.retina){var t=new i(this.base);t.on(\"load\",function(){this.img=t.img,this.data=t.data,this.retina=t.retina}.bind(this))}},r.prototype={x:0,y:0,width:0,height:0,pixelRatio:1,sdf:!1},i.prototype.getSpritePosition=function(t){if(!this.loaded())return new r;var e=this.data&&this.data[t];return e&&this.img?e:new r}},{\"../util/ajax\":154,\"../util/browser\":155,\"../util/evented\":160,\"../util/mapbox\":163}],114:[function(t,e,n){\"use strict\";var i=t(\"./reference\");e.exports={},i.layout.forEach(function(t){var n=function(t){for(var e in t)this[e]=t[e]},r=i[t];for(var o in r)void 0!==r[o][\"default\"]&&(n.prototype[o]=r[o][\"default\"]);e.exports[t.replace(\"layout_\",\"\")]=n})},{\"./reference\":116}],115:[function(t,e,n){\"use strict\";var i=t(\"./reference\"),r=t(\"csscolorparser\").parseCSSColor;e.exports={},i.paint.forEach(function(t){var n=function(){},o=i[t];for(var a in o){var s=o[a],u=s[\"default\"];void 0!==u&&(\"color\"===s.type&&(u=r(u)),n.prototype[a]=u)}n.prototype.hidden=!1,e.exports[t.replace(\"paint_\",\"\")]=n})},{\"./reference\":116,csscolorparser:9}],116:[function(t,e,n){\"use strict\";e.exports=t(\"mapbox-gl-style-spec/reference/latest\")},{\"mapbox-gl-style-spec/reference/latest\":68}],117:[function(t,e,n){\"use strict\";function i(t,e){this.animationLoop=e||new g,this.dispatcher=new v(Math.max(m.hardwareConcurrency-1,1),this),this.glyphAtlas=new l(1024,1024),this.spriteAtlas=new c(512,512),this.spriteAtlas.resize(m.devicePixelRatio),this.lineAtlas=new d(256,512),this._layers={},this._order=[],this._groups=[],this.sources={},this.zoomHistory={},p.bindAll([\"_forwardSourceEvent\",\"_forwardTileEvent\",\"_redoPlacement\"],this);var n=function(t,e){if(t)return void this.fire(\"error\",{error:t});var n=y(e);if(n.length)for(var i=0;i<n.length;i++)this.fire(\"error\",{error:new Error(n[i].message)});else{this._loaded=!0,this.stylesheet=e;var r=e.sources;for(var o in r)this.addSource(o,r[o]);e.sprite&&(this.sprite=new s(e.sprite),this.sprite.on(\"load\",this.fire.bind(this,\"change\"))),this.glyphSource=new u(e.glyphs,this.glyphAtlas),this._resolve(),this.fire(\"load\")}}.bind(this);\"string\"==typeof t?h.getJSON(f(t),n):m.frame(n.bind(this,null,t)),this.on(\"source.load\",function(t){var e=t.source;if(e&&e.vectorLayerIds)for(var n in this._layers){var i=this._layers[n];i.source===e.id&&this._validateLayer(i)}})}var r=t(\"../util/evented\"),o=t(\"./style_batch\"),a=t(\"./style_layer\"),s=t(\"./image_sprite\"),u=t(\"../symbol/glyph_source\"),l=t(\"../symbol/glyph_atlas\"),c=t(\"../symbol/sprite_atlas\"),d=t(\"../render/line_atlas\"),p=t(\"../util/util\"),h=t(\"../util/ajax\"),f=t(\"../util/mapbox\").normalizeStyleURL,m=t(\"../util/browser\"),v=t(\"../util/dispatcher\"),g=t(\"./animation_loop\"),y=t(\"mapbox-gl-style-spec/lib/validate/latest\");e.exports=i,i.prototype=p.inherit(r,{_loaded:!1,_validateLayer:function(t){var e=this.sources[t.source];t[\"source-layer\"]&&e&&e.vectorLayerIds&&-1===e.vectorLayerIds.indexOf(t[\"source-layer\"])&&this.fire(\"error\",{error:new Error('Source layer \"'+t[\"source-layer\"]+'\" does not exist on source \"'+e.id+'\" as specified by style layer \"'+t.id+'\"')})},loaded:function(){if(!this._loaded)return!1;for(var t in this.sources)if(!this.sources[t].loaded())return!1;return this.sprite&&!this.sprite.loaded()?!1:!0},_resolve:function(){var t,e;this._layers={},this._order=[];for(var n=0;n<this.stylesheet.layers.length;n++)e=new a(this.stylesheet.layers[n]),this._layers[e.id]=e,this._order.push(e.id);for(t in this._layers)this._layers[t].resolveLayout();for(t in this._layers)this._layers[t].resolveReference(this._layers),this._layers[t].resolvePaint();this._groupLayers(),this._broadcastLayers()},_groupLayers:function(){var t;this._groups=[];for(var e=0;e<this._order.length;++e){var n=this._layers[this._order[e]];t&&n.source===t.source||(t=[],t.source=n.source,this._groups.push(t)),t.push(n)}},_broadcastLayers:function(){this.dispatcher.broadcast(\"set layers\",this._order.map(function(t){return this._layers[t].json()},this))},_cascade:function(t,e){if(this._loaded){e=e||{transition:!0};for(var n in this._layers)this._layers[n].cascade(t,e,this.stylesheet.transition||{},this.animationLoop);this.fire(\"change\")}},_recalculate:function(t){for(var e in this.sources)this.sources[e].used=!1;this._updateZoomHistory(t),this.rasterFadeDuration=300;for(e in this._layers){var n=this._layers[e];n.recalculate(t,this.zoomHistory)&&n.source&&(this.sources[n.source].used=!0)}var i=300;Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(i),this.z=t,this.fire(\"zoom\")},_updateZoomHistory:function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},batch:function(t){o(this,t)},addSource:function(t,e){return this.batch(function(n){n.addSource(t,e)}),this},removeSource:function(t){return this.batch(function(e){e.removeSource(t)}),this},getSource:function(t){return this.sources[t]},addLayer:function(t,e){return this.batch(function(n){n.addLayer(t,e)}),this},removeLayer:function(t){return this.batch(function(e){e.removeLayer(t)}),this},getLayer:function(t){return this._layers[t]},getReferentLayer:function(t){var e=this.getLayer(t);return e.ref&&(e=this.getLayer(e.ref)),e},setFilter:function(t,e){return this.batch(function(n){n.setFilter(t,e)}),this},setLayerZoomRange:function(t,e,n){return this.batch(function(i){i.setLayerZoomRange(t,e,n)}),this},getFilter:function(t){return this.getReferentLayer(t).filter},getLayoutProperty:function(t,e){return this.getReferentLayer(t).getLayoutProperty(e)},getPaintProperty:function(t,e,n){return this.getLayer(t).getPaintProperty(e,n)},featuresAt:function(t,e,n){this._queryFeatures(\"featuresAt\",t,e,n)},featuresIn:function(t,e,n){this._queryFeatures(\"featuresIn\",t,e,n)},_queryFeatures:function(t,e,n,i){var r=[],o=null;n.layer&&(n.layerIds=Array.isArray(n.layer)?n.layer:[n.layer]),p.asyncEach(Object.keys(this.sources),function(i,a){var s=this.sources[i];s[t](e,n,function(t,e){e&&(r=r.concat(e)),t&&(o=t),a()})}.bind(this),function(){return o?i(o):void i(null,r.filter(function(t){return void 0!==this._layers[t.layer]}.bind(this)).map(function(t){return t.layer=this._layers[t.layer].json(),t}.bind(this)))}.bind(this))},_remove:function(){this.dispatcher.remove()},_reloadSource:function(t){this.sources[t].reload()},_updateSources:function(t){for(var e in this.sources)this.sources[e].update(t)},_redoPlacement:function(){for(var t in this.sources)this.sources[t].redoPlacement&&this.sources[t].redoPlacement()},_forwardSourceEvent:function(t){this.fire(\"source.\"+t.type,p.extend({source:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,p.extend({source:t.target},t))},\"get sprite json\":function(t,e){var n=this.sprite;n.loaded()?e(null,{sprite:n.data,retina:n.retina}):n.on(\"load\",function(){e(null,{sprite:n.data,retina:n.retina})})},\"get icons\":function(t,e){var n=this.sprite,i=this.spriteAtlas;n.loaded()?(i.setSprite(n),i.addIcons(t.icons,e)):n.on(\"load\",function(){i.setSprite(n),i.addIcons(t.icons,e)})},\"get glyphs\":function(t,e){function n(t,n,i){t&&console.error(t),o[i]=n,r--,0===r&&e(null,o)}var i=t.stacks,r=Object.keys(i).length,o={};\nfor(var a in i)this.glyphSource.getSimpleGlyphs(a,i[a],t.uid,n)}})},{\"../render/line_atlas\":97,\"../symbol/glyph_atlas\":131,\"../symbol/glyph_source\":132,\"../symbol/sprite_atlas\":137,\"../util/ajax\":154,\"../util/browser\":155,\"../util/dispatcher\":157,\"../util/evented\":160,\"../util/mapbox\":163,\"../util/util\":166,\"./animation_loop\":112,\"./image_sprite\":113,\"./style_batch\":118,\"./style_layer\":121,\"mapbox-gl-style-spec/lib/validate/latest\":66}],118:[function(t,e,n){\"use strict\";function i(t,e){if(!t._loaded)throw new Error(\"Style is not done loading\");var n=Object.create(i.prototype);n._style=t,n._groupLayers=!1,n._broadcastLayers=!1,n._reloadSources={},n._events=[],n._change=!1,e(n),n._groupLayers&&n._style._groupLayers(),n._broadcastLayers&&n._style._broadcastLayers(),Object.keys(n._reloadSources).forEach(function(t){n._style._reloadSource(t)}),n._events.forEach(function(t){n._style.fire.apply(n._style,t)}),n._change&&n._style.fire(\"change\")}var r=t(\"../source/source\"),o=t(\"./style_layer\");i.prototype={addLayer:function(t,e){if(void 0!==this._style._layers[t.id])throw new Error(\"There is already a layer with this ID\");return t instanceof o||(t=new o(t)),this._style._validateLayer(t),this._style._layers[t.id]=t,this._style._order.splice(e?this._style._order.indexOf(e):1/0,0,t.id),t.resolveLayout(),t.resolveReference(this._style._layers),t.resolvePaint(),this._groupLayers=!0,this._broadcastLayers=!0,t.source&&(this._reloadSources[t.source]=!0),this._events.push([\"layer.add\",{layer:t}]),this._change=!0,this},removeLayer:function(t){var e=this._style._layers[t];if(void 0===e)throw new Error(\"There is no layer with this ID\");for(var n in this._style._layers)this._style._layers[n].ref===t&&this.removeLayer(n);return delete this._style._layers[t],this._style._order.splice(this._style._order.indexOf(t),1),this._groupLayers=!0,this._broadcastLayers=!0,this._events.push([\"layer.remove\",{layer:e}]),this._change=!0,this},setPaintProperty:function(t,e,n,i){return this._style.getLayer(t).setPaintProperty(e,n,i),this._change=!0,this},setLayoutProperty:function(t,e,n){return t=this._style.getReferentLayer(t),t.setLayoutProperty(e,n),this._broadcastLayers=!0,t.source&&(this._reloadSources[t.source]=!0),this._change=!0,this},setFilter:function(t,e){return t=this._style.getReferentLayer(t),t.filter=e,this._broadcastLayers=!0,t.source&&(this._reloadSources[t.source]=!0),this._change=!0,this},setLayerZoomRange:function(t,e,n){var i=this._style.getReferentLayer(t);return null!=e&&(i.minzoom=e),null!=n&&(i.maxzoom=n),this._broadcastLayers=!0,i.source&&(this._reloadSources[i.source]=!0),this._change=!0,this},addSource:function(t,e){if(!this._style._loaded)throw new Error(\"Style is not done loading\");if(void 0!==this._style.sources[t])throw new Error(\"There is already a source with this ID\");return e=r.create(e),this._style.sources[t]=e,e.id=t,e.style=this._style,e.dispatcher=this._style.dispatcher,e.glyphAtlas=this._style.glyphAtlas,e.on(\"load\",this._style._forwardSourceEvent).on(\"error\",this._style._forwardSourceEvent).on(\"change\",this._style._forwardSourceEvent).on(\"tile.add\",this._style._forwardTileEvent).on(\"tile.load\",this._style._forwardTileEvent).on(\"tile.error\",this._style._forwardTileEvent).on(\"tile.remove\",this._style._forwardTileEvent).on(\"tile.stats\",this._style._forwardTileEvent),this._events.push([\"source.add\",{source:e}]),this._change=!0,this},removeSource:function(t){if(void 0===this._style.sources[t])throw new Error(\"There is no source with this ID\");var e=this._style.sources[t];return delete this._style.sources[t],e.off(\"load\",this._style._forwardSourceEvent).off(\"error\",this._style._forwardSourceEvent).off(\"change\",this._style._forwardSourceEvent).off(\"tile.add\",this._style._forwardTileEvent).off(\"tile.load\",this._style._forwardTileEvent).off(\"tile.error\",this._style._forwardTileEvent).off(\"tile.remove\",this._style._forwardTileEvent).off(\"tile.stats\",this._style._forwardTileEvent),this._events.push([\"source.remove\",{source:e}]),this._change=!0,this}},e.exports=i},{\"../source/source\":104,\"./style_layer\":121}],119:[function(t,e,n){\"use strict\";function i(t,e){this.type=t.type,this.transitionable=t.transition,null==e&&(e=t[\"default\"]),this.json=JSON.stringify(e),\"color\"===this.type?this.value=o(e):this.value=e,\"interpolated\"===t[\"function\"]?this.calculate=u.interpolated(this.value):(this.calculate=u[\"piecewise-constant\"](this.value),t.transition&&(this.calculate=r(this.calculate)))}function r(t){return function(e,n,i){var r,o,a,s=e%1,u=Math.min((Date.now()-n.lastIntegerZoomTime)/i,1),l=1,c=1;return e>n.lastIntegerZoom?(r=s+(1-s)*u,l*=2,o=t(e-1),a=t(e)):(r=1-(1-u)*s,a=t(e),o=t(e+1),l/=2),{from:o,fromScale:l,to:a,toScale:c,t:r}}}function o(t){if(c[t])return c[t];if(Array.isArray(t))return t;if(t&&t.stops)return l.extend({},t,{stops:t.stops.map(function(t){return[t[0],o(t[1])]})});if(\"string\"==typeof t){var e=a(s(t));return c[t]=e,e}throw new Error(\"Invalid color \"+t)}function a(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]/1]}var s=t(\"csscolorparser\").parseCSSColor,u=t(\"mapbox-gl-function\"),l=t(\"../util/util\");e.exports=i;var c={}},{\"../util/util\":166,csscolorparser:9,\"mapbox-gl-function\":65}],120:[function(t,e,n){\"use strict\";function i(t){function e(t){this._values={},this._transitions={};for(var e in t)this[e]=t[e]}return Object.keys(t).forEach(function(n){var i=t[n];Object.defineProperty(e.prototype,n,{set:function(t){this._values[n]=new a(i,t)},get:function(){return this._values[n].value}}),i.transition&&Object.defineProperty(e.prototype,n+\"-transition\",{set:function(t){this._transitions[n]=t},get:function(){return this._transitions[n]}})}),e.prototype.values=function(){return this._values},e.prototype.transition=function(t,e){var n=this._transitions[t]||{};return{duration:r.coalesce(n.duration,e.duration,300),delay:r.coalesce(n.delay,e.delay,0)}},e.prototype.json=function(){var t={};for(var e in this._values)t[e]=this._values[e].value;for(var n in this._transitions)t[n+\"-transition\"]=this._transitions[e];return t},e}var r=t(\"../util/util\"),o=t(\"./reference\"),a=t(\"./style_declaration\"),s={paint:{},layout:{}};o.layer.type.values.forEach(function(t){s.paint[t]=i(o[\"paint_\"+t]),s.layout[t]=i(o[\"layout_\"+t])}),e.exports=function(t,e,n){return new s[t][e](n)}},{\"../util/util\":166,\"./reference\":116,\"./style_declaration\":119}],121:[function(t,e,n){\"use strict\";function i(t){this._layer=t,this.id=t.id,this.ref=t.ref,this._resolved={},this._cascaded={},this.assign(t)}function r(t,e){var n=e+\"-color\",i=e+\"-halo-color\",r=e+\"-outline-color\",a=t[n],s=t[i],u=t[r],l=t[e+\"-opacity\"],c=a&&l*a[3],d=s&&l*s[3],p=u&&l*u[3];void 0!==c&&1>c&&(t[n]=o.premultiply([a[0],a[1],a[2],c])),void 0!==d&&1>d&&(t[i]=o.premultiply([s[0],s[1],s[2],d])),void 0!==p&&1>p&&(t[r]=o.premultiply([u[0],u[1],u[2],p]))}var o=t(\"../util/util\"),a=t(\"./style_transition\"),s=t(\"./style_declaration_set\"),u=t(\"./layout_properties\"),l=t(\"./paint_properties\");e.exports=i,i.prototype={resolveLayout:function(){this.ref||(this.layout=new u[this.type](this._layer.layout),\"line\"===this.layout[\"symbol-placement\"]&&(this.layout.hasOwnProperty(\"text-rotation-alignment\")||(this.layout[\"text-rotation-alignment\"]=\"map\"),this.layout.hasOwnProperty(\"icon-rotation-alignment\")||(this.layout[\"icon-rotation-alignment\"]=\"map\"),this.layout[\"symbol-avoid-edges\"]=!0))},setLayoutProperty:function(t,e){null==e?delete this.layout[t]:this.layout[t]=e},getLayoutProperty:function(t){return this.layout[t]},resolveReference:function(t){this.ref&&this.assign(t[this.ref])},resolvePaint:function(){for(var t in this._layer){var e=t.match(/^paint(?:\\.(.*))?$/);e&&(this._resolved[e[1]||\"\"]=new s(\"paint\",this.type,this._layer[t]))}},setPaintProperty:function(t,e,n){var i=this._resolved[n||\"\"];i||(i=this._resolved[n||\"\"]=new s(\"paint\",this.type,{})),i[t]=e},getPaintProperty:function(t,e){var n=this._resolved[e||\"\"];if(n)return n[t]},cascade:function(t,e,n,i){for(var r in this._resolved)if(\"\"===r||t[r]){var o=this._resolved[r],u=o.values();for(var l in u){var c=u[l],d=e.transition?this._cascaded[l]:void 0;if(!d||d.declaration.json!==c.json){var p=o.transition(l,n),h=this._cascaded[l]=new a(c,d,p);h.instant()||(h.loopID=i.set(h.endTime-(new Date).getTime())),d&&i.cancel(d.loopID)}}}if(\"symbol\"===this.type){var f=new s(\"layout\",this.type,this.layout);this._cascaded[\"text-size\"]=new a(f.values()[\"text-size\"],void 0,n),this._cascaded[\"icon-size\"]=new a(f.values()[\"icon-size\"],void 0,n)}},recalculate:function(t,e){var n=this.type,i=this.paint=new l[n];for(var o in this._cascaded)i[o]=this._cascaded[o].at(t,e);if(this.hidden=this.minzoom&&t<this.minzoom||this.maxzoom&&t>=this.maxzoom||\"none\"===this.layout.visibility,\"symbol\"===n?0!==i[\"text-opacity\"]&&this.layout[\"text-field\"]||0!==i[\"icon-opacity\"]&&this.layout[\"icon-image\"]?(r(i,\"text\"),r(i,\"icon\")):this.hidden=!0:0===i[n+\"-opacity\"]?this.hidden=!0:r(i,n),this._cascaded[\"line-dasharray\"]){var a=i[\"line-dasharray\"],s=this._cascaded[\"line-width\"]?this._cascaded[\"line-width\"].at(Math.floor(t),1/0):i[\"line-width\"];a.fromScale*=s,a.toScale*=s}return!this.hidden},assign:function(t){o.extend(this,o.pick(t,[\"type\",\"source\",\"source-layer\",\"minzoom\",\"maxzoom\",\"filter\",\"layout\"]))},json:function(){return o.extend({},this._layer,o.pick(this,[\"type\",\"source\",\"source-layer\",\"minzoom\",\"maxzoom\",\"filter\",\"layout\",\"paint\"]))}}},{\"../util/util\":166,\"./layout_properties\":114,\"./paint_properties\":115,\"./style_declaration_set\":120,\"./style_transition\":122}],122:[function(t,e,n){\"use strict\";function i(t,e,n){this.declaration=t,this.startTime=this.endTime=(new Date).getTime();var i=t.type;\"string\"!==i&&\"array\"!==i||!t.transitionable?this.interp=a[i]:this.interp=r,this.oldTransition=e,this.duration=n.duration||0,this.delay=n.delay||0,this.instant()||(this.endTime=this.startTime+this.duration+this.delay,this.ease=o.easeCubicInOut),e&&e.endTime<=this.startTime&&delete e.oldTransition}function r(t,e,n){return{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:n}}var o=t(\"../util/util\"),a=t(\"../util/interpolate\");e.exports=i,i.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},i.prototype.at=function(t,e,n){var i=this.declaration.calculate(t,e,this.duration);if(this.instant())return i;if(n=n||Date.now(),n<this.endTime){var r=this.oldTransition.at(t,e,this.startTime),o=this.ease((n-this.startTime-this.delay)/this.duration);i=this.interp(r,i,o)}return i}},{\"../util/interpolate\":162,\"../util/util\":166}],123:[function(t,e,n){\"use strict\";function i(t,e,n,i){this.x=t,this.y=e,this.angle=n,void 0!==i&&(this.segment=i)}var r=t(\"point-geometry\");e.exports=i,i.prototype=Object.create(r.prototype),i.prototype.clone=function(){return new i(this.x,this.y,this.angle,this.segment)}},{\"point-geometry\":170}],124:[function(t,e,n){\"use strict\";function i(t,e){this.width=t,this.height=e,this.free=[{x:0,y:0,w:t,h:e}]}e.exports=i,i.prototype.release=function(t){for(var e=0;e<this.free.length;e++){var n=this.free[e];if(n.y===t.y&&n.h===t.h&&n.x+n.w===t.x)n.w+=t.w;else if(n.x===t.x&&n.w===t.w&&n.y+n.h===t.y)n.h+=t.h;else if(t.y===n.y&&t.h===n.h&&t.x+t.w===n.x)n.x=t.x,n.w+=t.w;else{if(t.x!==n.x||t.w!==n.w||t.y+t.h!==n.y)continue;n.y=t.y,n.h+=t.h}return this.free.splice(e,1),void this.release(n)}this.free.push(t)},i.prototype.allocate=function(t,e){for(var n={x:1/0,y:1/0,w:1/0,h:1/0},i=-1,r=0;r<this.free.length;r++){var o=this.free[r];t<=o.w&&e<=o.h&&o.y<=n.y&&o.x<=n.x&&(n=o,i=r)}return 0>i?{x:-1,y:-1}:(this.free.splice(i,1),n.w<n.h?(n.w>t&&this.free.push({x:n.x+t,y:n.y,w:n.w-t,h:e}),n.h>e&&this.free.push({x:n.x,y:n.y+e,w:n.w,h:n.h-e})):(n.w>t&&this.free.push({x:n.x+t,y:n.y,w:n.w-t,h:n.h}),n.h>e&&this.free.push({x:n.x,y:n.y+e,w:t,h:n.h-e})),{x:n.x,y:n.y,w:t,h:e})}},{}],125:[function(t,e,n){\"use strict\";function i(t,e,n,i,r){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(a--,0>a)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;n/2>s;){var c=t[a-1],d=t[a],p=t[a+1];if(!p)return!1;var h=c.angleTo(d)-d.angleTo(p);for(h=(h+3*Math.PI)%(2*Math.PI)-Math.PI,u.push({distance:s,angleDelta:h}),l+=h;s-u[0].distance>i;)l-=u.shift().angleDelta;if(Math.abs(l)>r)return!1;a++,s+=d.dist(p)}return!0}e.exports=i},{}],126:[function(t,e,n){\"use strict\";function i(t,e,n,i,o){for(var a=[],s=0;s<t.length;s++)for(var u,l=t[s],c=0;c<l.length-1;c++){var d=l[c],p=l[c+1];d.x<e&&p.x<e||(d.x<e?d=new r(e,d.y+(p.y-d.y)*((e-d.x)/(p.x-d.x))):p.x<e&&(p=new r(e,d.y+(p.y-d.y)*((e-d.x)/(p.x-d.x)))),d.y<n&&p.y<n||(d.y<n?d=new r(d.x+(p.x-d.x)*((n-d.y)/(p.y-d.y)),n):p.y<n&&(p=new r(d.x+(p.x-d.x)*((n-d.y)/(p.y-d.y)),n)),d.x>=i&&p.x>=i||(d.x>=i?d=new r(i,d.y+(p.y-d.y)*((i-d.x)/(p.x-d.x))):p.x>=i&&(p=new r(i,d.y+(p.y-d.y)*((i-d.x)/(p.x-d.x)))),d.y>=o&&p.y>=o||(d.y>=o?d=new r(d.x+(p.x-d.x)*((o-d.y)/(p.y-d.y)),o):p.y>=o&&(p=new r(d.x+(p.x-d.x)*((o-d.y)/(p.y-d.y)),o)),u&&d.equals(u[u.length-1])||(u=[d],a.push(u)),u.push(p)))))}return a}var r=t(\"point-geometry\");e.exports=i},{\"point-geometry\":170}],127:[function(t,e,n){\"use strict\";function i(t,e,n,i,r,o){this.anchorPoint=t,this.x1=e,this.y1=n,this.x2=i,this.y2=r,this.maxScale=o,this.placementScale=0,this[0]=this[1]=this[2]=this[3]=0}e.exports=i},{}],128:[function(t,e,n){\"use strict\";function i(t,e,n,i,a,s){var u=n.top*i-a,l=n.bottom*i+a,c=n.left*i-a,d=n.right*i+a;if(this.boxes=[],s){var p=l-u,h=d-c;if(0>=p)return;p=Math.max(10*i,p),this._addLineCollisionBoxes(t,e,h,p)}else this.boxes.push(new r(new o(e.x,e.y),c,u,d,l,1/0))}var r=t(\"./collision_box\"),o=t(\"point-geometry\");e.exports=i,i.prototype._addLineCollisionBoxes=function(t,e,n,i){var o=i/2,a=Math.floor(n/o),s=-i/2,u=this.boxes,l=e,c=e.segment+1,d=s;do{if(c--,0>c)return u;d-=t[c].dist(l),l=t[c]}while(d>-n/2);for(var p=t[c].dist(t[c+1]),h=0;a>h;h++){for(var f=-n/2+h*o;f>d+p;){if(d+=p,c++,c+1>=t.length)return u;p=t[c].dist(t[c+1])}var m=f-d,v=t[c],g=t[c+1],y=g.sub(v)._unit()._mult(m)._add(v),b=Math.max(Math.abs(f-s)-o/2,0),_=n/2/b;u.push(new r(y,-i/2,-i/2,i/2,i/2,_))}return u}},{\"./collision_box\":127,\"point-geometry\":170}],129:[function(t,e,n){\"use strict\";function i(t,e){this.tree=r(),this.angle=t;var n=Math.sin(t),i=Math.cos(t);this.rotationMatrix=[i,-n,n,i],this.yStretch=1/Math.cos(e/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3)}var r=t(\"rbush\");e.exports=i,i.prototype.minScale=.25,i.prototype.maxScale=2,i.prototype.placeCollisionFeature=function(t){for(var e=this.minScale,n=this.rotationMatrix,i=this.yStretch,r=0;r<t.boxes.length;r++){var o=t.boxes[r],a=o.anchorPoint.matMult(n),s=a.x,u=a.y;o[0]=s+o.x1,o[1]=u+o.y1*i,o[2]=s+o.x2,o[3]=u+o.y2*i;for(var l=this.tree.search(o),c=0;c<l.length;c++){var d=l[c],p=d.anchorPoint.matMult(n),h=(d.x1-o.x2)/(s-p.x),f=(d.x2-o.x1)/(s-p.x),m=(d.y1-o.y2)*i/(u-p.y),v=(d.y2-o.y1)*i/(u-p.y);(isNaN(h)||isNaN(f))&&(h=f=1),(isNaN(m)||isNaN(v))&&(m=v=1);var g=Math.min(Math.max(h,f),Math.max(m,v));if(g>d.maxScale&&(g=d.maxScale),g>o.maxScale&&(g=o.maxScale),g>e&&g>=d.placementScale&&(e=g),e>=this.maxScale)return e}}return e},i.prototype.insertCollisionFeature=function(t,e){for(var n=t.boxes,i=0;i<n.length;i++)n[i].placementScale=e;e<this.maxScale&&this.tree.load(n)}},{rbush:172}],130:[function(t,e,n){\"use strict\";function i(t,e,n,i,o,a,s,u){var l=i?.6*a*s:0,c=Math.max(i?i.right-i.left:0,o?o.right-o.left:0);if(0===t[0].x||4096===t[0].x||0===t[0].y||4096===t[0].y)var d=!0;e/4>e-c*s&&(e=c*s+e/4);var p=2*a,h=d?e/2*u%e:(c/2+p)*s*u%e;return r(t,h,e,l,n,c*s,d,!1)}function r(t,e,n,i,u,l,c,d){for(var p=0,h=e-n,f=[],m=0;m<t.length-1;m++){for(var v=t[m],g=t[m+1],y=v.dist(g),b=g.angleTo(v);p+y>h+n;){h+=n;var _=(h-p)/y,x=o(v.x,g.x,_),w=o(v.y,g.y,_);if(x>=0&&4096>x&&w>=0&&4096>w){x=Math.round(x),w=Math.round(w);var E=new a(x,w,b,m);(!i||s(t,E,l,i,u))&&f.push(E)}}p+=y}return d||f.length||c||(f=r(t,p/2,n,i,u,l,c,!0)),f}var o=t(\"../util/interpolate\"),a=t(\"../symbol/anchor\"),s=t(\"./check_max_angle\");e.exports=i},{\"../symbol/anchor\":123,\"../util/interpolate\":162,\"./check_max_angle\":125}],131:[function(t,e,n){\"use strict\";function i(t,e){this.width=t,this.height=e,this.bin=new r(t,e),this.index={},this.ids={},this.data=new Uint8Array(t*e)}var r=t(\"./bin_pack\");e.exports=i,i.prototype={get debug(){return\"canvas\"in this},set debug(t){t&&!this.canvas?(this.canvas=document.createElement(\"canvas\"),this.canvas.width=this.width,this.canvas.height=this.height,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext(\"2d\")):!t&&this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),delete this.ctx,delete this.canvas)}},i.prototype.getGlyphs=function(){var t,e,n,i={};for(var r in this.ids)t=r.split(\"#\"),e=t[0],n=t[1],i[e]||(i[e]=[]),i[e].push(n);return i},i.prototype.getRects=function(){var t,e,n,i={};for(var r in this.ids)t=r.split(\"#\"),e=t[0],n=t[1],i[e]||(i[e]={}),i[e][n]=this.index[r];return i},i.prototype.removeGlyphs=function(t){for(var e in this.ids){var n=this.ids[e],i=n.indexOf(t);if(i>=0&&n.splice(i,1),this.ids[e]=n,!n.length){for(var r=this.index[e],o=this.data,a=0;a<r.h;a++)for(var s=this.width*(r.y+a)+r.x,u=0;u<r.w;u++)o[s+u]=0;this.dirty=!0,this.bin.release(r),delete this.index[e],delete this.ids[e]}}this.updateTexture(this.gl)},i.prototype.addGlyph=function(t,e,n,i){if(!n)return null;var r=e+\"#\"+n.id;if(this.index[r])return this.ids[r].indexOf(t)<0&&this.ids[r].push(t),this.index[r];if(!n.bitmap)return null;var o=n.width+2*i,a=n.height+2*i,s=1,u=o+2*s,l=a+2*s;u+=4-u%4,l+=4-l%4;var c=this.bin.allocate(u,l);if(c.x<0)return console.warn(\"glyph bitmap overflow\"),{glyph:n,rect:null};this.index[r]=c,this.ids[r]=[t];for(var d=this.data,p=n.bitmap,h=0;a>h;h++)for(var f=this.width*(c.y+h+s)+c.x+s,m=o*h,v=0;o>v;v++)d[f+v]=p[m+v];return this.dirty=!0,c},i.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},i.prototype.updateTexture=function(t){if(this.bind(t),this.dirty){if(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.ctx){for(var e=this.ctx.getImageData(0,0,this.width,this.height),n=0,i=0;n<this.data.length;n++,i+=4)e.data[i]=this.data[n],e.data[i+1]=this.data[n],e.data[i+2]=this.data[n],e.data[i+3]=255;this.ctx.putImageData(e,0,0),this.ctx.strokeStyle=\"red\";for(var r=0;r<this.bin.free.length;r++){var o=this.bin.free[r];this.ctx.strokeRect(o.x,o.y,o.w,o.h)}}this.dirty=!1}}},{\"./bin_pack\":124}],132:[function(t,e,n){\"use strict\";function i(t,e){this.url=t&&a(t),this.glyphAtlas=e,this.stacks=[],this.loading={}}function r(t,e,n){var i=1;this.advance=t.advance,this.left=t.left-n-i,this.top=t.top+n+i,this.rect=e}function o(t,e,n,i){return i=i||\"abc\",n.replace(\"{s}\",i[t.length%i.length]).replace(\"{fontstack}\",t).replace(\"{range}\",e)}var a=t(\"../util/mapbox\").normalizeGlyphsURL,s=t(\"../util/ajax\").getArrayBuffer,u=t(\"../util/glyphs\"),l=t(\"pbf\");e.exports=i,i.prototype.getSimpleGlyphs=function(t,e,n,i){void 0===this.stacks[t]&&(this.stacks[t]={});for(var o,a={},s=this.stacks[t],u=this.glyphAtlas,l=3,c={},d=0,p=0;p<e.length;p++){var h=e[p];if(o=Math.floor(h/256),s[o]){var f=s[o].glyphs[h],m=u.addGlyph(n,t,f,l);f&&(a[h]=new r(f,m,l))}else void 0===c[o]&&(c[o]=[],d++),c[o].push(h)}d||i(void 0,a,t);var v=function(e,o,s){if(!e)for(var p=this.stacks[t][o]=s.stacks[0],h=0;h<c[o].length;h++){var f=c[o][h],m=p.glyphs[f],v=u.addGlyph(n,t,m,l);m&&(a[f]=new r(m,v,l))}d--,d||i(void 0,a,t)}.bind(this);for(var g in c)this.loadRange(t,g,v)},i.prototype.loadRange=function(t,e,n){if(256*e>65535)return n(\"glyphs > 65535 not supported\");void 0===this.loading[t]&&(this.loading[t]={});var i=this.loading[t];if(i[e])i[e].push(n);else{i[e]=[n];var r=256*e+\"-\"+(256*e+255),a=o(t,r,this.url);s(a,function(t,n){for(var r=!t&&new u(new l(new Uint8Array(n))),o=0;o<i[e].length;o++)i[e][o](t,e,r);delete i[e]})}}},{\"../util/ajax\":154,\"../util/glyphs\":161,\"../util/mapbox\":163,pbf:169}],133:[function(t,e,n){\"use strict\";e.exports=function(t,e,n){function i(i){c.push(t[i]),d.push(n[i]),p.push(e[i]),h++}function r(t,e,n){var i=l[t];return delete l[t],l[e]=i,d[i][0].pop(),d[i][0]=d[i][0].concat(n[0]),i}function o(t,e,n){var i=u[e];return delete u[e],u[t]=i,d[i][0].shift(),d[i][0]=n[0].concat(d[i][0]),i}function a(t,e,n){var i=n?e[0][e[0].length-1]:e[0][0];return t+\":\"+i.x+\":\"+i.y}var s,u={},l={},c=[],d=[],p=[],h=0;for(s=0;s<t.length;s++){var f=n[s],m=e[s];if(m){var v=a(m,f),g=a(m,f,!0);if(v in l&&g in u&&l[v]!==u[g]){var y=o(v,g,f),b=r(v,g,d[y]);delete u[v],delete l[g],l[a(m,d[b],!0)]=b,d[y]=null}else v in l?r(v,g,f):g in u?o(v,g,f):(i(s),u[v]=h-1,l[g]=h-1)}else i(s)}return{features:c,textFeatures:p,geometries:d}}},{}],134:[function(t,e,n){\"use strict\";function i(t,e,n,i,r,o,a,s,u){this.anchorPoint=t,this.tl=e,this.tr=n,this.bl=i,this.br=r,this.tex=o,this.angle=a,this.minScale=s,this.maxScale=u}function r(t,e,n,r,o,a){var l=e.image.rect,c=1,d=e.left-c,p=d+l.w,h=e.top-c,f=h+l.h,m=new s(d,h),v=new s(p,h),g=new s(p,f),y=new s(d,f),b=o[\"icon-rotate\"]*Math.PI/180;if(a){var _=r[t.segment];if(t.y===_.y&&t.x===_.x&&t.segment+1<r.length){var x=r[t.segment+1];b+=Math.atan2(t.y-x.y,t.x-x.x)+Math.PI}else b+=Math.atan2(t.y-_.y,t.x-_.x)}if(b){var w=Math.sin(b),E=Math.cos(b),M=[E,-w,w,E];m=m.matMult(M),v=v.matMult(M),y=y.matMult(M),g=g.matMult(M)}return[new i(new s(t.x,t.y),m,v,y,g,e.image.rect,0,u,1/0)]}function o(t,e,n,r,o,l){for(var c=o[\"text-rotate\"]*Math.PI/180,d=o[\"text-keep-upright\"],p=e.positionedGlyphs,h=[],f=0;f<p.length;f++){var m=p[f],v=m.glyph,g=v.rect;if(g){var y,b=(m.x+v.advance/2)*n,_=u;l?(y=[],_=a(y,t,b,r,t.segment,!0),d&&(_=Math.min(_,a(y,t,b,r,t.segment,!1)))):y=[{anchorPoint:new s(t.x,t.y),offset:0,angle:0,maxScale:1/0,minScale:u}];for(var x=m.x+v.left,w=m.y-v.top,E=x+g.w,M=w+g.h,S=new s(x,w),C=new s(E,w),T=new s(x,M),R=new s(E,M),P=0;P<y.length;P++){var I=y[P],D=S,A=C,L=T,O=R,N=I.angle+c;if(N){var k=Math.sin(N),j=Math.cos(N),z=[j,-k,k,j];D=D.matMult(z),A=A.matMult(z),L=L.matMult(z),O=O.matMult(z)}var F=Math.max(I.minScale,_),U=(t.angle+c+I.offset+2*Math.PI)%(2*Math.PI);h.push(new i(I.anchorPoint,D,A,L,O,g,U,F,I.maxScale))}}}return h}function a(t,e,n,i,r,o){var a=!o;0>n&&(o=!o),o&&r++;var l=new s(e.x,e.y),c=i[r],d=1/0;n=Math.abs(n);for(var p=u;;){var h=l.dist(c),f=n/h,m=Math.atan2(c.y-l.y,c.x-l.x);if(o||(m+=Math.PI),a&&(m+=Math.PI),t.push({anchorPoint:l,offset:a?Math.PI:0,minScale:f,maxScale:d,angle:(m+2*Math.PI)%(2*Math.PI)}),p>=f)break;for(l=c;l.equals(c);)if(r+=o?1:-1,c=i[r],!c)return f;var v=c.sub(l)._unit();l=l.sub(v._mult(h)),d=f}return p}var s=t(\"point-geometry\");e.exports={getIconQuads:r,getGlyphQuads:o};var u=.5},{\"point-geometry\":170}],135:[function(t,e,n){\"use strict\";function i(t,e,n){for(var i=[],o=0,a=t.length;a>o;o++){var s=r(t[o].properties,e[\"text-field\"]);if(s){s=s.toString();var u=e[\"text-transform\"];\"uppercase\"===u?s=s.toLocaleUpperCase():\"lowercase\"===u&&(s=s.toLocaleLowerCase());for(var l=0;l<s.length;l++)n[s.charCodeAt(l)]=!0;i[o]=s}else i[o]=null}return i}var r=t(\"../util/token\");e.exports=i},{\"../util/token\":165}],136:[function(t,e,n){\"use strict\";function i(t,e,n,i){this.codePoint=t,this.x=e,this.y=n,this.glyph=i}function r(t,e,n,i,r,o){this.positionedGlyphs=t,this.text=e,this.top=n,this.bottom=i,this.left=r,this.right=o}function o(t,e,n,o,s,u,l,c,d){for(var p=[],h=new r(p,t,d[1],d[1],d[0],d[0]),f=-17,m=d[0],v=d[1]+f,g=0;g<t.length;g++){var y=t.charCodeAt(g),b=e[y];b&&(p.push(new i(y,m,v,b)),m+=b.advance+c)}return p.length?(a(h,e,o,n,s,u,l),h):!1}function a(t,e,n,i,r,o,a){var l=null,c=0,h=0,f=0,m=0,v=t.positionedGlyphs;if(i)for(var g=0;g<v.length;g++){var y=v[g];if(y.x-=c,y.y+=n*f,y.x>i&&null!==l){var b=v[l+1].x;m=Math.max(b,m);for(var _=l+1;g>=_;_++)v[_].y+=n,v[_].x-=b;if(a){var x=l;d[v[l].codePoint]&&x--,s(v,e,h,x,a)}h=l+1,l=null,c+=b,f++}p[y.codePoint]&&(l=g)}var w=v[v.length-1],E=w.x+e[w.codePoint].advance;m=Math.max(m,E);var M=(f+1)*n;s(v,e,h,v.length-1,a),u(v,a,r,o,m,n,f),t.top+=-o*M,t.bottom=t.top+M,t.left+=-r*m,t.right=t.left+m}function s(t,e,n,i,r){for(var o=e[t[i].codePoint].advance,a=(t[i].x+o)*r,s=n;i>=s;s++)t[s].x-=a}function u(t,e,n,i,r,o,a){for(var s=(e-n)*r,u=(-i*(a+1)+.5)*o,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=u}function l(t,e){if(!t||!t.rect)return null;var n=e[\"icon-offset\"][0],i=e[\"icon-offset\"][1],r=n-t.width/2,o=r+t.width,a=i-t.height/2,s=a+t.height;return new c(t,a,s,r,o)}function c(t,e,n,i,r){this.image=t,this.top=e,this.bottom=n,this.left=i,this.right=r}e.exports={shapeText:o,shapeIcon:l};var d={32:!0,8203:!0},p={32:!0,38:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0}},{}],137:[function(t,e,n){\"use strict\";function i(t,e){this.width=t,this.height=e,this.bin=new a(t,e),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0}function r(t,e,n,i,r,o,a,s,u,l,c){var d,p,h=i*e+n,f=s*o+a;if(c)for(f-=o,p=-1;l>=p;p++,h=((p+l)%l+i)*e+n,f+=o)for(d=-1;u>=d;d++)r[f+d]=t[h+(d+u)%u];else for(p=0;l>p;p++,h+=e,f+=o)for(d=0;u>d;d++)r[f+d]=t[h+d]}function o(t,e,n,i){this.rect=t,this.width=e,this.height=n,this.sdf=i}var a=t(\"./bin_pack\");e.exports=i,i.prototype={get debug(){return\"canvas\"in this},set debug(t){t&&!this.canvas?(this.canvas=document.createElement(\"canvas\"),this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.canvas.style.width=this.width+\"px\",this.canvas.style.width=this.width+\"px\",document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext(\"2d\")):!t&&this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),delete this.ctx,delete this.canvas)}},i.prototype.resize=function(t){if(t=t>1?2:1,this.pixelRatio===t)return!1;var e=this.pixelRatio;if(this.pixelRatio=t,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio),this.data){var n=this.data;this.data=!1,this.allocate(),this.texture=!1;for(var i=this.width*e,r=this.height*e,o=this.width*t,a=this.height*t,s=this.data,u=n,l=0;a>l;l++)for(var c=Math.floor(l*r/a)*i,d=l*o,p=0;o>p;p++){var h=Math.floor(p*i/o);s[d+p]=u[c+h]}n=null,this.dirty=!0}return this.dirty},i.prototype.allocateImage=function(t,e){var n=2,i=t+n+(4-(t+n)%4),r=e+n+(4-(e+n)%4),o=this.bin.allocate(i,r);return 0===o.w?o:(o.originalWidth=t,o.originalHeight=e,o)},i.prototype.getImage=function(t,e){if(this.images[t])return this.images[t];if(!this.sprite)return null;var n=this.sprite.getSpritePosition(t);if(!n.width||!n.height)return null;var i=n.width/n.pixelRatio,r=n.height/n.pixelRatio,a=this.allocateImage(i,r);if(0===a.w)return a;var s=new o(a,i,r,n.sdf);return this.images[t]=s,this.copy(a,n,e),s},i.prototype.getPosition=function(t,e){var n=this.getImage(t,e),i=n&&n.rect;if(!i)return null;var r=e?n.width:i.w,o=e?n.height:i.h,a=1;return{size:[r,o],tl:[(i.x+a)/this.width,(i.y+a)/this.height],br:[(i.x+a+r)/this.width,(i.y+a+o)/this.height]}},i.prototype.allocate=function(){if(!this.data){var t=Math.floor(this.width*this.pixelRatio),e=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*e);for(var n=0;n<this.data.length;n++)this.data[n]=0}},i.prototype.copy=function(t,e,n){if(this.sprite.img.data){var i=new Uint32Array(this.sprite.img.data.buffer);this.allocate();var o=this.data,a=1;r(i,this.sprite.img.width,e.x,e.y,o,this.width*this.pixelRatio,(t.x+a)*this.pixelRatio,(t.y+a)*this.pixelRatio,e.width,e.height,n),this.dirty=!0}},i.prototype.setSprite=function(t){this.sprite=t},i.prototype.addIcons=function(t,e){for(var n=0;n<t.length;n++)this.getImage(t[n]);e(null,this.images)},i.prototype.bind=function(t,e){var n=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n=!0);var i=e?t.LINEAR:t.NEAREST;if(i!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),this.filter=i),this.dirty&&(this.allocate(),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1,this.ctx)){var r=this.ctx.getImageData(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);r.data.set(new Uint8ClampedArray(this.data.buffer)),this.ctx.putImageData(r,0,0),this.ctx.strokeStyle=\"red\";for(var o=0;o<this.bin.free.length;o++){var a=this.bin.free[o];this.ctx.strokeRect(a.x*this.pixelRatio,a.y*this.pixelRatio,a.w*this.pixelRatio,a.h*this.pixelRatio)}}}},{\"./bin_pack\":124}],138:[function(t,e,n){\"use strict\";var i=t(\"../util/util\"),r=t(\"../util/interpolate\"),o=t(\"../util/browser\"),a=t(\"../geo/lng_lat\"),s=t(\"../geo/lng_lat_bounds\"),u=t(\"point-geometry\"),l=e.exports=function(){};i.extend(l.prototype,{getCenter:function(){return this.transform.center},setCenter:function(t){return this.jumpTo({center:t}),this},panBy:function(t,e){return this.panTo(this.transform.center,i.extend({offset:u.convert(t).mult(-1)},e)),this},panTo:function(t,e){this.stop(),t=a.convert(t),e=i.extend({duration:500,easing:i.ease,offset:[0,0]},e);var n=this.transform,r=u.convert(e.offset).rotate(-n.angle),o=n.point,s=n.project(t).sub(r);return e.noMoveStart||this.fire(\"movestart\"),this._ease(function(t){n.center=n.unproject(o.add(s.sub(o).mult(t))),this.fire(\"move\")},function(){this.fire(\"moveend\")},e),this},getZoom:function(){return this.transform.zoom},setZoom:function(t){return this.jumpTo({zoom:t}),this},zoomTo:function(t,e){this.stop(),e=i.extend({duration:500},e),e.easing=this._updateEasing(e.duration,t,e.easing);var n=this.transform,o=n.center,s=n.zoom;return e.around?o=a.convert(e.around):e.offset&&(o=n.pointLocation(n.centerPoint.add(u.convert(e.offset)))),e.animate===!1&&(e.duration=0),this.zooming||(this.zooming=!0,this.fire(\"movestart\")),this._ease(function(e){n.setZoomAround(r(s,t,e),o),this.fire(\"move\").fire(\"zoom\")},function(){this.ease=null,e.duration>=200&&(this.zooming=!1,this.fire(\"moveend\"))},e),e.duration<200&&(clearTimeout(this._onZoomEnd),this._onZoomEnd=setTimeout(function(){this.zooming=!1,this.fire(\"moveend\")}.bind(this),200)),this},zoomIn:function(t){return this.zoomTo(this.getZoom()+1,t),this},zoomOut:function(t){return this.zoomTo(this.getZoom()-1,t),this},getBearing:function(){return this.transform.bearing},setBearing:function(t){return this.jumpTo({bearing:t}),this},rotateTo:function(t,e){this.stop(),e=i.extend({duration:500,easing:i.ease},e);var n=this.transform,o=this.getBearing(),s=n.center;return e.around?s=a.convert(e.around):e.offset&&(s=n.pointLocation(n.centerPoint.add(u.convert(e.offset)))),t=this._normalizeBearing(t,o),this.rotating=!0,e.noMoveStart||this.fire(\"movestart\"),this._ease(function(e){n.setBearingAround(r(o,t,e),s),this.fire(\"move\").fire(\"rotate\")},function(){this.rotating=!1,this.fire(\"moveend\")},e),this},resetNorth:function(t){return this.rotateTo(0,i.extend({duration:1e3},t)),this},snapToNorth:function(t){return Math.abs(this.getBearing())<this.options.bearingSnap?this.resetNorth(t):this},getPitch:function(){return this.transform.pitch},setPitch:function(t){return this.jumpTo({pitch:t}),this},fitBounds:function(t,e){e=i.extend({padding:0,offset:[0,0],maxZoom:1/0},e),t=s.convert(t);var n=u.convert(e.offset),r=this.transform,o=r.project(t.getNorthWest()),a=r.project(t.getSouthEast()),l=a.sub(o),c=(r.width-2*e.padding-2*Math.abs(n.x))/l.x,d=(r.height-2*e.padding-2*Math.abs(n.y))/l.y;return e.center=r.unproject(o.add(a).div(2)),e.zoom=Math.min(r.scaleZoom(r.scale*Math.min(c,d)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e):this.flyTo(e);\n},jumpTo:function(t){this.stop();var e=this.transform,n=!1,i=!1,r=!1;return\"zoom\"in t&&e.zoom!==+t.zoom&&(n=!0,e.zoom=+t.zoom),\"center\"in t&&(e.center=a.convert(t.center)),\"bearing\"in t&&e.bearing!==+t.bearing&&(i=!0,e.bearing=+t.bearing),\"pitch\"in t&&e.pitch!==+t.pitch&&(r=!0,e.pitch=+t.pitch),this.fire(\"movestart\").fire(\"move\"),n&&this.fire(\"zoom\"),i&&this.fire(\"rotate\"),r&&this.fire(\"pitch\"),this.fire(\"moveend\")},easeTo:function(t){this.stop(),t=i.extend({offset:[0,0],duration:500,easing:i.ease},t);var e=this.transform,n=u.convert(t.offset).rotate(-e.angle),o=e.point,s=e.worldSize,l=this.getZoom(),c=this.getBearing(),d=this.getPitch(),p=\"zoom\"in t?+t.zoom:l,h=\"bearing\"in t?this._normalizeBearing(t.bearing,c):c,f=\"pitch\"in t?+t.pitch:d,m=e.zoomScale(p-l),v=\"center\"in t?e.project(a.convert(t.center)).sub(n.div(m)):o,g=\"center\"in t?null:a.convert(t.around);return p!==l&&(this.zooming=!0),c!==h&&(this.rotating=!0),f!==d&&(this.pitching=!0),this.zooming&&!g&&(g=e.pointLocation(e.centerPoint.add(v.sub(o).div(1-1/m)))),this.fire(\"movestart\"),this._ease(function(t){this.zooming&&g?e.setZoomAround(r(l,p,t),g):(this.zooming&&(e.zoom=r(l,p,t)),e.center=e.unproject(o.add(v.sub(o).mult(t)),s)),this.rotating&&(e.bearing=r(c,h,t)),this.pitching&&(e.pitch=r(d,f,t)),this.fire(\"move\"),this.zooming&&this.fire(\"zoom\"),this.rotating&&this.fire(\"rotate\"),this.pitching&&this.fire(\"pitch\")},function(){this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire(\"moveend\")},t),this},flyTo:function(t){function e(t){var e=(S*S-M*M+(t?-1:1)*T*T*C*C)/(2*(t?S:M)*T*C);return Math.log(Math.sqrt(e*e+1)-e)}function n(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}function s(t){return n(t)/o(t)}this.stop(),t=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},t);var l=this.transform,c=u.convert(t.offset),d=this.getZoom(),p=this.getBearing(),h=this.getPitch(),f=\"center\"in t?a.convert(t.center):this.getCenter(),m=\"zoom\"in t?+t.zoom:d,v=\"bearing\"in t?this._normalizeBearing(t.bearing,p):p,g=\"pitch\"in t?+t.pitch:h,y=l.zoomScale(m-d),b=l.point,_=l.project(f).sub(c.div(y)),x=l.worldSize,w=t.curve,E=t.speed,M=Math.max(l.width,l.height),S=M/y,C=_.sub(b).mag(),T=w*w,R=e(0),P=function(t){return o(R)/o(R+w*t)},I=function(t){return M*((o(R)*s(R+w*t)-n(R))/T)/C},D=(e(1)-R)/w;if(Math.abs(C)<1e-6){if(Math.abs(M-S)<1e-6)return this;var A=M>S?-1:1;D=Math.abs(Math.log(S/M))/w,I=function(){return 0},P=function(t){return Math.exp(A*w*t)}}return t.duration=1e3*D/E,this.zooming=!0,p!==v&&(this.rotating=!0),h!==g&&(this.pitching=!0),this.fire(\"movestart\"),this._ease(function(t){var e=t*D,n=I(e);l.zoom=d+l.scaleZoom(1/P(e)),l.center=l.unproject(b.add(_.sub(b).mult(n)),x),this.rotating&&(l.bearing=r(p,v,t)),this.pitching&&(l.pitch=r(h,g,t)),this.fire(\"move\").fire(\"zoom\"),this.rotating&&this.fire(\"rotate\"),this.pitching&&this.fire(\"pitch\")},function(){this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire(\"moveend\")},t),this},isEasing:function(){return!!this._abortFn},stop:function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},_ease:function(t,e,n){this._finishFn=e,this._abortFn=o.timed(function(e){t.call(this,n.easing(e)),1===e&&this._finishEase()},n.animate===!1?0:n.duration,this)},_finishEase:function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},_normalizeBearing:function(t,e){t=i.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},_updateEasing:function(t,e,n){var r;if(this.ease){var o=this.ease,a=(Date.now()-o.start)/o.duration,s=o.easing(a+.01)-o.easing(a),u=.27/Math.sqrt(s*s+1e-4)*.01,l=Math.sqrt(.0729-u*u);r=i.bezier(u,l,.25,1)}else r=n?i.bezier.apply(i,n):i.ease;return this.ease={start:(new Date).getTime(),to:Math.pow(2,e),duration:t,easing:r},r}})},{\"../geo/lng_lat\":81,\"../geo/lng_lat_bounds\":82,\"../util/browser\":155,\"../util/interpolate\":162,\"../util/util\":166,\"point-geometry\":170}],139:[function(t,e,n){\"use strict\";function i(){}var r=t(\"./control\"),o=t(\"../../util/dom\"),a=t(\"../../util/util\");e.exports=i,i.prototype=a.inherit(r,{options:{position:\"bottom-right\"},onAdd:function(t){var e=\"mapboxgl-ctrl-attrib\",n=this._container=o.create(\"div\",e,t.getContainer());return this._update(),t.on(\"source.load\",this._update.bind(this)),t.on(\"source.change\",this._update.bind(this)),t.on(\"source.remove\",this._update.bind(this)),t.on(\"moveend\",this._updateEditLink.bind(this)),n},_update:function(){var t=[];if(this._map.style)for(var e in this._map.style.sources){var n=this._map.style.sources[e];n.attribution&&t.indexOf(n.attribution)<0&&t.push(n.attribution)}this._container.innerHTML=t.join(\" | \"),this._editLink=this._container.getElementsByClassName(\"mapbox-improve-map\")[0],this._updateEditLink()},_updateEditLink:function(){if(this._editLink){var t=this._map.getCenter();this._editLink.href=\"https://www.mapbox.com/map-feedback/#/\"+t.lng+\"/\"+t.lat+\"/\"+Math.round(this._map.getZoom()+1)}}})},{\"../../util/dom\":158,\"../../util/util\":166,\"./control\":140}],140:[function(t,e,n){\"use strict\";function i(){}e.exports=i,i.prototype={addTo:function(t){this._map=t;var e=this._container=this.onAdd(t);if(this.options&&this.options.position){var n=this.options.position,i=t._controlCorners[n];e.className+=\" mapboxgl-ctrl\",-1!==n.indexOf(\"bottom\")?i.insertBefore(e,i.firstChild):i.appendChild(e)}return this},remove:function(){return this._container.parentNode.removeChild(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this}}},{}],141:[function(t,e,n){\"use strict\";function i(t){s.setOptions(this,t)}function r(t){return new MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var o=t(\"./control\"),a=t(\"../../util/dom\"),s=t(\"../../util/util\");e.exports=i,i.prototype=s.inherit(o,{options:{position:\"top-right\"},onAdd:function(t){var e=\"mapboxgl-ctrl\",n=this._container=a.create(\"div\",e+\"-group\",t.getContainer());return this._container.addEventListener(\"contextmenu\",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(e+\"-icon \"+e+\"-zoom-in\",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(e+\"-icon \"+e+\"-zoom-out\",t.zoomOut.bind(t)),this._compass=this._createButton(e+\"-icon \"+e+\"-compass\",t.resetNorth.bind(t)),this._compassArrow=a.create(\"div\",\"arrow\",this._compass),this._compass.addEventListener(\"mousedown\",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),t.on(\"rotate\",this._rotateCompassArrow.bind(this)),this._rotateCompassArrow(),this._el=t.getCanvasContainer(),n},_onContextMenu:function(t){t.preventDefault()},_onCompassDown:function(t){0===t.button&&(a.disableDrag(),document.addEventListener(\"mousemove\",this._onCompassMove),document.addEventListener(\"mouseup\",this._onCompassUp),this._el.dispatchEvent(r(t)),t.stopPropagation())},_onCompassMove:function(t){0===t.button&&(this._el.dispatchEvent(r(t)),t.stopPropagation())},_onCompassUp:function(t){0===t.button&&(document.removeEventListener(\"mousemove\",this._onCompassMove),document.removeEventListener(\"mouseup\",this._onCompassUp),a.enableDrag(),this._el.dispatchEvent(r(t)),t.stopPropagation())},_createButton:function(t,e){var n=a.create(\"button\",t,this._container);return n.addEventListener(\"click\",function(){e()}),n},_rotateCompassArrow:function(){var t=\"rotate(\"+this._map.transform.angle*(180/Math.PI)+\"deg)\";this._compassArrow.style.transform=t}})},{\"../../util/dom\":158,\"../../util/util\":166,\"./control\":140}],142:[function(t,e,n){\"use strict\";function i(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),a.bindHandlers(this)}var r=t(\"../../util/dom\"),o=t(\"../../geo/lng_lat_bounds\"),a=t(\"../../util/util\");e.exports=i,i.prototype={enable:function(){this._el.addEventListener(\"mousedown\",this._onMouseDown,!1)},disable:function(){this._el.removeEventListener(\"mousedown\",this._onMouseDown)},_onMouseDown:function(t){t.shiftKey&&0===t.button&&(document.addEventListener(\"mousemove\",this._onMouseMove,!1),document.addEventListener(\"keydown\",this._onKeyDown,!1),document.addEventListener(\"mouseup\",this._onMouseUp,!1),this._startPos=r.mousePos(this._el,t),this.active=!0)},_onMouseMove:function(t){var e=this._startPos,n=r.mousePos(this._el,t);this._box||(this._box=r.create(\"div\",\"mapboxgl-boxzoom\",this._container),this._container.classList.add(\"mapboxgl-crosshair\"),r.disableDrag(),this._fireEvent(\"boxzoomstart\",t));var i=Math.min(e.x,n.x),o=Math.max(e.x,n.x),a=Math.min(e.y,n.y),s=Math.max(e.y,n.y);r.setTransform(this._box,\"translate(\"+i+\"px,\"+a+\"px)\"),this._box.style.width=o-i+\"px\",this._box.style.height=s-a+\"px\"},_onMouseUp:function(t){if(0===t.button){var e=this._startPos,n=r.mousePos(this._el,t),i=new o(this._map.unproject(e),this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent(\"boxzoomcancel\",t):this._map.fitBounds(i,{linear:!0}).fire(\"boxzoomend\",{originalEvent:t,boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._fireEvent(\"boxzoomcancel\",t))},_finish:function(){this.active=!1,document.removeEventListener(\"mousemove\",this._onMouseMove,!1),document.removeEventListener(\"keydown\",this._onKeyDown,!1),document.removeEventListener(\"mouseup\",this._onMouseUp,!1),this._container.classList.remove(\"mapboxgl-crosshair\"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),r.enableDrag()},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})}}},{\"../../geo/lng_lat_bounds\":82,\"../../util/dom\":158,\"../../util/util\":166}],143:[function(t,e,n){\"use strict\";function i(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)}e.exports=i,i.prototype={enable:function(){this._map.on(\"dblclick\",this._onDblClick)},disable:function(){this._map.off(\"dblclick\",this._onDblClick)},_onDblClick:function(t){this._map.zoomTo(Math.round(this._map.getZoom())+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat})}}},{}],144:[function(t,e,n){\"use strict\";function i(t){this._map=t,this._el=t.getCanvasContainer(),o.bindHandlers(this)}var r=t(\"../../util/dom\"),o=t(\"../../util/util\");e.exports=i;var a=.25,s=o.bezier(0,0,a,1),u=3e3,l=4e3;i.prototype={enable:function(){this._el.addEventListener(\"mousedown\",this._onDown),this._el.addEventListener(\"touchstart\",this._onDown)},disable:function(){this._el.removeEventListener(\"mousedown\",this._onDown),this._el.removeEventListener(\"touchstart\",this._onDown)},_onDown:function(t){this._ignoreEvent(t)||this.active||(t.touches?(document.addEventListener(\"touchmove\",this._onMove),document.addEventListener(\"touchend\",this._onTouchEnd)):(document.addEventListener(\"mousemove\",this._onMove),document.addEventListener(\"mouseup\",this._onMouseUp)),this.active=!1,this._startPos=this._pos=r.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},_onMove:function(t){if(!this._ignoreEvent(t)){this.active||(this.active=!0,this._fireEvent(\"dragstart\",t),this._fireEvent(\"movestart\",t));var e=r.mousePos(this._el,t),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),e),this._fireEvent(\"drag\",t),this._fireEvent(\"move\",t),this._pos=e,t.preventDefault()}},_onUp:function(t){if(this.active){this.active=!1,this._fireEvent(\"dragend\",t),this._drainInertiaBuffer();var e=function(){this._fireEvent(\"moveend\",t)}.bind(this),n=this._inertia;if(n.length<2)return void e();var i=n[n.length-1],r=n[0],o=i[1].sub(r[1]),c=(i[0]-r[0])/1e3;if(0===c||i[1].equals(r[1]))return void e();var d=o.mult(a/c),p=d.mag();p>u&&(p=u,d._unit()._mult(p));var h=p/(l*a),f=d.mult(-h/2);this._map.panBy(f,{duration:1e3*h,easing:s,noMoveStart:!0})}},_onMouseUp:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener(\"mousemove\",this._onMove),document.removeEventListener(\"mouseup\",this._onMouseUp))},_onTouchEnd:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener(\"touchmove\",this._onMove),document.removeEventListener(\"touchend\",this._onTouchEnd))},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.active)return!0;if(e.dragRotate&&e.dragRotate.active)return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var n=1,i=0;return\"mousemove\"===t.type?t.buttons&0===n:t.button!==i},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),n=50;t.length>0&&e-t[0][0]>n;)t.shift()}}},{\"../../util/dom\":158,\"../../util/util\":166}],145:[function(t,e,n){\"use strict\";function i(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var r=t(\"../../util/dom\"),o=t(\"point-geometry\"),a=t(\"../../util/util\");e.exports=i;var s=.25,u=a.bezier(0,0,s,1),l=180,c=720;i.prototype={enable:function(){this._el.addEventListener(\"mousedown\",this._onDown)},disable:function(){this._el.removeEventListener(\"mousedown\",this._onDown)},_onDown:function(t){if(!this._ignoreEvent(t)&&!this.active){document.addEventListener(\"mousemove\",this._onMove),document.addEventListener(\"mouseup\",this._onUp),this.active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint;var e=this._startPos.sub(this._center),n=e.mag();200>n&&(this._center=this._startPos.add(new o(-200,0)._rotate(e.angle()))),t.preventDefault()}},_onMove:function(t){if(!this._ignoreEvent(t)){this.active||(this.active=!0,this._fireEvent(\"rotatestart\",t),this._fireEvent(\"movestart\",t));var e=this._map;e.stop();var n=this._pos,i=r.mousePos(this._el,t),o=this._center,a=n.sub(o).angleWith(i.sub(o))/Math.PI*180,s=e.getBearing()-a,u=this._inertia,l=u[u.length-1];this._drainInertiaBuffer(),u.push([Date.now(),e._normalizeBearing(s,l[1])]),e.transform.bearing=s,this._fireEvent(\"rotate\",t),this._fireEvent(\"move\",t),this._pos=i}},_onUp:function(t){if(!this._ignoreEvent(t)&&(document.removeEventListener(\"mousemove\",this._onMove),document.removeEventListener(\"mouseup\",this._onUp),this.active)){this.active=!1,this._fireEvent(\"rotateend\",t),this._drainInertiaBuffer();var e=this._map,n=e.getBearing(),i=this._inertia,r=function(){Math.abs(n)<e.options.bearingSnap?e.resetNorth({noMoveStart:!0}):this._fireEvent(\"moveend\",t)}.bind(this);if(i.length<2)return void r();var o=i[0],a=i[i.length-1],d=i[i.length-2],p=e._normalizeBearing(n,d[1]),h=a[1]-o[1],f=0>h?-1:1,m=(a[0]-o[0])/1e3;if(0===h||0===m)return void r();var v=Math.abs(h*(s/m));v>l&&(v=l);var g=v/(c*s),y=f*v*(g/2);p+=y,Math.abs(e._normalizeBearing(p,0))<e.options.bearingSnap&&(p=e._normalizeBearing(0,p)),e.rotateTo(p,{duration:1e3*g,easing:u,noMoveStart:!0})}},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.active)return!0;if(e.dragPan&&e.dragPan.active)return!0;if(t.touches)return t.touches.length>1;var n=t.ctrlKey?1:2,i=t.ctrlKey?0:2;return\"mousemove\"===t.type?t.buttons&0===n:t.button!==i},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),n=50;t.length>0&&e-t[0][0]>n;)t.shift()}}},{\"../../util/dom\":158,\"../../util/util\":166,\"point-geometry\":170}],146:[function(t,e,n){\"use strict\";function i(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)}e.exports=i;var r=80,o=2,a=5;i.prototype={enable:function(){this._el.addEventListener(\"keydown\",this._onKeyDown,!1)},disable:function(){this._el.removeEventListener(\"keydown\",this._onKeyDown)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=this._map;switch(t.keyCode){case 61:case 107:case 171:case 187:e.zoomTo(Math.round(e.getZoom())+(t.shiftKey?2:1));break;case 189:case 109:case 173:e.zoomTo(Math.round(e.getZoom())-(t.shiftKey?2:1));break;case 37:t.shiftKey?e.easeTo({bearing:e.getBearing()-o}):e.panBy([-r,0]);break;case 39:t.shiftKey?e.easeTo({bearing:e.getBearing()+o}):e.panBy([r,0]);break;case 38:t.shiftKey?e.easeTo({pitch:e.getPitch()+a}):e.panBy([0,-r]);break;case 40:t.shiftKey?e.easeTo({pitch:Math.max(e.getPitch()-a,0)}):e.panBy([0,r])}}}}},{}],147:[function(t,e,n){\"use strict\";function i(t){this._map=t,this._el=t.getCanvasContainer(),o.bindHandlers(this)}var r=t(\"../../util/dom\"),o=t(\"../../util/util\");e.exports=i,i.prototype={enable:function(){this._el.addEventListener(\"touchstart\",this._onStart,!1)},disable:function(){this._el.removeEventListener(\"touchstart\",this._onStart)},_onStart:function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,document.addEventListener(\"touchmove\",this._onMove,!1),document.addEventListener(\"touchend\",this._onEnd,!1)}},_onMove:function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]),i=e.add(n).div(2),o=e.sub(n),a=o.mag()/this._startVec.mag(),s=180*o.angleWith(this._startVec)/Math.PI,u=this._map;u.easeTo({zoom:u.transform.scaleZoom(this._startScale*a),bearing:this._startBearing+s,duration:0,around:u.unproject(i)}),t.preventDefault()}},_onEnd:function(){this._map.snapToNorth(),document.removeEventListener(\"touchmove\",this._onMove),document.removeEventListener(\"touchend\",this._onEnd)}}},{\"../../util/dom\":158,\"../../util/util\":166}],148:[function(t,e,n){\"use strict\";function i(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var r=t(\"../../util/dom\"),o=t(\"../../util/browser\"),a=t(\"../../util/util\");e.exports=i;var s=\"undefined\"!=typeof navigator?navigator.userAgent.toLowerCase():\"\",u=-1!==s.indexOf(\"firefox\"),l=-1!==s.indexOf(\"safari\")&&-1===s.indexOf(\"chrom\");i.prototype={enable:function(){this._el.addEventListener(\"wheel\",this._onWheel,!1),this._el.addEventListener(\"mousewheel\",this._onWheel,!1)},disable:function(){this._el.removeEventListener(\"wheel\",this._onWheel),this._el.removeEventListener(\"mousewheel\",this._onWheel)},_onWheel:function(t){var e;\"wheel\"===t.type?(e=t.deltaY,u&&t.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===window.WheelEvent.DOM_DELTA_LINE&&(e*=40)):\"mousewheel\"===t.type&&(e=-t.wheelDeltaY,l&&(e/=3));var n=(window.performance||Date).now(),i=n-(this._time||0);this._pos=r.mousePos(this._el,t),this._time=n,0!==e&&e%4.000244140625===0?(this._type=\"wheel\",e=Math.floor(e/4)):0!==e&&Math.abs(e)<4?this._type=\"trackpad\":i>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(i*e)<200?\"trackpad\":\"wheel\",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e),t.preventDefault()},_onTimeout:function(){this._type=\"wheel\",this._zoom(-this._lastValue)},_zoom:function(t){var e=this._map,n=2/(1+Math.exp(-Math.abs(t/100)));0>t&&0!==n&&(n=1/n);var i=e.ease?e.ease.to:e.transform.scale,r=e.transform.scaleZoom(i*n);e.zoomTo(r,{duration:0,around:e.unproject(this._pos)})}}},{\"../../util/browser\":155,\"../../util/dom\":158,\"../../util/util\":166}],149:[function(t,e,n){\"use strict\";function i(){r.bindAll([\"_onHashChange\",\"_updateHash\"],this)}e.exports=i;var r=t(\"../util/util\");i.prototype={addTo:function(t){return this._map=t,window.addEventListener(\"hashchange\",this._onHashChange,!1),this._map.on(\"moveend\",this._updateHash),this},remove:function(){return window.removeEventListener(\"hashchange\",this._onHashChange,!1),this._map.off(\"moveend\",this._updateHash),delete this._map,this},_onHashChange:function(){var t=location.hash.replace(\"#\",\"\").split(\"/\");return t.length>=3?(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0)}),!0):!1},_updateHash:function(){var t=this._map.getCenter(),e=this._map.getZoom(),n=this._map.getBearing(),i=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),r=\"#\"+Math.round(100*e)/100+\"/\"+t.lat.toFixed(i)+\"/\"+t.lng.toFixed(i)+(n?\"/\"+Math.round(10*n)/10:\"\");window.history.replaceState(\"\",\"\",r)}}},{\"../util/util\":166}],150:[function(t,e,n){\"use strict\";function i(t){this._map=t,this._el=t.getCanvasContainer();for(var e in r)t[e]=new r[e](t);a.bindHandlers(this)}var r={scrollZoom:t(\"./handler/scroll_zoom\"),boxZoom:t(\"./handler/box_zoom\"),dragRotate:t(\"./handler/drag_rotate\"),dragPan:t(\"./handler/drag_pan\"),keyboard:t(\"./handler/keyboard\"),doubleClickZoom:t(\"./handler/dblclick_zoom\"),pinch:t(\"./handler/pinch\")},o=t(\"../util/dom\"),a=t(\"../util/util\");e.exports=i,i.prototype={enable:function(){var t=this._map.options,e=this._el;for(var n in r)t[n]&&this._map[n].enable();e.addEventListener(\"mousedown\",this._onMouseDown,!1),e.addEventListener(\"mouseup\",this._onMouseUp,!1),e.addEventListener(\"touchstart\",this._onTouchStart,!1),e.addEventListener(\"click\",this._onClick,!1),e.addEventListener(\"mousemove\",this._onMouseMove,!1),e.addEventListener(\"dblclick\",this._onDblClick,!1),e.addEventListener(\"contextmenu\",this._onContextMenu,!1)},disable:function(){var t=this._map.options,e=this._el;for(var n in r)t[n]&&this._map[n].disable();e.removeEventListener(\"mousedown\",this._onMouseDown),e.removeEventListener(\"mouseup\",this._onMouseUp),e.removeEventListener(\"touchstart\",this._onTouchStart),e.removeEventListener(\"click\",this._onClick),e.removeEventListener(\"mousemove\",this._onMouseMove),e.removeEventListener(\"dblclick\",this._onDblClick),e.removeEventListener(\"contextmenu\",this._onContextMenu)},_onMouseDown:function(t){this._map.stop(),this._startPos=o.mousePos(this._el,t),this._fireEvent(\"mousedown\",t)},_onMouseUp:function(t){var e=this._map,n=e.dragRotate&&e.dragRotate.active;this._contextMenuEvent&&!n&&this._fireEvent(\"contextmenu\",this._contextMenuEvent),this._contextMenuEvent=null,this._fireEvent(\"mouseup\",t)},_onTouchStart:function(t){!t.touches||t.touches.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._fireEvent(\"dblclick\",t)):this._tapped=setTimeout(this._onTimeout,300))},_onTimeout:function(){this._tapped=null},_onMouseMove:function(t){var e=this._map,n=this._el;if(!(e.dragPan&&e.dragPan.active||e.dragRotate&&e.dragRotate.active)){for(var i=t.toElement||t.target;i&&i!==n;)i=i.parentNode;i===n&&this._fireEvent(\"mousemove\",t)}},_onClick:function(t){var e=o.mousePos(this._el,t);e.equals(this._startPos)&&this._fireEvent(\"click\",t)},_onDblClick:function(t){this._fireEvent(\"dblclick\",t),t.preventDefault()},_onContextMenu:function(t){this._contextMenuEvent=t,t.preventDefault()},_fireEvent:function(t,e){var n=o.mousePos(this._el,e);return this._map.fire(t,{lngLat:this._map.unproject(n),point:n,originalEvent:e})}}},{\"../util/dom\":158,\"../util/util\":166,\"./handler/box_zoom\":142,\"./handler/dblclick_zoom\":143,\"./handler/drag_pan\":144,\"./handler/drag_rotate\":145,\"./handler/keyboard\":146,\"./handler/pinch\":147,\"./handler/scroll_zoom\":148}],151:[function(t,e,n){\"use strict\";var i=t(\"../util/canvas\"),r=t(\"../util/util\"),o=t(\"../util/browser\"),a=t(\"../util/evented\"),s=t(\"../util/dom\"),u=t(\"../style/style\"),l=t(\"../style/animation_loop\"),c=t(\"../render/painter\"),d=t(\"../geo/transform\"),p=t(\"./hash\"),h=t(\"./interaction\"),f=t(\"./camera\"),m=t(\"../geo/lng_lat\"),v=t(\"../geo/lng_lat_bounds\"),g=t(\"point-geometry\"),y=t(\"./control/attribution\"),b=e.exports=function(t){if(t=this.options=r.inherit(this.options,t),this.animationLoop=new l,this.transform=new d(t.minZoom,t.maxZoom),t.maxBounds){var e=v.convert(t.maxBounds);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()]}r.bindAll([\"_forwardStyleEvent\",\"_forwardSourceEvent\",\"_forwardLayerEvent\",\"_forwardTileEvent\",\"_onStyleLoad\",\"_onStyleChange\",\"_onSourceAdd\",\"_onSourceRemove\",\"_onSourceUpdate\",\"_onWindowResize\",\"onError\",\"update\",\"render\"],this),this._setupContainer(),this._setupPainter(),this.on(\"move\",this.update.bind(this,!1)),this.on(\"zoom\",this.update.bind(this,!0)),this.on(\"moveend\",function(){this.animationLoop.set(300),this._rerender()}.bind(this)),\"undefined\"!=typeof window&&window.addEventListener(\"resize\",this._onWindowResize,!1),this.interaction=new h(this),t.interactive&&this.interaction.enable(),this._hash=t.hash&&(new p).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo(t),this.sources={},this.stacks={},this._classes={},this.resize(),t.classes&&this.setClasses(t.classes),t.style&&this.setStyle(t.style),t.attributionControl&&this.addControl(new y),this.on(\"style.error\",this.onError),this.on(\"source.error\",this.onError),this.on(\"tile.error\",this.onError)};r.extend(b.prototype,a),r.extend(b.prototype,f.prototype),r.extend(b.prototype,{options:{center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:20,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,pinch:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1},addControl:function(t){return t.addTo(this),this},addClass:function(t,e){this._classes[t]||(this._classes[t]=!0,this.style&&this.style._cascade(this._classes,e))},removeClass:function(t,e){this._classes[t]&&(delete this._classes[t],this.style&&this.style._cascade(this._classes,e))},setClasses:function(t,e){this._classes={};for(var n=0;n<t.length;n++)this._classes[t[n]]=!0;this.style&&this.style._cascade(this._classes,e)},hasClass:function(t){return!!this._classes[t]},getClasses:function(){return Object.keys(this._classes)},resize:function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),this._canvas.resize(t,e),this.transform.resize(t,e),this.painter.resize(t,e),this.fire(\"movestart\").fire(\"move\").fire(\"resize\").fire(\"moveend\")},getBounds:function(){return new v(this.transform.pointLocation(new g(0,0)),this.transform.pointLocation(this.transform.size))},project:function(t){return this.transform.locationPoint(m.convert(t))},unproject:function(t){return this.transform.pointLocation(g.convert(t))},featuresAt:function(t,e,n){var i=this.unproject(t).wrap(),r=this.transform.locationCoordinate(i);return this.style.featuresAt(r,e,n),this},featuresIn:function(t,e,n){return\"undefined\"==typeof n&&(n=e,e=t,t=[g.convert([0,0]),g.convert([this.transform.width,this.transform.height])]),t=t.map(g.convert.bind(g)),t=[new g(Math.min(t[0].x,t[1].x),Math.min(t[0].y,t[1].y)),new g(Math.max(t[0].x,t[1].x),Math.max(t[0].y,t[1].y))].map(this.transform.pointCoordinate.bind(this.transform)),this.style.featuresIn(t,e,n),this},batch:function(t){this.style.batch(t),this.style._cascade(this._classes),this.update(!0)},setStyle:function(t){return this.style&&(this.style.off(\"load\",this._onStyleLoad).off(\"error\",this._forwardStyleEvent).off(\"change\",this._onStyleChange).off(\"source.add\",this._onSourceAdd).off(\"source.remove\",this._onSourceRemove).off(\"source.load\",this._onSourceUpdate).off(\"source.error\",this._forwardSourceEvent).off(\"source.change\",this._onSourceUpdate).off(\"layer.add\",this._forwardLayerEvent).off(\"layer.remove\",this._forwardLayerEvent).off(\"tile.add\",this._forwardTileEvent).off(\"tile.remove\",this._forwardTileEvent).off(\"tile.load\",this.update).off(\"tile.error\",this._forwardTileEvent).off(\"tile.stats\",this._forwardTileEvent)._remove(),this.off(\"rotate\",this.style._redoPlacement),this.off(\"pitch\",this.style._redoPlacement)),t?(t instanceof u?this.style=t:this.style=new u(t,this.animationLoop),this.style.on(\"load\",this._onStyleLoad).on(\"error\",this._forwardStyleEvent).on(\"change\",this._onStyleChange).on(\"source.add\",this._onSourceAdd).on(\"source.remove\",this._onSourceRemove).on(\"source.load\",this._onSourceUpdate).on(\"source.error\",this._forwardSourceEvent).on(\"source.change\",this._onSourceUpdate).on(\"layer.add\",this._forwardLayerEvent).on(\"layer.remove\",this._forwardLayerEvent).on(\"tile.add\",this._forwardTileEvent).on(\"tile.remove\",this._forwardTileEvent).on(\"tile.load\",this.update).on(\"tile.error\",this._forwardTileEvent).on(\"tile.stats\",this._forwardTileEvent),this.on(\"rotate\",this.style._redoPlacement),this.on(\"pitch\",this.style._redoPlacement),this):(this.style=null,this)},addSource:function(t,e){return this.style.addSource(t,e),this},removeSource:function(t){return this.style.removeSource(t),this},getSource:function(t){return this.style.getSource(t)},addLayer:function(t,e){return this.style.addLayer(t,e),this.style._cascade(this._classes),this},removeLayer:function(t){return this.style.removeLayer(t),this.style._cascade(this._classes),this},getLayer:function(t){return this.style.getLayer(t)},setFilter:function(t,e){return this.style.setFilter(t,e),this},setLayerZoomRange:function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this},getFilter:function(t){return this.style.getFilter(t)},setPaintProperty:function(t,e,n,i){return this.batch(function(r){r.setPaintProperty(t,e,n,i)}),this},getPaintProperty:function(t,e,n){return this.style.getPaintProperty(t,e,n)},setLayoutProperty:function(t,e,n){return this.batch(function(i){i.setLayoutProperty(t,e,n)}),this},getLayoutProperty:function(t,e){return this.style.getLayoutProperty(t,e)},getContainer:function(){return this._container},getCanvasContainer:function(){return this._canvasContainer},getCanvas:function(){return this._canvas.getElement()},_setupContainer:function(){var t=this.options.container,e=this._container=\"string\"==typeof t?document.getElementById(t):t;e.classList.add(\"mapboxgl-map\");var n=this._canvasContainer=s.create(\"div\",\"mapboxgl-canvas-container\",e);this.options.interactive&&n.classList.add(\"mapboxgl-interactive\"),this._canvas=new i(this,n);var r=s.create(\"div\",\"mapboxgl-control-container\",e),o=this._controlCorners={};[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"].forEach(function(t){o[t]=s.create(\"div\",\"mapboxgl-ctrl-\"+t,r)})},_setupPainter:function(){var t=this._canvas.getWebGLContext({failIfMajorPerformanceCaveat:this.options.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.options.preserveDrawingBuffer});return t?void(this.painter=new c(t,this.transform)):void console.error(\"Failed to initialize WebGL\")},_contextLost:function(t){t.preventDefault(),this._frameId&&o.cancelFrame(this._frameId),this.fire(\"webglcontextlost\",{originalEvent:t})},_contextRestored:function(t){this._setupPainter(),this.resize(),this.update(),this.fire(\"webglcontextrestored\",{originalEvent:t})},loaded:function(){return this._styleDirty||this._sourcesDirty?!1:this.style&&!this.style.loaded()?!1:!0},update:function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},render:function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&!this._sourcesDirtyTimeout&&(this._sourcesDirty=!1,this._sourcesDirtyTimeout=setTimeout(function(){this._sourcesDirtyTimeout=null}.bind(this),50),this.style._updateSources(this.transform)),this.painter.render(this.style,{debug:this.debug,vertices:this.vertices,rotating:this.rotating,zooming:this.zooming}),this.fire(\"render\"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(\"load\")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||!this.animationLoop.stopped())&&this._rerender(),this},remove:function(){return this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),clearTimeout(this._sourcesDirtyTimeout),this.setStyle(null),\"undefined\"!=typeof window&&window.removeEventListener(\"resize\",this._onWindowResize,!1),this},onError:function(t){console.error(t.error)},_rerender:function(){this.style&&!this._frameId&&(this._frameId=o.frame(this.render))},_forwardStyleEvent:function(t){this.fire(\"style.\"+t.type,r.extend({style:t.target},t))},_forwardSourceEvent:function(t){this.fire(t.type,r.extend({style:t.target},t))},_forwardLayerEvent:function(t){this.fire(t.type,r.extend({style:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,r.extend({\nstyle:t.target},t))},_onStyleLoad:function(t){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style._cascade(this._classes,{transition:!1}),this._forwardStyleEvent(t)},_onStyleChange:function(t){this.update(!0),this._forwardStyleEvent(t)},_onSourceAdd:function(t){var e=t.source;e.onAdd&&e.onAdd(this),this._forwardSourceEvent(t)},_onSourceRemove:function(t){var e=t.source;e.onRemove&&e.onRemove(this),this._forwardSourceEvent(t)},_onSourceUpdate:function(t){this.update(),this._forwardSourceEvent(t)},_onWindowResize:function(){this.stop().resize().update()}}),r.extendAll(b.prototype,{_debug:!1,get debug(){return this._debug},set debug(t){this._debug=t,this.update()},_collisionDebug:!1,get collisionDebug(){return this._collisionDebug},set collisionDebug(t){this._collisionDebug=t,this.style._redoPlacement()},_repaint:!1,get repaint(){return this._repaint},set repaint(t){this._repaint=t,this.update()},_vertices:!1,get vertices(){return this._vertices},set vertices(t){this._vertices=t,this.update()}})},{\"../geo/lng_lat\":81,\"../geo/lng_lat_bounds\":82,\"../geo/transform\":83,\"../render/painter\":98,\"../style/animation_loop\":112,\"../style/style\":117,\"../util/browser\":155,\"../util/canvas\":156,\"../util/dom\":158,\"../util/evented\":160,\"../util/util\":166,\"./camera\":138,\"./control/attribution\":139,\"./hash\":149,\"./interaction\":150,\"point-geometry\":170}],152:[function(t,e,n){\"use strict\";function i(t){r.setOptions(this,t),r.bindAll([\"_updatePosition\",\"_onClickClose\"],this)}e.exports=i;var r=t(\"../util/util\"),o=t(\"../util/evented\"),a=t(\"../util/dom\"),s=t(\"../geo/lng_lat\");i.prototype=r.inherit(o,{options:{closeButton:!0,closeOnClick:!0},addTo:function(t){return this._map=t,this._map.on(\"move\",this._updatePosition),this.options.closeOnClick&&this._map.on(\"click\",this._onClickClose),this._update(),this},remove:function(){return this._container&&this._container.parentNode.removeChild(this._container),this._map&&(this._map.off(\"move\",this._updatePosition),this._map.off(\"click\",this._onClickClose),delete this._map),this},getLngLat:function(){return this._lngLat},setLngLat:function(t){return this._lngLat=s.convert(t),this._update(),this},setText:function(t){return this._content=document.createTextNode(t),this._updateContent(),this},setHTML:function(t){this._content=document.createDocumentFragment();var e,n=document.createElement(\"body\");for(n.innerHTML=t;;){if(e=n.firstChild,!e)break;this._content.appendChild(e)}return this._updateContent(),this},_update:function(){this._map&&(this._container||(this._container=a.create(\"div\",\"mapboxgl-popup\",this._map.getContainer()),this._tip=a.create(\"div\",\"mapboxgl-popup-tip\",this._container),this._wrapper=a.create(\"div\",\"mapboxgl-popup-content\",this._container),this.options.closeButton&&(this._closeButton=a.create(\"button\",\"mapboxgl-popup-close-button\",this._wrapper),this._closeButton.innerHTML=\"&#215;\",this._closeButton.addEventListener(\"click\",this._onClickClose))),this._updateContent(),this._updatePosition())},_updateContent:function(){if(this._content&&this._container){for(var t=this._wrapper;t.hasChildNodes();)t.removeChild(t.firstChild);this.options.closeButton&&t.appendChild(this._closeButton),t.appendChild(this._content)}},_updatePosition:function(){if(this._lngLat&&this._container){var t=this._map.project(this._lngLat).round(),e=this.options.anchor;if(!e){var n=this._container.offsetWidth,i=this._container.offsetHeight;e=t.y<i?[\"top\"]:t.y>this._map.transform.height-i?[\"bottom\"]:[],t.x<n/2?e.push(\"left\"):t.x>this._map.transform.width-n/2&&e.push(\"right\"),e=0===e.length?\"bottom\":e.join(\"-\"),this.options.anchor=e}var r={top:\"translate(-50%,0)\",\"top-left\":\"translate(0,0)\",\"top-right\":\"translate(-100%,0)\",bottom:\"translate(-50%,-100%)\",\"bottom-left\":\"translate(0,-100%)\",\"bottom-right\":\"translate(-100%,-100%)\",left:\"translate(0,-50%)\",right:\"translate(-100%,-50%)\"},o=this._container.classList;for(var s in r)o.remove(\"mapboxgl-popup-anchor-\"+s);o.add(\"mapboxgl-popup-anchor-\"+e),a.setTransform(this._container,r[e]+\" translate(\"+t.x+\"px,\"+t.y+\"px)\")}},_onClickClose:function(){this.remove()}})},{\"../geo/lng_lat\":81,\"../util/dom\":158,\"../util/evented\":160,\"../util/util\":166}],153:[function(t,e,n){\"use strict\";function i(t,e){this.target=t,this.parent=e,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener(\"message\",this.receive,!1)}e.exports=i,i.prototype.receive=function(t){var e,n=t.data;if(\"<response>\"===n.type)e=this.callbacks[n.id],delete this.callbacks[n.id],e(n.error||null,n.data);else if(\"undefined\"!=typeof n.id){var i=n.id;this.parent[n.type](n.data,function(t,e,n){this.postMessage({type:\"<response>\",id:String(i),error:t?String(t):null,data:e},n)}.bind(this))}else this.parent[n.type](n.data)},i.prototype.send=function(t,e,n,i){var r=null;n&&(this.callbacks[r=this.callbackID++]=n),this.postMessage({type:t,id:String(r),data:e},i)},i.prototype.postMessage=function(t,e){try{this.target.postMessage(t,e)}catch(n){this.target.postMessage(t)}}},{}],154:[function(t,e,n){\"use strict\";function i(t){var e=document.createElement(\"a\");return e.href=t,e.protocol===document.location.protocol&&e.host===document.location.host}n.getJSON=function(t,e){var n=new XMLHttpRequest;return n.open(\"GET\",t,!0),n.setRequestHeader(\"Accept\",\"application/json\"),n.onerror=function(t){e(t)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(i){return e(i)}e(null,t)}else e(new Error(n.statusText))},n.send(),n},n.getArrayBuffer=function(t,e){var n=new XMLHttpRequest;return n.open(\"GET\",t,!0),n.responseType=\"arraybuffer\",n.onerror=function(t){e(t)},n.onload=function(){n.status>=200&&n.status<300&&n.response?e(null,n.response):e(new Error(n.statusText))},n.send(),n},n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)return e(t);var i=new Image;i.onload=function(){e(null,i),(window.URL||window.webkitURL).revokeObjectURL(i.src)};var r=new Blob([new Uint8Array(n)],{type:\"image/png\"});return i.src=(window.URL||window.webkitURL).createObjectURL(r),i.getData=function(){var t=document.createElement(\"canvas\"),e=t.getContext(\"2d\");return t.width=i.width,t.height=i.height,e.drawImage(i,0,0),e.getImageData(0,0,i.width,i.height).data},i})},n.getVideo=function(t,e){var n=document.createElement(\"video\");n.onloadstart=function(){e(null,n)};for(var r=0;r<t.length;r++){var o=document.createElement(\"source\");i(t[r])||(n.crossOrigin=\"Anonymous\"),o.src=t[r],n.appendChild(o)}return n.getData=function(){return n},n}},{}],155:[function(t,e,n){\"use strict\";var i=t(\"./canvas\"),r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;n.frame=function(t){return r(t)};var o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;n.cancelFrame=function(t){o(t)},n.timed=function(t,e,i){function r(s){o||(window.performance||(s=Date.now()),s>=a+e?t.call(i,1):(t.call(i,(s-a)/e),n.frame(r)))}if(!e)return t.call(i,1),null;var o=!1,a=window.performance?window.performance.now():Date.now();return n.frame(r),function(){o=!0}},n.supported=function(t){for(var e=([function(){return\"undefined\"!=typeof window},function(){return\"undefined\"!=typeof document},function(){return!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)},function(){return!(!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions))},function(){return\"JSON\"in window&&\"parse\"in JSON&&\"stringify\"in JSON},function(){return(new i).supportsWebGLContext(t&&t.failIfMajorPerformanceCaveat||!1)},function(){return\"Worker\"in window}]),n=0;n<e.length;n++)if(!e[n]())return!1;return!0},n.hardwareConcurrency=navigator.hardwareConcurrency||8,Object.defineProperty(n,\"devicePixelRatio\",{get:function(){return window.devicePixelRatio}}),n.supportsWebp=!1;var a=document.createElement(\"img\");a.onload=function(){n.supportsWebp=!0},a.src=\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=\"},{\"./canvas\":156}],156:[function(t,e,n){\"use strict\";function i(t,e){this.canvas=document.createElement(\"canvas\"),t&&e&&(this.canvas.style.position=\"absolute\",this.canvas.classList.add(\"mapboxgl-canvas\"),this.canvas.addEventListener(\"webglcontextlost\",t._contextLost.bind(t),!1),this.canvas.addEventListener(\"webglcontextrestored\",t._contextRestored.bind(t),!1),this.canvas.setAttribute(\"tabindex\",0),e.appendChild(this.canvas))}var r=t(\"../util\");e.exports=i,i.prototype.resize=function(t,e){var n=window.devicePixelRatio||1;this.canvas.width=n*t,this.canvas.height=n*e,this.canvas.style.width=t+\"px\",this.canvas.style.height=e+\"px\"};var o={antialias:!1,alpha:!0,stencil:!0,depth:!1};i.prototype.getWebGLContext=function(t){return t=r.extend({},t,o),this.canvas.getContext(\"webgl\",t)||this.canvas.getContext(\"experimental-webgl\",t)},i.prototype.supportsWebGLContext=function(t){var e=r.extend({failIfMajorPerformanceCaveat:t},o);return\"probablySupportsContext\"in this.canvas?this.canvas.probablySupportsContext(\"webgl\",e)||this.canvas.probablySupportsContext(\"experimental-webgl\",e):\"supportsContext\"in this.canvas?this.canvas.supportsContext(\"webgl\",e)||this.canvas.supportsContext(\"experimental-webgl\",e):!!window.WebGLRenderingContext&&!!this.getWebGLContext(t)},i.prototype.getElement=function(){return this.canvas}},{\"../util\":166}],157:[function(t,e,n){\"use strict\";function i(e,n){this.actors=[],this.currentActor=0;for(var i=0;e>i;i++){var a=new o(t(\"../../source/worker\")),s=new r(a,n);s.name=\"Worker \"+i,this.actors.push(s)}}var r=t(\"../actor\"),o=t(\"webworkify\");e.exports=i,i.prototype={broadcast:function(t,e){for(var n=0;n<this.actors.length;n++)this.actors[n].send(t,e)},send:function(t,e,n,i,r){return(\"number\"!=typeof i||isNaN(i))&&(i=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[i].send(t,e,n,r),i},remove:function(){for(var t=0;t<this.actors.length;t++)this.actors[t].target.terminate();this.actors=[]}}},{\"../../source/worker\":110,\"../actor\":153,webworkify:325}],158:[function(t,e,n){\"use strict\";function i(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e]}function r(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener(\"click\",r,!0)}var o=t(\"point-geometry\");n.create=function(t,e,n){var i=document.createElement(t);return e&&(i.className=e),n&&n.appendChild(i),i};var a,s=document.documentElement.style,u=i([\"userSelect\",\"MozUserSelect\",\"WebkitUserSelect\",\"msUserSelect\"]);n.disableDrag=function(){u&&(a=s[u],s[u]=\"none\")},n.enableDrag=function(){u&&(s[u]=a)};var l=i([\"transform\",\"WebkitTransform\"]);n.setTransform=function(t,e){t.style[l]=e},n.suppressClick=function(){window.addEventListener(\"click\",r,!0),window.setTimeout(function(){window.removeEventListener(\"click\",r,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new o(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)}},{\"point-geometry\":170}],159:[function(t,e,n){\"use strict\";e.exports={API_URL:\"https://api.mapbox.com\",REQUIRE_ACCESS_TOKEN:!0}},{}],160:[function(t,e,n){\"use strict\";var i=t(\"./util\"),r={on:function(t,e){return this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e),this},off:function(t,e){if(!t)return delete this._events,this;if(!this.listens(t))return this;if(e){var n=this._events[t].indexOf(e);n>=0&&this._events[t].splice(n,1),this._events[t].length||delete this._events[t]}else delete this._events[t];return this},once:function(t,e){var n=function(i){this.off(t,n),e.call(this,i)}.bind(this);return this.on(t,n),this},fire:function(t,e){if(!this.listens(t))return this;e=i.extend({},e),i.extend(e,{type:t,target:this});for(var n=this._events[t].slice(),r=0;r<n.length;r++)n[r].call(this,e);return this},listens:function(t){return!(!this._events||!this._events[t])}};e.exports=r},{\"./util\":166}],161:[function(t,e,n){\"use strict\";function i(t,e){this.stacks=t.readFields(r,[],e)}function r(t,e,n){if(1===t){var i=n.readMessage(o,{glyphs:{}});e.push(i)}}function o(t,e,n){if(1===t)e.name=n.readString();else if(2===t)e.range=n.readString();else if(3===t){var i=n.readMessage(a,{});e.glyphs[i.id]=i}}function a(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}e.exports=i},{}],162:[function(t,e,n){\"use strict\";function i(t,e,n){return t*(1-n)+e*n}e.exports=i,i.number=i,i.vec2=function(t,e,n){return[i(t[0],e[0],n),i(t[1],e[1],n)]},i.color=function(t,e,n){return[i(t[0],e[0],n),i(t[1],e[1],n),i(t[2],e[2],n),i(t[3],e[3],n)]},i.array=function(t,e,n){return t.map(function(t,r){return i(t,e[r],n)})}},{}],163:[function(t,e,n){\"use strict\";function i(t,e,n){if(n=n||r.ACCESS_TOKEN,!n&&r.REQUIRE_ACCESS_TOKEN)throw new Error(\"An API access token is required to use Mapbox GL. See https://www.mapbox.com/developers/api/#access-tokens\");if(t=t.replace(/^mapbox:\\/\\//,r.API_URL+e),t+=-1!==t.indexOf(\"?\")?\"&access_token=\":\"?access_token=\",r.REQUIRE_ACCESS_TOKEN){if(\"s\"===n[0])throw new Error(\"Use a public access token (pk.*) with Mapbox GL JS, not a secret access token (sk.*). See https://www.mapbox.com/developers/api/#access-tokens\");t+=n}return t}var r=t(\"./config\"),o=t(\"./browser\");e.exports.normalizeStyleURL=function(t,e){if(!t.match(/^mapbox:\\/\\/styles\\//))return t;var n=t.split(\"/\"),r=n[3],o=n[4],a=n[5]?\"/draft\":\"\";return i(\"mapbox://\"+r+\"/\"+o+a,\"/styles/v1/\",e)},e.exports.normalizeSourceURL=function(t,e){return t.match(/^mapbox:\\/\\//)?i(t+\".json\",\"/v4/\",e)+\"&secure\":t},e.exports.normalizeGlyphsURL=function(t,e){if(!t.match(/^mapbox:\\/\\//))return t;var n=t.split(\"/\")[3];return i(\"mapbox://\"+n+\"/{fontstack}/{range}.pbf\",\"/fonts/v1/\",e)},e.exports.normalizeSpriteURL=function(t,e,n,r){if(!t.match(/^mapbox:\\/\\/sprites\\//))return t+e+n;var o=t.split(\"/\"),a=o[3],s=o[4],u=o[5]?\"/draft\":\"\";return i(\"mapbox://\"+a+\"/\"+s+u+\"/sprite\"+e+n,\"/styles/v1/\",r)},e.exports.normalizeTileURL=function(t,e){if(!e||!e.match(/^mapbox:\\/\\//))return t;t=t.replace(/([?&]access_token=)tk\\.[^&]+/,\"$1\"+r.ACCESS_TOKEN);var n=o.supportsWebp?\"webp\":\"$1\";return t.replace(/\\.((?:png|jpg)\\d*)(?=$|\\?)/,o.devicePixelRatio>=2?\"@2x.\"+n:\".\"+n)}},{\"./browser\":155,\"./config\":159}],164:[function(t,e,n){\"use strict\";function i(t,e){this.max=t,this.onRemove=e,this.reset()}e.exports=i,i.prototype.reset=function(){for(var t in this.list)this.onRemove(this.list[t]);return this.list={},this.order=[],this},i.prototype.add=function(t,e){if(this.list[t]=e,this.order.push(t),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},i.prototype.has=function(t){return t in this.list},i.prototype.keys=function(){return this.order},i.prototype.get=function(t){if(!this.has(t))return null;var e=this.list[t];return delete this.list[t],this.order.splice(this.order.indexOf(t),1),e}},{}],165:[function(t,e,n){\"use strict\";function i(t,e){return e.replace(/{([^{}()\\[\\]<>$=:;.,^]+)}/g,function(e,n){return n in t?t[n]:\"\"})}e.exports=i},{}],166:[function(t,e,n){\"use strict\";var i=t(\"unitbezier\"),r=t(\"../geo/coordinate\");n.easeCubicInOut=function(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,r){var o=new i(t,e,n,r);return function(t){return o.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.premultiply=function(t){return t[0]*=t[3],t[1]*=t[3],t[2]*=t[3],t},n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var i=n-e,r=((t-e)%i+i)%i+e;return r===e?n:r},n.coalesce=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!==e&&void 0!==e)return e}},n.asyncEach=function(t,e,n){function i(){0===--r&&n()}var r=t.length;if(0===r)return n();for(var o=0;o<t.length;o++)e(t[o],i)},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var i=t.length,r=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),r[a]=e,0===--i&&n(o,r)})})},n.keysDifference=function(t,e){var n=[];for(var i in t)i in e||n.push(i);return n},n.extend=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t},n.extendAll=function(t,e){for(var n in e)Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t},n.inherit=function(t,e){var i=\"function\"==typeof t?t.prototype:t,r=Object.create(i);return n.extendAll(r,e),r},n.pick=function(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i];r in t&&(n[r]=t[r])}return n};var o=1;n.uniqueId=function(){return o++},n.throttle=function(t,e,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}},n.debounce=function(t,e){var n,i;return function(){i=arguments,clearTimeout(n),n=setTimeout(function(){t.apply(null,i)},e)}},n.bindAll=function(t,e){t.forEach(function(t){e[t]=e[t].bind(e)})},n.bindHandlers=function(t){for(var e in t)\"function\"==typeof t[e]&&0===e.indexOf(\"_on\")&&(t[e]=t[e].bind(t))},n.setOptions=function(t,e){t.hasOwnProperty(\"options\")||(t.options=t.options?Object.create(t.options):{});for(var n in e)t.options[n]=e[n];return t.options},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,i=-(1/0),o=-(1/0),a=0;a<t.length;a++)e=Math.min(e,t[a].column),n=Math.min(n,t[a].row),i=Math.max(i,t[a].column),o=Math.max(o,t[a].row);var s=i-e,u=o-n,l=Math.max(s,u);return new r((e+i)/2,(n+o)/2,0).zoomTo(Math.floor(-Math.log(l)/Math.LN2))}},{\"../geo/coordinate\":80,unitbezier:318}],167:[function(t,e,n){(function(t){function e(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];\".\"===r?t.splice(i,1):\"..\"===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift(\"..\");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}var r=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,o=function(t){return r.exec(t).slice(1)};n.resolve=function(){for(var n=\"\",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if(\"string\"!=typeof a)throw new TypeError(\"Arguments to path.resolve must be strings\");a&&(n=a+\"/\"+n,r=\"/\"===a.charAt(0))}return n=e(i(n.split(\"/\"),function(t){return!!t}),!r).join(\"/\"),(r?\"/\":\"\")+n||\".\"},n.normalize=function(t){var r=n.isAbsolute(t),o=\"/\"===a(t,-1);return t=e(i(t.split(\"/\"),function(t){return!!t}),!r).join(\"/\"),t||r||(t=\".\"),t&&o&&(t+=\"/\"),(r?\"/\":\"\")+t},n.isAbsolute=function(t){return\"/\"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(i(t,function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"Arguments to path.join must be strings\");return t}).join(\"/\"))},n.relative=function(t,e){function i(t){for(var e=0;e<t.length&&\"\"===t[e];e++);for(var n=t.length-1;n>=0&&\"\"===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var r=i(t.split(\"/\")),o=i(e.split(\"/\")),a=Math.min(r.length,o.length),s=a,u=0;a>u;u++)if(r[u]!==o[u]){s=u;break}for(var l=[],u=s;u<r.length;u++)l.push(\"..\");return l=l.concat(o.slice(s)),l.join(\"/\")},n.sep=\"/\",n.delimiter=\":\",n.dirname=function(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):\".\"},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var a=\"b\"===\"ab\".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(this,t(\"_process\"))},{_process:171}],168:[function(t,e,n){\"use strict\";function i(t){var e;t&&t.length&&(e=t,t=e.length);var n=new Uint8Array(t||0);return e&&n.set(e),n.readUInt32LE=o.readUInt32LE,n.writeUInt32LE=o.writeUInt32LE,n.readInt32LE=o.readInt32LE,n.writeInt32LE=o.writeInt32LE,n.readFloatLE=o.readFloatLE,n.writeFloatLE=o.writeFloatLE,n.readDoubleLE=o.readDoubleLE,n.writeDoubleLE=o.writeDoubleLE,n.toString=o.toString,n.write=o.write,n.slice=o.slice,n.copy=o.copy,n._isBuffer=!0,n}function r(t){for(var e,n,i=t.length,r=[],o=0;i>o;o++){if(e=t.charCodeAt(o),e>55295&&57344>e){if(!n){e>56319||o+1===i?r.push(239,191,189):n=e;continue}if(56320>e){r.push(239,191,189),n=e;continue}e=n-55296<<10|e-56320|65536,n=null}else n&&(r.push(239,191,189),n=null);128>e?r.push(e):2048>e?r.push(e>>6|192,63&e|128):65536>e?r.push(e>>12|224,e>>6&63|128,63&e|128):r.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return r}e.exports=i;var o,a,s,u=t(\"ieee754\");o={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return u.read(this,t,!0,23,4)},readDoubleLE:function(t){return u.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return u.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return u.write(this,t,e,!0,52,8)},toString:function(t,e,n){var i=\"\",r=\"\";e=e||0,n=Math.min(this.length,n||this.length);for(var o=e;n>o;o++){var a=this[o];127>=a?(i+=decodeURIComponent(r)+String.fromCharCode(a),r=\"\"):r+=\"%\"+a.toString(16)}return i+=decodeURIComponent(r)},write:function(t,e){for(var n=t===a?s:r(t),i=0;i<n.length;i++)this[e+i]=n[i]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var n=0;n<this.length;n++)t[e+n]=this[n]}},o.writeInt32LE=o.writeUInt32LE,i.byteLength=function(t){return a=t,s=r(t),s.length},i.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:63}],169:[function(t,e,n){(function(n){\"use strict\";function i(t){this.buf=h.isBuffer(t)?t:new h(t||0),this.pos=0,this.length=this.buf.length}function r(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function o(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function a(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function s(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}e.exports=i;var h=n.Buffer||t(\"./buffer\");i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var f=4294967296,m=1/f,v=Math.pow(2,63);i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;t(r,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*f;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*f;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,n,i,r,o,a=this.buf;if(n=a[this.pos++],128>n)return n;if(n=127&n,i=a[this.pos++],128>i)return n|i<<7;if(i=(127&i)<<7,r=a[this.pos++],128>r)return n|i|r<<14;if(r=(127&r)<<14,o=a[this.pos++],128>o)return n|i|r|o<<21;if(t=n|i|r|(127&o)<<21,e=a[this.pos++],t+=268435456*(127&e),128>e)return t;if(e=a[this.pos++],t+=34359738368*(127&e),128>e)return t;if(e=a[this.pos++],t+=4398046511104*(127&e),128>e)return t;if(e=a[this.pos++],t+=562949953421312*(127&e),128>e)return t;if(e=a[this.pos++],t+=72057594037927940*(127&e),128>e)return t;if(e=a[this.pos++],t+=0x8000000000000000*(127&e),128>e)return t;throw new Error(\"Expected varint not more than 10 bytes\")},readVarint64:function(){var t=this.pos,e=this.readVarint();if(v>e)return e;for(var n=this.pos-2;255===this.buf[n];)n--;t>n&&(n=t),e=0;for(var i=0;n-t+1>i;i++){var r=127&~this.buf[t+i];e+=4>i?r<<7*i:r*Math.pow(2,7*i)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString(\"utf8\",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error(\"Unimplemented type: \"+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new h(e);this.buf.copy(n),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeUInt32LE(Math.floor(t*m),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeInt32LE(Math.floor(t*m),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t,127>=t)this.realloc(1),this.buf[this.pos++]=t;else if(16383>=t)this.realloc(2),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127;else if(2097151>=t)this.realloc(3),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127;else if(268435455>=t)this.realloc(4),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127|128,this.buf[this.pos++]=t>>>21&127;else{for(var e=this.pos;t>=128;)this.realloc(1),this.buf[this.pos++]=255&t|128,t/=128;if(this.realloc(1),this.buf[this.pos++]=0|t,this.pos-e>10)throw new Error(\"Given varint doesn't fit into 10 bytes\")}},writeSVarint:function(t){this.writeVarint(0>t?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=h.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;e>n;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n,r=127>=i?1:16383>=i?2:2097151>=i?3:268435455>=i?4:Math.ceil(Math.log(i)/(7*Math.LN2));if(r>1){this.realloc(r-1);for(var o=this.pos-1;o>=n;o--)this.buf[o+r-1]=this.buf[o]}this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,r,e)},writePackedSVarint:function(t,e){this.writeMessage(t,o,e)},writePackedBoolean:function(t,e){this.writeMessage(t,u,e)},writePackedFloat:function(t,e){this.writeMessage(t,a,e)},writePackedDouble:function(t,e){this.writeMessage(t,s,e)},writePackedFixed32:function(t,e){this.writeMessage(t,l,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,c,e)},writePackedFixed64:function(t,e){this.writeMessage(t,d,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,p,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./buffer\":168}],170:[function(t,e,n){\"use strict\";function i(t,e){this.x=t,this.y=e}e.exports=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=e*this.x-n*this.y,r=n*this.x+e*this.y;return this.x=i,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{}],171:[function(t,e,n){function i(){c=!1,s.length?l=s.concat(l):d=-1,\nl.length&&r()}function r(){if(!c){var t=setTimeout(i);c=!0;for(var e=l.length;e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,c=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var s,u=e.exports={},l=[],c=!1,d=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||c||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title=\"browser\",u.browser=!0,u.env={},u.argv=[],u.version=\"\",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(t){throw new Error(\"process.binding is not supported\")},u.cwd=function(){return\"/\"},u.chdir=function(t){throw new Error(\"process.chdir is not supported\")},u.umask=function(){return 0}},{}],172:[function(t,e,n){!function(){\"use strict\";function t(e,n){return this instanceof t?(this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),void this.clear()):new t(e,n)}function n(t,e){t.bbox=i(t,0,t.children.length,e)}function i(t,e,n,i){for(var a,s=r(),u=e;n>u;u++)a=t.children[u],o(s,t.leaf?i(a):a.bbox);return s}function r(){return[1/0,1/0,-(1/0),-(1/0)]}function o(t,e){return t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t}function a(t,e){return t.bbox[0]-e.bbox[0]}function s(t,e){return t.bbox[1]-e.bbox[1]}function u(t){return(t[2]-t[0])*(t[3]-t[1])}function l(t){return t[2]-t[0]+(t[3]-t[1])}function c(t,e){return(Math.max(e[2],t[2])-Math.min(e[0],t[0]))*(Math.max(e[3],t[3])-Math.min(e[1],t[1]))}function d(t,e){var n=Math.max(t[0],e[0]),i=Math.max(t[1],e[1]),r=Math.min(t[2],e[2]),o=Math.min(t[3],e[3]);return Math.max(0,r-n)*Math.max(0,o-i)}function p(t,e){return t[0]<=e[0]&&t[1]<=e[1]&&e[2]<=t[2]&&e[3]<=t[3]}function h(t,e){return e[0]<=t[2]&&e[1]<=t[3]&&e[2]>=t[0]&&e[3]>=t[1]}function f(t,e,n,i,r){for(var o,a=[e,n];a.length;)n=a.pop(),e=a.pop(),i>=n-e||(o=e+Math.ceil((n-e)/i/2)*i,m(t,e,n,o,r),a.push(e,o,o,n))}function m(t,e,n,i,r){for(var o,a,s,u,l,c,d,p,h;n>e;){for(n-e>600&&(o=n-e+1,a=i-e+1,s=Math.log(o),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(o-u)/o)*(0>a-o/2?-1:1),c=Math.max(e,Math.floor(i-a*u/o+l)),d=Math.min(n,Math.floor(i+(o-a)*u/o+l)),m(t,c,d,i,r)),p=t[i],a=e,h=n,v(t,e,i),r(t[n],p)>0&&v(t,e,n);h>a;){for(v(t,a,h),a++,h--;r(t[a],p)<0;)a++;for(;r(t[h],p)>0;)h--}0===r(t[e],p)?v(t,e,h):(h++,v(t,h,n)),i>=h&&(e=h+1),h>=i&&(n=h-1)}}function v(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}t.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!h(t,e.bbox))return n;for(var r,o,a,s,u=[];e;){for(r=0,o=e.children.length;o>r;r++)a=e.children[r],s=e.leaf?i(a):a.bbox,h(t,s)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!h(t,e.bbox))return!1;for(var i,r,o,a,s=[];e;){for(i=0,r=e.children.length;r>i;i++)if(o=e.children[i],a=e.leaf?n(o):o.bbox,h(t,a)){if(e.leaf||p(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;n>e;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data={children:[],height:1,bbox:r(),leaf:!0},this},remove:function(t){if(!t)return this;for(var e,n,i,r,o=this.data,a=this.toBBox(t),s=[],u=[];o||s.length;){if(o||(o=s.pop(),n=s[s.length-1],e=u.pop(),r=!0),o.leaf&&(i=o.children.indexOf(t),-1!==i))return o.children.splice(i,1),s.push(o),this._condense(s),this;r||o.leaf||!p(o.bbox,a)?n?(e++,o=n.children[e],r=!1):o=null:(s.push(o),u.push(e),e=0,n=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:function(t,e){return t[0]-e[0]},compareMinY:function(t,e){return t[1]-e[1]},toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,i,r){var o,a=i-e+1,s=this._maxEntries;if(s>=a)return o={children:t.slice(e,i+1),height:1,bbox:null,leaf:!0},n(o,this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),o={children:[],height:r,bbox:null};var u,l,c,d,p=Math.ceil(a/s),h=p*Math.ceil(Math.sqrt(s));for(f(t,e,i,h,this.compareMinX),u=e;i>=u;u+=h)for(c=Math.min(u+h-1,i),f(t,u,c,p,this.compareMinY),l=u;c>=l;l+=p)d=Math.min(l+p-1,c),o.children.push(this._build(t,l,d,r-1));return n(o,this.toBBox),o},_chooseSubtree:function(t,e,n,i){for(var r,o,a,s,l,d,p,h;;){if(i.push(e),e.leaf||i.length-1===n)break;for(p=h=1/0,r=0,o=e.children.length;o>r;r++)a=e.children[r],l=u(a.bbox),d=c(t,a.bbox)-l,h>d?(h=d,p=p>l?l:p,s=a):d===h&&p>l&&(p=l,s=a);e=s}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t.bbox:i(t),a=[],s=this._chooseSubtree(r,this.data,e,a);for(s.children.push(t),o(s.bbox,r);e>=0&&a[e].children.length>this._maxEntries;)this._split(a,e),e--;this._adjustParentBBoxes(r,a,e)},_split:function(t,e){var i=t[e],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);var a=this._chooseSplitIndex(i,o,r),s={children:i.children.splice(a,i.children.length-a),height:i.height};i.leaf&&(s.leaf=!0),n(i,this.toBBox),n(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,e){this.data={children:[t,e],height:t.height+1},n(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,o,a,s,l,c,p,h;for(c=p=1/0,r=e;n-e>=r;r++)o=i(t,0,r,this.toBBox),a=i(t,r,n,this.toBBox),s=d(o,a),l=u(o)+u(a),c>s?(c=s,h=r,p=p>l?l:p):s===c&&p>l&&(p=l,h=r);return h},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:a,r=t.leaf?this.compareMinY:s,o=this._allDistMargin(t,e,n,i),u=this._allDistMargin(t,e,n,r);u>o&&t.children.sort(i)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var a,s,u=this.toBBox,c=i(t,0,e,u),d=i(t,n-e,n,u),p=l(c)+l(d);for(a=e;n-e>a;a++)s=t.children[a],o(c,t.leaf?u(s):s.bbox),p+=l(c);for(a=n-e-1;a>=e;a--)s=t.children[a],o(d,t.leaf?u(s):s.bbox),p+=l(d);return p},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)o(e[i].bbox,t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():n(t[i],this.toBBox)},_initFormat:function(t){var e=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",e.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",e.join(t[1])),this.toBBox=new Function(\"a\",\"return [a\"+t.join(\", a\")+\"];\")}},\"function\"==typeof define&&define.amd?define(\"rbush\",function(){return t}):\"undefined\"!=typeof e?e.exports=t:\"undefined\"!=typeof self?self.rbush=t:window.rbush=t}()},{}],173:[function(t,e,n){e.exports=t(\"react/lib/ReactCSSTransitionGroup\")},{\"react/lib/ReactCSSTransitionGroup\":201}],174:[function(t,e,n){\"use strict\";e.exports=t(\"react/lib/ReactDOM\")},{\"react/lib/ReactDOM\":211}],175:[function(t,e,n){\"use strict\";var i=t(\"./ReactMount\"),r=t(\"./findDOMNode\"),o=t(\"fbjs/lib/focusNode\"),a={componentDidMount:function(){this.props.autoFocus&&o(r(this))}},s={Mixin:a,focusDOMComponent:function(){o(i.getNode(this._rootNodeID))}};e.exports=s},{\"./ReactMount\":241,\"./findDOMNode\":287,\"fbjs/lib/focusNode\":20}],176:[function(t,e,n){\"use strict\";function i(){var t=window.opera;return\"object\"==typeof t&&\"function\"==typeof t.version&&parseInt(t.version(),10)<=12}function r(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case R.topCompositionStart:return P.compositionStart;case R.topCompositionEnd:return P.compositionEnd;case R.topCompositionUpdate:return P.compositionUpdate}}function a(t,e){return t===R.topKeyDown&&e.keyCode===x}function s(t,e){switch(t){case R.topKeyUp:return-1!==_.indexOf(e.keyCode);case R.topKeyDown:return e.keyCode!==x;case R.topKeyPress:case R.topMouseDown:case R.topBlur:return!0;default:return!1}}function u(t){var e=t.detail;return\"object\"==typeof e&&\"data\"in e?e.data:null}function l(t,e,n,i,r){var l,c;if(w?l=o(t):D?s(t,i)&&(l=P.compositionEnd):a(t,i)&&(l=P.compositionStart),!l)return null;S&&(D||l!==P.compositionStart?l===P.compositionEnd&&D&&(c=D.getData()):D=v.getPooled(e));var d=g.getPooled(l,n,i,r);if(c)d.data=c;else{var p=u(i);null!==p&&(d.data=p)}return f.accumulateTwoPhaseDispatches(d),d}function c(t,e){switch(t){case R.topCompositionEnd:return u(e);case R.topKeyPress:var n=e.which;return n!==C?null:(I=!0,T);case R.topTextInput:var i=e.data;return i===T&&I?null:i;default:return null}}function d(t,e){if(D){if(t===R.topCompositionEnd||s(t,e)){var n=D.getData();return v.release(D),D=null,n}return null}switch(t){case R.topPaste:return null;case R.topKeyPress:return e.which&&!r(e)?String.fromCharCode(e.which):null;case R.topCompositionEnd:return S?null:e.data;default:return null}}function p(t,e,n,i,r){var o;if(o=M?c(t,i):d(t,i),!o)return null;var a=y.getPooled(P.beforeInput,n,i,r);return a.data=o,f.accumulateTwoPhaseDispatches(a),a}var h=t(\"./EventConstants\"),f=t(\"./EventPropagators\"),m=t(\"fbjs/lib/ExecutionEnvironment\"),v=t(\"./FallbackCompositionState\"),g=t(\"./SyntheticCompositionEvent\"),y=t(\"./SyntheticInputEvent\"),b=t(\"fbjs/lib/keyOf\"),_=[9,13,27,32],x=229,w=m.canUseDOM&&\"CompositionEvent\"in window,E=null;m.canUseDOM&&\"documentMode\"in document&&(E=document.documentMode);var M=m.canUseDOM&&\"TextEvent\"in window&&!E&&!i(),S=m.canUseDOM&&(!w||E&&E>8&&11>=E),C=32,T=String.fromCharCode(C),R=h.topLevelTypes,P={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[R.topCompositionEnd,R.topKeyPress,R.topTextInput,R.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[R.topBlur,R.topCompositionEnd,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[R.topBlur,R.topCompositionStart,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[R.topBlur,R.topCompositionUpdate,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]}},I=!1,D=null,A={eventTypes:P,extractEvents:function(t,e,n,i,r){return[l(t,e,n,i,r),p(t,e,n,i,r)]}};e.exports=A},{\"./EventConstants\":188,\"./EventPropagators\":192,\"./FallbackCompositionState\":193,\"./SyntheticCompositionEvent\":269,\"./SyntheticInputEvent\":273,\"fbjs/lib/ExecutionEnvironment\":12,\"fbjs/lib/keyOf\":30}],177:[function(t,e,n){\"use strict\";function i(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},o=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(r).forEach(function(t){o.forEach(function(e){r[i(e,t)]=r[t]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:r,shorthandPropertyExpansions:a};e.exports=s},{}],178:[function(t,e,n){\"use strict\";var i=t(\"./CSSProperty\"),r=t(\"fbjs/lib/ExecutionEnvironment\"),o=t(\"./ReactPerf\"),a=(t(\"fbjs/lib/camelizeStyleName\"),t(\"./dangerousStyleValue\")),s=t(\"fbjs/lib/hyphenateStyleName\"),u=t(\"fbjs/lib/memoizeStringOnly\"),l=(t(\"fbjs/lib/warning\"),u(function(t){return s(t)})),c=!1,d=\"cssFloat\";if(r.canUseDOM){var p=document.createElement(\"div\").style;try{p.font=\"\"}catch(h){c=!0}void 0===document.documentElement.style.cssFloat&&(d=\"styleFloat\")}var f={createMarkupForStyles:function(t){var e=\"\";for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];null!=i&&(e+=l(n)+\":\",e+=a(n,i)+\";\")}return e||null},setValueForStyles:function(t,e){var n=t.style;for(var r in e)if(e.hasOwnProperty(r)){var o=a(r,e[r]);if(\"float\"===r&&(r=d),o)n[r]=o;else{var s=c&&i.shorthandPropertyExpansions[r];if(s)for(var u in s)n[u]=\"\";else n[r]=\"\"}}}};o.measureMethods(f,\"CSSPropertyOperations\",{setValueForStyles:\"setValueForStyles\"}),e.exports=f},{\"./CSSProperty\":177,\"./ReactPerf\":247,\"./dangerousStyleValue\":284,\"fbjs/lib/ExecutionEnvironment\":12,\"fbjs/lib/camelizeStyleName\":14,\"fbjs/lib/hyphenateStyleName\":25,\"fbjs/lib/memoizeStringOnly\":32,\"fbjs/lib/warning\":37}],179:[function(t,e,n){\"use strict\";function i(){this._callbacks=null,this._contexts=null}var r=t(\"./PooledClass\"),o=t(\"./Object.assign\"),a=t(\"fbjs/lib/invariant\");o(i.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<t.length;n++)t[n].call(e[n]);t.length=0,e.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i},{\"./Object.assign\":196,\"./PooledClass\":197,\"fbjs/lib/invariant\":26}],180:[function(t,e,n){\"use strict\";function i(t){var e=t.nodeName&&t.nodeName.toLowerCase();return\"select\"===e||\"input\"===e&&\"file\"===t.type}function r(t){var e=E.getPooled(P.change,D,t,M(t));_.accumulateTwoPhaseDispatches(e),w.batchedUpdates(o,e)}function o(t){b.enqueueEvents(t),b.processEventQueue(!1)}function a(t,e){I=t,D=e,I.attachEvent(\"onchange\",r)}function s(){I&&(I.detachEvent(\"onchange\",r),I=null,D=null)}function u(t,e,n){return t===R.topChange?n:void 0}function l(t,e,n){t===R.topFocus?(s(),a(e,n)):t===R.topBlur&&s()}function c(t,e){I=t,D=e,A=t.value,L=Object.getOwnPropertyDescriptor(t.constructor.prototype,\"value\"),Object.defineProperty(I,\"value\",k),I.attachEvent(\"onpropertychange\",p)}function d(){I&&(delete I.value,I.detachEvent(\"onpropertychange\",p),I=null,D=null,A=null,L=null)}function p(t){if(\"value\"===t.propertyName){var e=t.srcElement.value;e!==A&&(A=e,r(t))}}function h(t,e,n){return t===R.topInput?n:void 0}function f(t,e,n){t===R.topFocus?(d(),c(e,n)):t===R.topBlur&&d()}function m(t,e,n){return t!==R.topSelectionChange&&t!==R.topKeyUp&&t!==R.topKeyDown||!I||I.value===A?void 0:(A=I.value,D)}function v(t){return t.nodeName&&\"input\"===t.nodeName.toLowerCase()&&(\"checkbox\"===t.type||\"radio\"===t.type)}function g(t,e,n){return t===R.topClick?n:void 0}var y=t(\"./EventConstants\"),b=t(\"./EventPluginHub\"),_=t(\"./EventPropagators\"),x=t(\"fbjs/lib/ExecutionEnvironment\"),w=t(\"./ReactUpdates\"),E=t(\"./SyntheticEvent\"),M=t(\"./getEventTarget\"),S=t(\"./isEventSupported\"),C=t(\"./isTextInputElement\"),T=t(\"fbjs/lib/keyOf\"),R=y.topLevelTypes,P={change:{phasedRegistrationNames:{bubbled:T({onChange:null}),captured:T({onChangeCapture:null})},dependencies:[R.topBlur,R.topChange,R.topClick,R.topFocus,R.topInput,R.topKeyDown,R.topKeyUp,R.topSelectionChange]}},I=null,D=null,A=null,L=null,O=!1;x.canUseDOM&&(O=S(\"change\")&&(!(\"documentMode\"in document)||document.documentMode>8));var N=!1;x.canUseDOM&&(N=S(\"input\")&&(!(\"documentMode\"in document)||document.documentMode>9));var k={get:function(){return L.get.call(this)},set:function(t){A=\"\"+t,L.set.call(this,t)}},j={eventTypes:P,extractEvents:function(t,e,n,r,o){var a,s;if(i(e)?O?a=u:s=l:C(e)?N?a=h:(a=m,s=f):v(e)&&(a=g),a){var c=a(t,e,n);if(c){var d=E.getPooled(P.change,c,r,o);return d.type=\"change\",_.accumulateTwoPhaseDispatches(d),d}}s&&s(t,e,n)}};e.exports=j},{\"./EventConstants\":188,\"./EventPluginHub\":189,\"./EventPropagators\":192,\"./ReactUpdates\":262,\"./SyntheticEvent\":271,\"./getEventTarget\":293,\"./isEventSupported\":298,\"./isTextInputElement\":299,\"fbjs/lib/ExecutionEnvironment\":12,\"fbjs/lib/keyOf\":30}],181:[function(t,e,n){\"use strict\";var i=0,r={createReactRootIndex:function(){return i++}};e.exports=r},{}],182:[function(t,e,n){\"use strict\";function i(t,e,n){var i=n>=t.childNodes.length?null:t.childNodes.item(n);t.insertBefore(e,i)}var r=t(\"./Danger\"),o=t(\"./ReactMultiChildUpdateTypes\"),a=t(\"./ReactPerf\"),s=t(\"./setInnerHTML\"),u=t(\"./setTextContent\"),l=t(\"fbjs/lib/invariant\"),c={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,updateTextContent:u,processUpdates:function(t,e){for(var n,a=null,c=null,d=0;d<t.length;d++)if(n=t[d],n.type===o.MOVE_EXISTING||n.type===o.REMOVE_NODE){var p=n.fromIndex,h=n.parentNode.childNodes[p],f=n.parentID;h?void 0:l(!1),a=a||{},a[f]=a[f]||[],a[f][p]=h,c=c||[],c.push(h)}var m;if(m=e.length&&\"string\"==typeof e[0]?r.dangerouslyRenderMarkup(e):e,c)for(var v=0;v<c.length;v++)c[v].parentNode.removeChild(c[v]);for(var g=0;g<t.length;g++)switch(n=t[g],n.type){case o.INSERT_MARKUP:i(n.parentNode,m[n.markupIndex],n.toIndex);break;case o.MOVE_EXISTING:i(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case o.SET_MARKUP:s(n.parentNode,n.content);break;case o.TEXT_CONTENT:u(n.parentNode,n.content);break;case o.REMOVE_NODE:}}};a.measureMethods(c,\"DOMChildrenOperations\",{updateTextContent:\"updateTextContent\"}),e.exports=c},{\"./Danger\":185,\"./ReactMultiChildUpdateTypes\":243,\"./ReactPerf\":247,\"./setInnerHTML\":303,\"./setTextContent\":304,\"fbjs/lib/invariant\":26}],183:[function(t,e,n){\"use strict\";function i(t,e){return(t&e)===e}var r=t(\"fbjs/lib/invariant\"),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=o,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},u=t.DOMAttributeNames||{},l=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var d in n){s.properties.hasOwnProperty(d)?r(!1):void 0;var p=d.toLowerCase(),h=n[d],f={attributeName:p,attributeNamespace:null,propertyName:d,mutationMethod:null,mustUseAttribute:i(h,e.MUST_USE_ATTRIBUTE),mustUseProperty:i(h,e.MUST_USE_PROPERTY),hasSideEffects:i(h,e.HAS_SIDE_EFFECTS),hasBooleanValue:i(h,e.HAS_BOOLEAN_VALUE),hasNumericValue:i(h,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(h,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(h,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.mustUseAttribute&&f.mustUseProperty?r(!1):void 0,!f.mustUseProperty&&f.hasSideEffects?r(!1):void 0,f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:r(!1),u.hasOwnProperty(d)){var m=u[d];f.attributeName=m}a.hasOwnProperty(d)&&(f.attributeNamespace=a[d]),l.hasOwnProperty(d)&&(f.propertyName=l[d]),c.hasOwnProperty(d)&&(f.mutationMethod=c[d]),s.properties[d]=f}}},a={},s={ID_ATTRIBUTE_NAME:\"data-reactid\",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var n=s._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,i=a[t];return i||(a[t]=i={}),e in i||(n=document.createElement(t),i[e]=n[e]),i[e]},injection:o};e.exports=s},{\"fbjs/lib/invariant\":26}],184:[function(t,e,n){\"use strict\";function i(t){return c.hasOwnProperty(t)?!0:l.hasOwnProperty(t)?!1:u.test(t)?(c[t]=!0,!0):(l[t]=!0,!1)}function r(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&1>e||t.hasOverloadedBooleanValue&&e===!1}var o=t(\"./DOMProperty\"),a=t(\"./ReactPerf\"),s=t(\"./quoteAttributeValueForBrowser\"),u=(t(\"fbjs/lib/warning\"),/^[a-zA-Z_][\\w\\.\\-]*$/),l={},c={},d={createMarkupForID:function(t){return o.ID_ATTRIBUTE_NAME+\"=\"+s(t)},setAttributeForID:function(t,e){t.setAttribute(o.ID_ATTRIBUTE_NAME,e)},createMarkupForProperty:function(t,e){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){if(r(n,e))return\"\";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?i+'=\"\"':i+\"=\"+s(e)}return o.isCustomAttribute(t)?null==e?\"\":t+\"=\"+s(e):null},createMarkupForCustomAttribute:function(t,e){return i(t)&&null!=e?t+\"=\"+s(e):\"\"},setValueForProperty:function(t,e,n){var i=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(i){var a=i.mutationMethod;if(a)a(t,n);else if(r(i,n))this.deleteValueForProperty(t,e);else if(i.mustUseAttribute){var s=i.attributeName,u=i.attributeNamespace;u?t.setAttributeNS(u,s,\"\"+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&n===!0?t.setAttribute(s,\"\"):t.setAttribute(s,\"\"+n)}else{var l=i.propertyName;i.hasSideEffects&&\"\"+t[l]==\"\"+n||(t[l]=n)}}else o.isCustomAttribute(e)&&d.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){i(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,\"\"+n))},deleteValueForProperty:function(t,e){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){var i=n.mutationMethod;if(i)i(t,void 0);else if(n.mustUseAttribute)t.removeAttribute(n.attributeName);else{var r=n.propertyName,a=o.getDefaultValueForProperty(t.nodeName,r);n.hasSideEffects&&\"\"+t[r]===a||(t[r]=a)}}else o.isCustomAttribute(e)&&t.removeAttribute(e)}};a.measureMethods(d,\"DOMPropertyOperations\",{setValueForProperty:\"setValueForProperty\",setValueForAttribute:\"setValueForAttribute\",deleteValueForProperty:\"deleteValueForProperty\"}),e.exports=d},{\"./DOMProperty\":183,\"./ReactPerf\":247,\"./quoteAttributeValueForBrowser\":301,\"fbjs/lib/warning\":37}],185:[function(t,e,n){\"use strict\";function i(t){return t.substring(1,t.indexOf(\" \"))}var r=t(\"fbjs/lib/ExecutionEnvironment\"),o=t(\"fbjs/lib/createNodesFromMarkup\"),a=t(\"fbjs/lib/emptyFunction\"),s=t(\"fbjs/lib/getMarkupWrap\"),u=t(\"fbjs/lib/invariant\"),l=/^(<[^ \\/>]+)/,c=\"data-danger-index\",d={dangerouslyRenderMarkup:function(t){r.canUseDOM?void 0:u(!1);for(var e,n={},d=0;d<t.length;d++)t[d]?void 0:u(!1),e=i(t[d]),e=s(e)?e:\"*\",n[e]=n[e]||[],n[e][d]=t[d];var p=[],h=0;for(e in n)if(n.hasOwnProperty(e)){var f,m=n[e];for(f in m)if(m.hasOwnProperty(f)){var v=m[f];m[f]=v.replace(l,\"$1 \"+c+'=\"'+f+'\" ')}for(var g=o(m.join(\"\"),a),y=0;y<g.length;++y){var b=g[y];b.hasAttribute&&b.hasAttribute(c)&&(f=+b.getAttribute(c),b.removeAttribute(c),p.hasOwnProperty(f)?u(!1):void 0,p[f]=b,h+=1)}}return h!==p.length?u(!1):void 0,p.length!==t.length?u(!1):void 0,p},dangerouslyReplaceNodeWithMarkup:function(t,e){r.canUseDOM?void 0:u(!1),e?void 0:u(!1),\"html\"===t.tagName.toLowerCase()?u(!1):void 0;var n;n=\"string\"==typeof e?o(e,a)[0]:e,t.parentNode.replaceChild(n,t)}};e.exports=d},{\"fbjs/lib/ExecutionEnvironment\":12,\"fbjs/lib/createNodesFromMarkup\":17,\"fbjs/lib/emptyFunction\":18,\"fbjs/lib/getMarkupWrap\":22,\"fbjs/lib/invariant\":26}],186:[function(t,e,n){\"use strict\";var i=t(\"fbjs/lib/keyOf\"),r=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({BeforeInputEventPlugin:null})];e.exports=r},{\"fbjs/lib/keyOf\":30}],187:[function(t,e,n){\"use strict\";var i=t(\"./EventConstants\"),r=t(\"./EventPropagators\"),o=t(\"./SyntheticMouseEvent\"),a=t(\"./ReactMount\"),s=t(\"fbjs/lib/keyOf\"),u=i.topLevelTypes,l=a.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},d=[null,null],p={eventTypes:c,extractEvents:function(t,e,n,i,s){if(t===u.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(t!==u.topMouseOut&&t!==u.topMouseOver)return null;var p;if(e.window===e)p=e;else{var h=e.ownerDocument;p=h?h.defaultView||h.parentWindow:window}var f,m,v=\"\",g=\"\";if(t===u.topMouseOut?(f=e,v=n,m=l(i.relatedTarget||i.toElement),m?g=a.getID(m):m=p,m=m||p):(f=p,m=e,g=n),f===m)return null;var y=o.getPooled(c.mouseLeave,v,i,s);y.type=\"mouseleave\",y.target=f,y.relatedTarget=m;var b=o.getPooled(c.mouseEnter,g,i,s);return b.type=\"mouseenter\",b.target=m,b.relatedTarget=f,r.accumulateEnterLeaveDispatches(y,b,v,g),d[0]=y,d[1]=b,d}};e.exports=p},{\"./EventConstants\":188,\"./EventPropagators\":192,\"./ReactMount\":241,\"./SyntheticMouseEvent\":275,\"fbjs/lib/keyOf\":30}],188:[function(t,e,n){\"use strict\";var i=t(\"fbjs/lib/keyMirror\"),r=i({bubbled:null,captured:null}),o=i({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:r};e.exports=a},{\"fbjs/lib/keyMirror\":29}],189:[function(t,e,n){\"use strict\";var i=t(\"./EventPluginRegistry\"),r=t(\"./EventPluginUtils\"),o=t(\"./ReactErrorUtils\"),a=t(\"./accumulateInto\"),s=t(\"./forEachAccumulated\"),u=t(\"fbjs/lib/invariant\"),l=(t(\"fbjs/lib/warning\"),{}),c=null,d=function(t,e){t&&(r.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},p=function(t){return d(t,!0)},h=function(t){return d(t,!1)},f=null,m={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(t){f=t},getInstanceHandle:function(){return f},injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:function(t,e,n){\"function\"!=typeof n?u(!1):void 0;var r=l[e]||(l[e]={});r[t]=n;var o=i.registrationNameModules[e];o&&o.didPutListener&&o.didPutListener(t,e,n)},getListener:function(t,e){var n=l[e];return n&&n[t]},deleteListener:function(t,e){var n=i.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var r=l[e];r&&delete r[t]},deleteAllListeners:function(t){for(var e in l)if(l[e][t]){var n=i.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e),delete l[e][t]}},extractEvents:function(t,e,n,r,o){for(var s,u=i.plugins,l=0;l<u.length;l++){var c=u[l];if(c){var d=c.extractEvents(t,e,n,r,o);d&&(s=a(s,d))}}return s},enqueueEvents:function(t){t&&(c=a(c,t))},processEventQueue:function(t){var e=c;c=null,t?s(e,p):s(e,h),c?u(!1):void 0,o.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};e.exports=m},{\"./EventPluginRegistry\":190,\"./EventPluginUtils\":191,\"./ReactErrorUtils\":232,\"./accumulateInto\":281,\"./forEachAccumulated\":289,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],190:[function(t,e,n){\"use strict\";function i(){if(s)for(var t in u){var e=u[t],n=s.indexOf(t);if(n>-1?void 0:a(!1),!l.plugins[n]){e.extractEvents?void 0:a(!1),l.plugins[n]=e;var i=e.eventTypes;for(var o in i)r(i[o],e,o)?void 0:a(!1)}}}function r(t,e,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,l.eventNameDispatchConfigs[n]=t;var i=t.phasedRegistrationNames;if(i){for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];o(s,e,n)}return!0}return t.registrationName?(o(t.registrationName,e,n),!0):!1}function o(t,e,n){l.registrationNameModules[t]?a(!1):void 0,l.registrationNameModules[t]=e,l.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var a=t(\"fbjs/lib/invariant\"),s=null,u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){s?a(!1):void 0,s=Array.prototype.slice.call(t),i()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];u.hasOwnProperty(n)&&u[n]===r||(u[n]?a(!1):void 0,u[n]=r,e=!0)}e&&i()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return l.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var i=l.registrationNameModules[e.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){s=null;for(var t in u)u.hasOwnProperty(t)&&delete u[t];l.plugins.length=0;var e=l.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var i=l.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};e.exports=l},{\"fbjs/lib/invariant\":26}],191:[function(t,e,n){\"use strict\";function i(t){return t===v.topMouseUp||t===v.topTouchEnd||t===v.topTouchCancel}function r(t){return t===v.topMouseMove||t===v.topTouchMove}function o(t){return t===v.topMouseDown||t===v.topTouchStart}function a(t,e,n,i){var r=t.type||\"unknown-event\";t.currentTarget=m.Mount.getNode(i),e?h.invokeGuardedCallbackWithCatch(r,n,t,i):h.invokeGuardedCallback(r,n,t,i),t.currentTarget=null}function s(t,e){var n=t._dispatchListeners,i=t._dispatchIDs;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)a(t,e,n[r],i[r]);else n&&a(t,e,n,i);t._dispatchListeners=null,t._dispatchIDs=null}function u(t){var e=t._dispatchListeners,n=t._dispatchIDs;if(Array.isArray(e)){for(var i=0;i<e.length&&!t.isPropagationStopped();i++)if(e[i](t,n[i]))return n[i]}else if(e&&e(t,n))return n;return null}function l(t){var e=u(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function c(t){var e=t._dispatchListeners,n=t._dispatchIDs;Array.isArray(e)?f(!1):void 0;var i=e?e(t,n):null;return t._dispatchListeners=null,t._dispatchIDs=null,i}function d(t){return!!t._dispatchListeners}var p=t(\"./EventConstants\"),h=t(\"./ReactErrorUtils\"),f=t(\"fbjs/lib/invariant\"),m=(t(\"fbjs/lib/warning\"),{Mount:null,injectMount:function(t){m.Mount=t}}),v=p.topLevelTypes,g={isEndish:i,isMoveish:r,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:d,getNode:function(t){return m.Mount.getNode(t)},getID:function(t){return m.Mount.getID(t)},injection:m};e.exports=g},{\"./EventConstants\":188,\"./ReactErrorUtils\":232,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],192:[function(t,e,n){\"use strict\";function i(t,e,n){var i=e.dispatchConfig.phasedRegistrationNames[n];return y(t,i)}function r(t,e,n){var r=e?g.bubbled:g.captured,o=i(t,n,r);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchIDs=m(n._dispatchIDs,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,r,t)}function a(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(t.dispatchMarker,r,t)}function s(t,e,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=y(t,i);\nr&&(n._dispatchListeners=m(n._dispatchListeners,r),n._dispatchIDs=m(n._dispatchIDs,t))}}function u(t){t&&t.dispatchConfig.registrationName&&s(t.dispatchMarker,null,t)}function l(t){v(t,o)}function c(t){v(t,a)}function d(t,e,n,i){f.injection.getInstanceHandle().traverseEnterLeave(n,i,s,t,e)}function p(t){v(t,u)}var h=t(\"./EventConstants\"),f=t(\"./EventPluginHub\"),m=(t(\"fbjs/lib/warning\"),t(\"./accumulateInto\")),v=t(\"./forEachAccumulated\"),g=h.PropagationPhases,y=f.getListener,b={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:d};e.exports=b},{\"./EventConstants\":188,\"./EventPluginHub\":189,\"./accumulateInto\":281,\"./forEachAccumulated\":289,\"fbjs/lib/warning\":37}],193:[function(t,e,n){\"use strict\";function i(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var r=t(\"./PooledClass\"),o=t(\"./Object.assign\"),a=t(\"./getTextContentAccessor\");o(i.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return\"value\"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,i=n.length,r=this.getText(),o=r.length;for(t=0;i>t&&n[t]===r[t];t++);var a=i-t;for(e=1;a>=e&&n[i-e]===r[o-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=r.slice(t,s),this._fallbackText}}),r.addPoolingTo(i),e.exports=i},{\"./Object.assign\":196,\"./PooledClass\":197,\"./getTextContentAccessor\":296}],194:[function(t,e,n){\"use strict\";var i,r=t(\"./DOMProperty\"),o=t(\"fbjs/lib/ExecutionEnvironment\"),a=r.injection.MUST_USE_ATTRIBUTE,s=r.injection.MUST_USE_PROPERTY,u=r.injection.HAS_BOOLEAN_VALUE,l=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,d=r.injection.HAS_POSITIVE_NUMERIC_VALUE,p=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var h=document.implementation;i=h&&h.hasFeature&&h.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\",\"1.1\")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\\d_.\\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|u,allowTransparency:a,alt:null,async:u,autoComplete:null,autoPlay:u,capture:a|u,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:s|u,classID:a,className:i?a:s,cols:a|d,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|u,coords:null,crossOrigin:null,data:null,dateTime:a,\"default\":u,defer:u,dir:null,disabled:a|u,download:p,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:u,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,lang:null,list:a,loop:s|u,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:s|u,muted:s|u,name:null,nonce:a,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|u,rel:null,required:u,reversed:u,role:a,rows:a|d,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:a|u,selected:s|u,shape:null,size:a|d,sizes:a,span:d,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:a,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|l,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,\"typeof\":a,vocab:a,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:a,itemScope:a|u,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:\"accept-charset\",className:\"class\",htmlFor:\"for\",httpEquiv:\"http-equiv\"},DOMPropertyNames:{autoCapitalize:\"autocapitalize\",autoComplete:\"autocomplete\",autoCorrect:\"autocorrect\",autoFocus:\"autofocus\",autoPlay:\"autoplay\",autoSave:\"autosave\",encType:\"encoding\",hrefLang:\"hreflang\",radioGroup:\"radiogroup\",spellCheck:\"spellcheck\",srcDoc:\"srcdoc\",srcSet:\"srcset\"}};e.exports=f},{\"./DOMProperty\":183,\"fbjs/lib/ExecutionEnvironment\":12}],195:[function(t,e,n){\"use strict\";function i(t){null!=t.checkedLink&&null!=t.valueLink?l(!1):void 0}function r(t){i(t),null!=t.value||null!=t.onChange?l(!1):void 0}function o(t){i(t),null!=t.checked||null!=t.onChange?l(!1):void 0}function a(t){if(t){var e=t.getName();if(e)return\" Check the render method of `\"+e+\"`.\"}return\"\"}var s=t(\"./ReactPropTypes\"),u=t(\"./ReactPropTypeLocations\"),l=t(\"fbjs/lib/invariant\"),c=(t(\"fbjs/lib/warning\"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),d={value:function(t,e,n){return!t[e]||c[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error(\"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.\")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error(\"You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.\")},onChange:s.func},p={},h={checkPropTypes:function(t,e,n){for(var i in d){if(d.hasOwnProperty(i))var r=d[i](e,i,t,u.prop);if(r instanceof Error&&!(r.message in p)){p[r.message]=!0;a(n)}}},getValue:function(t){return t.valueLink?(r(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(o(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(r(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(o(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};e.exports=h},{\"./ReactPropTypeLocations\":249,\"./ReactPropTypes\":250,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],196:[function(t,e,n){\"use strict\";function i(t,e){if(null==t)throw new TypeError(\"Object.assign target cannot be null or undefined\");for(var n=Object(t),i=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o){var a=Object(o);for(var s in a)i.call(a,s)&&(n[s]=a[s])}}return n}e.exports=i},{}],197:[function(t,e,n){\"use strict\";var i=t(\"fbjs/lib/invariant\"),r=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},o=function(t,e){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,t,e),i}return new n(t,e)},a=function(t,e,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,t,e,n),r}return new i(t,e,n)},s=function(t,e,n,i){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,t,e,n,i),o}return new r(t,e,n,i)},u=function(t,e,n,i,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,t,e,n,i,r),a}return new o(t,e,n,i,r)},l=function(t){var e=this;t instanceof e?void 0:i(!1),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=10,d=r,p=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||d,n.poolSize||(n.poolSize=c),n.release=l,n},h={addPoolingTo:p,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};e.exports=h},{\"fbjs/lib/invariant\":26}],198:[function(t,e,n){\"use strict\";var i=t(\"./ReactDOM\"),r=t(\"./ReactDOMServer\"),o=t(\"./ReactIsomorphic\"),a=t(\"./Object.assign\"),s=t(\"./deprecated\"),u={};a(u,o),a(u,{findDOMNode:s(\"findDOMNode\",\"ReactDOM\",\"react-dom\",i,i.findDOMNode),render:s(\"render\",\"ReactDOM\",\"react-dom\",i,i.render),unmountComponentAtNode:s(\"unmountComponentAtNode\",\"ReactDOM\",\"react-dom\",i,i.unmountComponentAtNode),renderToString:s(\"renderToString\",\"ReactDOMServer\",\"react-dom/server\",r,r.renderToString),renderToStaticMarkup:s(\"renderToStaticMarkup\",\"ReactDOMServer\",\"react-dom/server\",r,r.renderToStaticMarkup)}),u.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,u.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,e.exports=u},{\"./Object.assign\":196,\"./ReactDOM\":211,\"./ReactDOMServer\":221,\"./ReactIsomorphic\":239,\"./deprecated\":285}],199:[function(t,e,n){\"use strict\";var i=(t(\"./ReactInstanceMap\"),t(\"./findDOMNode\")),r=(t(\"fbjs/lib/warning\"),\"_getDOMNodeDidWarn\"),o={getDOMNode:function(){return this.constructor[r]=!0,i(this)}};e.exports=o},{\"./ReactInstanceMap\":238,\"./findDOMNode\":287,\"fbjs/lib/warning\":37}],200:[function(t,e,n){\"use strict\";function i(t){return Object.prototype.hasOwnProperty.call(t,v)||(t[v]=f++,p[t[v]]={}),p[t[v]]}var r=t(\"./EventConstants\"),o=t(\"./EventPluginHub\"),a=t(\"./EventPluginRegistry\"),s=t(\"./ReactEventEmitterMixin\"),u=t(\"./ReactPerf\"),l=t(\"./ViewportMetrics\"),c=t(\"./Object.assign\"),d=t(\"./isEventSupported\"),p={},h=!1,f=0,m={topAbort:\"abort\",topBlur:\"blur\",topCanPlay:\"canplay\",topCanPlayThrough:\"canplaythrough\",topChange:\"change\",topClick:\"click\",topCompositionEnd:\"compositionend\",topCompositionStart:\"compositionstart\",topCompositionUpdate:\"compositionupdate\",topContextMenu:\"contextmenu\",topCopy:\"copy\",topCut:\"cut\",topDoubleClick:\"dblclick\",topDrag:\"drag\",topDragEnd:\"dragend\",topDragEnter:\"dragenter\",topDragExit:\"dragexit\",topDragLeave:\"dragleave\",topDragOver:\"dragover\",topDragStart:\"dragstart\",topDrop:\"drop\",topDurationChange:\"durationchange\",topEmptied:\"emptied\",topEncrypted:\"encrypted\",topEnded:\"ended\",topError:\"error\",topFocus:\"focus\",topInput:\"input\",topKeyDown:\"keydown\",topKeyPress:\"keypress\",topKeyUp:\"keyup\",topLoadedData:\"loadeddata\",topLoadedMetadata:\"loadedmetadata\",topLoadStart:\"loadstart\",topMouseDown:\"mousedown\",topMouseMove:\"mousemove\",topMouseOut:\"mouseout\",topMouseOver:\"mouseover\",topMouseUp:\"mouseup\",topPaste:\"paste\",topPause:\"pause\",topPlay:\"play\",topPlaying:\"playing\",topProgress:\"progress\",topRateChange:\"ratechange\",topScroll:\"scroll\",topSeeked:\"seeked\",topSeeking:\"seeking\",topSelectionChange:\"selectionchange\",topStalled:\"stalled\",topSuspend:\"suspend\",topTextInput:\"textInput\",topTimeUpdate:\"timeupdate\",topTouchCancel:\"touchcancel\",topTouchEnd:\"touchend\",topTouchMove:\"touchmove\",topTouchStart:\"touchstart\",topVolumeChange:\"volumechange\",topWaiting:\"waiting\",topWheel:\"wheel\"},v=\"_reactListenersID\"+String(Math.random()).slice(2),g=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=t}},setEnabled:function(t){g.ReactEventListener&&g.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,o=i(n),s=a.registrationNameDependencies[t],u=r.topLevelTypes,l=0;l<s.length;l++){var c=s[l];o.hasOwnProperty(c)&&o[c]||(c===u.topWheel?d(\"wheel\")?g.ReactEventListener.trapBubbledEvent(u.topWheel,\"wheel\",n):d(\"mousewheel\")?g.ReactEventListener.trapBubbledEvent(u.topWheel,\"mousewheel\",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,\"DOMMouseScroll\",n):c===u.topScroll?d(\"scroll\",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,\"scroll\",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,\"scroll\",g.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(d(\"focus\",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,\"focus\",n),g.ReactEventListener.trapCapturedEvent(u.topBlur,\"blur\",n)):d(\"focusin\")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,\"focusin\",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,\"focusout\",n)),o[u.topBlur]=!0,o[u.topFocus]=!0):m.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,m[c],n),o[c]=!0)}},trapBubbledEvent:function(t,e,n){return g.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return g.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!h){var t=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(t),h=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});u.measureMethods(g,\"ReactBrowserEventEmitter\",{putListener:\"putListener\",deleteListener:\"deleteListener\"}),e.exports=g},{\"./EventConstants\":188,\"./EventPluginHub\":189,\"./EventPluginRegistry\":190,\"./Object.assign\":196,\"./ReactEventEmitterMixin\":233,\"./ReactPerf\":247,\"./ViewportMetrics\":280,\"./isEventSupported\":298}],201:[function(t,e,n){\"use strict\";function i(t){var e=\"transition\"+t+\"Timeout\",n=\"transition\"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+\" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.\");if(\"number\"!=typeof t[e])return new Error(e+\" must be a number (in milliseconds)\")}}}var r=t(\"./React\"),o=t(\"./Object.assign\"),a=t(\"./ReactTransitionGroup\"),s=t(\"./ReactCSSTransitionGroupChild\"),u=r.createClass({displayName:\"ReactCSSTransitionGroup\",propTypes:{transitionName:s.propTypes.name,transitionAppear:r.PropTypes.bool,transitionEnter:r.PropTypes.bool,transitionLeave:r.PropTypes.bool,transitionAppearTimeout:i(\"Appear\"),transitionEnterTimeout:i(\"Enter\"),transitionLeaveTimeout:i(\"Leave\")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(t){return r.createElement(s,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},t)},render:function(){return r.createElement(a,o({},this.props,{childFactory:this._wrapChild}))}});e.exports=u},{\"./Object.assign\":196,\"./React\":198,\"./ReactCSSTransitionGroupChild\":202,\"./ReactTransitionGroup\":260}],202:[function(t,e,n){\"use strict\";var i=t(\"./React\"),r=t(\"./ReactDOM\"),o=t(\"fbjs/lib/CSSCore\"),a=t(\"./ReactTransitionEvents\"),s=t(\"./onlyChild\"),u=17,l=i.createClass({displayName:\"ReactCSSTransitionGroupChild\",propTypes:{name:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.shape({enter:i.PropTypes.string,leave:i.PropTypes.string,active:i.PropTypes.string}),i.PropTypes.shape({enter:i.PropTypes.string,enterActive:i.PropTypes.string,leave:i.PropTypes.string,leaveActive:i.PropTypes.string,appear:i.PropTypes.string,appearActive:i.PropTypes.string})]).isRequired,appear:i.PropTypes.bool,enter:i.PropTypes.bool,leave:i.PropTypes.bool,appearTimeout:i.PropTypes.number,enterTimeout:i.PropTypes.number,leaveTimeout:i.PropTypes.number},transition:function(t,e,n){var i=r.findDOMNode(this);if(!i)return void(e&&e());var s=this.props.name[t]||this.props.name+\"-\"+t,u=this.props.name[t+\"Active\"]||s+\"-active\",l=null,c=function(t){t&&t.target!==i||(clearTimeout(l),o.removeClass(i,s),o.removeClass(i,u),a.removeEndEventListener(i,c),e&&e())};o.addClass(i,s),this.queueClass(u),n?(l=setTimeout(c,n),this.transitionTimeouts.push(l)):a.addEndEventListener(i,c)},queueClass:function(t){this.classNameQueue.push(t),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,u))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(o.addClass.bind(o,r.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)})},componentWillAppear:function(t){this.props.appear?this.transition(\"appear\",t,this.props.appearTimeout):t()},componentWillEnter:function(t){this.props.enter?this.transition(\"enter\",t,this.props.enterTimeout):t()},componentWillLeave:function(t){this.props.leave?this.transition(\"leave\",t,this.props.leaveTimeout):t()},render:function(){return s(this.props.children)}});e.exports=l},{\"./React\":198,\"./ReactDOM\":211,\"./ReactTransitionEvents\":259,\"./onlyChild\":300,\"fbjs/lib/CSSCore\":10}],203:[function(t,e,n){\"use strict\";function i(t,e,n){var i=void 0===t[n];null!=e&&i&&(t[n]=o(e,null))}var r=t(\"./ReactReconciler\"),o=t(\"./instantiateReactComponent\"),a=t(\"./shouldUpdateReactComponent\"),s=t(\"./traverseAllChildren\"),u=(t(\"fbjs/lib/warning\"),{instantiateChildren:function(t,e,n){if(null==t)return null;var r={};return s(t,i,r),r},updateChildren:function(t,e,n,i){if(!e&&!t)return null;var s;for(s in e)if(e.hasOwnProperty(s)){var u=t&&t[s],l=u&&u._currentElement,c=e[s];if(null!=u&&a(l,c))r.receiveComponent(u,c,n,i),e[s]=u;else{u&&r.unmountComponent(u,s);var d=o(c,null);e[s]=d}}for(s in t)!t.hasOwnProperty(s)||e&&e.hasOwnProperty(s)||r.unmountComponent(t[s]);return e},unmountChildren:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];r.unmountComponent(n)}}});e.exports=u},{\"./ReactReconciler\":252,\"./instantiateReactComponent\":297,\"./shouldUpdateReactComponent\":305,\"./traverseAllChildren\":306,\"fbjs/lib/warning\":37}],204:[function(t,e,n){\"use strict\";function i(t){return(\"\"+t).replace(_,\"//\")}function r(t,e){this.func=t,this.context=e,this.count=0}function o(t,e,n){var i=t.func,r=t.context;i.call(r,e,t.count++)}function a(t,e,n){if(null==t)return t;var i=r.getPooled(e,n);g(t,o,i),r.release(i)}function s(t,e,n,i){this.result=t,this.keyPrefix=e,this.func=n,this.context=i,this.count=0}function u(t,e,n){var r=t.result,o=t.keyPrefix,a=t.func,s=t.context,u=a.call(s,e,t.count++);Array.isArray(u)?l(u,r,n,v.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,o+(u!==e?i(u.key||\"\")+\"/\":\"\")+n)),r.push(u))}function l(t,e,n,r,o){var a=\"\";null!=n&&(a=i(n)+\"/\");var l=s.getPooled(e,a,r,o);g(t,u,l),s.release(l)}function c(t,e,n){if(null==t)return t;var i=[];return l(t,i,null,e,n),i}function d(t,e,n){return null}function p(t,e){return g(t,d,null)}function h(t){var e=[];return l(t,e,null,v.thatReturnsArgument),e}var f=t(\"./PooledClass\"),m=t(\"./ReactElement\"),v=t(\"fbjs/lib/emptyFunction\"),g=t(\"./traverseAllChildren\"),y=f.twoArgumentPooler,b=f.fourArgumentPooler,_=/\\/(?!\\/)/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(r,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,b);var x={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:p,toArray:h};e.exports=x},{\"./PooledClass\":197,\"./ReactElement\":228,\"./traverseAllChildren\":306,\"fbjs/lib/emptyFunction\":18}],205:[function(t,e,n){\"use strict\";function i(t,e){var n=w.hasOwnProperty(e)?w[e]:null;M.hasOwnProperty(e)&&(n!==_.OVERRIDE_BASE?v(!1):void 0),t.hasOwnProperty(e)&&(n!==_.DEFINE_MANY&&n!==_.DEFINE_MANY_MERGED?v(!1):void 0)}function r(t,e){if(e){\"function\"==typeof e?v(!1):void 0,p.isValidElement(e)?v(!1):void 0;var n=t.prototype;e.hasOwnProperty(b)&&E.mixins(t,e.mixins);for(var r in e)if(e.hasOwnProperty(r)&&r!==b){var o=e[r];if(i(n,r),E.hasOwnProperty(r))E[r](t,o);else{var a=w.hasOwnProperty(r),l=n.hasOwnProperty(r),c=\"function\"==typeof o,d=c&&!a&&!l&&e.autobind!==!1;if(d)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=o,n[r]=o;else if(l){var h=w[r];!a||h!==_.DEFINE_MANY_MERGED&&h!==_.DEFINE_MANY?v(!1):void 0,h===_.DEFINE_MANY_MERGED?n[r]=s(n[r],o):h===_.DEFINE_MANY&&(n[r]=u(n[r],o))}else n[r]=o}}}}function o(t,e){if(e)for(var n in e){var i=e[n];if(e.hasOwnProperty(n)){var r=n in E;r?v(!1):void 0;var o=n in t;o?v(!1):void 0,t[n]=i}}}function a(t,e){t&&e&&\"object\"==typeof t&&\"object\"==typeof e?void 0:v(!1);for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?v(!1):void 0,t[n]=e[n]);return t}function s(t,e){return function(){var n=t.apply(this,arguments),i=e.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return a(r,n),a(r,i),r}}function u(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function l(t,e){var n=e.bind(t);return n}function c(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=l(t,n)}}var d=t(\"./ReactComponent\"),p=t(\"./ReactElement\"),h=(t(\"./ReactPropTypeLocations\"),t(\"./ReactPropTypeLocationNames\"),t(\"./ReactNoopUpdateQueue\")),f=t(\"./Object.assign\"),m=t(\"fbjs/lib/emptyObject\"),v=t(\"fbjs/lib/invariant\"),g=t(\"fbjs/lib/keyMirror\"),y=t(\"fbjs/lib/keyOf\"),b=(t(\"fbjs/lib/warning\"),y({mixins:null})),_=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],w={mixins:_.DEFINE_MANY,statics:_.DEFINE_MANY,propTypes:_.DEFINE_MANY,contextTypes:_.DEFINE_MANY,childContextTypes:_.DEFINE_MANY,getDefaultProps:_.DEFINE_MANY_MERGED,getInitialState:_.DEFINE_MANY_MERGED,getChildContext:_.DEFINE_MANY_MERGED,render:_.DEFINE_ONCE,componentWillMount:_.DEFINE_MANY,componentDidMount:_.DEFINE_MANY,componentWillReceiveProps:_.DEFINE_MANY,shouldComponentUpdate:_.DEFINE_ONCE,componentWillUpdate:_.DEFINE_MANY,componentDidUpdate:_.DEFINE_MANY,componentWillUnmount:_.DEFINE_MANY,updateComponent:_.OVERRIDE_BASE},E={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)r(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=f({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=f({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=s(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=f({},t.propTypes,e)},statics:function(t,e){o(t,e)},autobind:function(){}},M={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(t,e){this.updater.enqueueSetProps(this,t),e&&this.updater.enqueueCallback(this,e)},replaceProps:function(t,e){this.updater.enqueueReplaceProps(this,t),e&&this.updater.enqueueCallback(this,e)}},S=function(){};f(S.prototype,d.prototype,M);var C={createClass:function(t){var e=function(t,e,n){this.__reactAutoBindMap&&c(this),this.props=t,this.context=e,this.refs=m,this.updater=n||h,this.state=null;var i=this.getInitialState?this.getInitialState():null;\"object\"!=typeof i||Array.isArray(i)?v(!1):void 0,this.state=i};e.prototype=new S,e.prototype.constructor=e,x.forEach(r.bind(null,e)),r(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:v(!1);for(var n in w)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){x.push(t)}}};e.exports=C},{\"./Object.assign\":196,\"./ReactComponent\":206,\"./ReactElement\":228,\"./ReactNoopUpdateQueue\":245,\"./ReactPropTypeLocationNames\":248,\"./ReactPropTypeLocations\":249,\"fbjs/lib/emptyObject\":19,\"fbjs/lib/invariant\":26,\"fbjs/lib/keyMirror\":29,\"fbjs/lib/keyOf\":30,\"fbjs/lib/warning\":37}],206:[function(t,e,n){\"use strict\";function i(t,e,n){this.props=t,this.context=e,this.refs=o,this.updater=n||r}var r=t(\"./ReactNoopUpdateQueue\"),o=(t(\"./canDefineProperty\"),t(\"fbjs/lib/emptyObject\")),a=t(\"fbjs/lib/invariant\");t(\"fbjs/lib/warning\");i.prototype.isReactComponent={},i.prototype.setState=function(t,e){\"object\"!=typeof t&&\"function\"!=typeof t&&null!=t?a(!1):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e)},i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t)};e.exports=i},{\"./ReactNoopUpdateQueue\":245,\"./canDefineProperty\":283,\"fbjs/lib/emptyObject\":19,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],207:[function(t,e,n){\"use strict\";var i=t(\"./ReactDOMIDOperations\"),r=t(\"./ReactMount\"),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:i.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){r.purgeID(t)}};e.exports=o},{\"./ReactDOMIDOperations\":216,\"./ReactMount\":241}],208:[function(t,e,n){\"use strict\";var i=t(\"fbjs/lib/invariant\"),r=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){r?i(!1):void 0,o.unmountIDFromEnvironment=t.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,o.processChildrenUpdates=t.processChildrenUpdates,r=!0}}};e.exports=o},{\"fbjs/lib/invariant\":26}],209:[function(t,e,n){\"use strict\";function i(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return\" Check the render method of `\"+n+\"`.\"}return\"\"}function r(t){}var o=t(\"./ReactComponentEnvironment\"),a=t(\"./ReactCurrentOwner\"),s=t(\"./ReactElement\"),u=t(\"./ReactInstanceMap\"),l=t(\"./ReactPerf\"),c=t(\"./ReactPropTypeLocations\"),d=(t(\"./ReactPropTypeLocationNames\"),t(\"./ReactReconciler\")),p=t(\"./ReactUpdateQueue\"),h=t(\"./Object.assign\"),f=t(\"fbjs/lib/emptyObject\"),m=t(\"fbjs/lib/invariant\"),v=t(\"./shouldUpdateReactComponent\");t(\"fbjs/lib/warning\");r.prototype.render=function(){var t=u.get(this)._currentElement.type;return t(this.props,this.context,this.updater)};var g=1,y={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(t,e,n){this._context=n,this._mountOrder=g++,this._rootNodeID=t;var i,o,a=this._processProps(this._currentElement.props),l=this._processContext(n),c=this._currentElement.type,h=\"prototype\"in c;h&&(i=new c(a,l,p)),(!h||null===i||i===!1||s.isValidElement(i))&&(o=i,i=new r(c)),i.props=a,i.context=l,i.refs=f,i.updater=p,this._instance=i,u.set(i,this);var v=i.state;void 0===v&&(i.state=v=null),\"object\"!=typeof v||Array.isArray(v)?m(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===o&&(o=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(o);var y=d.mountComponent(this._renderedComponent,t,e,this._processChildContext(n));return i.componentDidMount&&e.getReactMountReady().enqueue(i.componentDidMount,i),y},unmountComponent:function(){var t=this._instance;t.componentWillUnmount&&t.componentWillUnmount(),d.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,u.remove(t)},_maskContext:function(t){var e=null,n=this._currentElement.type,i=n.contextTypes;if(!i)return f;e={};for(var r in i)e[r]=t[r];return e},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e=this._currentElement.type,n=this._instance,i=n.getChildContext&&n.getChildContext();if(i){\"object\"!=typeof e.childContextTypes?m(!1):void 0;for(var r in i)r in e.childContextTypes?void 0:m(!1);return h({},t,i)}return t},_processProps:function(t){return t},_checkPropTypes:function(t,e,n){var r=this.getName();for(var o in t)if(t.hasOwnProperty(o)){var a;try{\"function\"!=typeof t[o]?m(!1):void 0,a=t[o](e,o,r,n)}catch(s){a=s}if(a instanceof Error){i(this);n===c.prop}}},receiveComponent:function(t,e,n){var i=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(e,i,t,r,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&d.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(t,e,n,i,r){var o,a=this._instance,s=this._context===r?a.context:this._processContext(r);e===n?o=n.props:(o=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(o,s));var u=this._processPendingState(o,s),l=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(o,u,s);l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,o,u,s,t,r)):(this._currentElement=n,this._context=r,a.props=o,a.state=u,a.context=s)},_processPendingState:function(t,e){var n=this._instance,i=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(r&&1===i.length)return i[0];for(var o=h({},r?i[0]:n.state),a=r?1:0;a<i.length;a++){var s=i[a];h(o,\"function\"==typeof s?s.call(n,o,t,e):s)}return o},_performComponentUpdate:function(t,e,n,i,r,o){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(e,n,i),this._currentElement=t,this._context=o,l.props=e,l.state=n,l.context=i,this._updateRenderedComponent(r,o),c&&r.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,i=n._currentElement,r=this._renderValidatedComponent();if(v(i,r))d.receiveComponent(n,r,t,this._processChildContext(e));else{var o=this._rootNodeID,a=n._rootNodeID;d.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(r);var s=d.mountComponent(this._renderedComponent,o,t,this._processChildContext(e));this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(t,e){o.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,e=t.render();return e},_renderValidatedComponent:function(){var t;a.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===t||t===!1||s.isValidElement(t)?void 0:m(!1),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?m(!1):void 0;var i=e.getPublicInstance(),r=n.refs===f?n.refs={}:n.refs;r[t]=i},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return t instanceof r?null:t},_instantiateReactComponent:null};l.measureMethods(y,\"ReactCompositeComponent\",{mountComponent:\"mountComponent\",updateComponent:\"updateComponent\",_renderValidatedComponent:\"_renderValidatedComponent\"});var b={Mixin:y};e.exports=b},{\"./Object.assign\":196,\"./ReactComponentEnvironment\":208,\"./ReactCurrentOwner\":210,\"./ReactElement\":228,\"./ReactInstanceMap\":238,\"./ReactPerf\":247,\"./ReactPropTypeLocationNames\":248,\"./ReactPropTypeLocations\":249,\"./ReactReconciler\":252,\"./ReactUpdateQueue\":261,\"./shouldUpdateReactComponent\":305,\"fbjs/lib/emptyObject\":19,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],210:[function(t,e,n){\"use strict\";var i={current:null};e.exports=i},{}],211:[function(t,e,n){\"use strict\";var i=t(\"./ReactCurrentOwner\"),r=t(\"./ReactDOMTextComponent\"),o=t(\"./ReactDefaultInjection\"),a=t(\"./ReactInstanceHandles\"),s=t(\"./ReactMount\"),u=t(\"./ReactPerf\"),l=t(\"./ReactReconciler\"),c=t(\"./ReactUpdates\"),d=t(\"./ReactVersion\"),p=t(\"./findDOMNode\"),h=t(\"./renderSubtreeIntoContainer\");t(\"fbjs/lib/warning\");o.inject();var f=u.measure(\"React\",\"render\",s.render),m={findDOMNode:p,render:f,unmountComponentAtNode:s.unmountComponentAtNode,version:d,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:h};\"undefined\"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&\"function\"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:i,InstanceHandles:a,Mount:s,Reconciler:l,TextComponent:r});e.exports=m},{\"./ReactCurrentOwner\":210,\"./ReactDOMTextComponent\":222,\"./ReactDefaultInjection\":225,\"./ReactInstanceHandles\":237,\"./ReactMount\":241,\"./ReactPerf\":247,\"./ReactReconciler\":252,\"./ReactUpdates\":262,\"./ReactVersion\":263,\n\"./findDOMNode\":287,\"./renderSubtreeIntoContainer\":302,\"fbjs/lib/ExecutionEnvironment\":12,\"fbjs/lib/warning\":37}],212:[function(t,e,n){\"use strict\";var i={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getNativeProps:function(t,e,n){if(!e.disabled)return e;var r={};for(var o in e)e.hasOwnProperty(o)&&!i[o]&&(r[o]=e[o]);return r}};e.exports=r},{}],213:[function(t,e,n){\"use strict\";function i(){return this}function r(){var t=this._reactInternalComponent;return!!t}function o(){}function a(t,e){var n=this._reactInternalComponent;n&&(A.enqueueSetPropsInternal(n,t),e&&A.enqueueCallbackInternal(n,e))}function s(t,e){var n=this._reactInternalComponent;n&&(A.enqueueReplacePropsInternal(n,t),e&&A.enqueueCallbackInternal(n,e))}function u(t,e){e&&(null!=e.dangerouslySetInnerHTML&&(null!=e.children?k(!1):void 0,\"object\"==typeof e.dangerouslySetInnerHTML&&H in e.dangerouslySetInnerHTML?void 0:k(!1)),null!=e.style&&\"object\"!=typeof e.style?k(!1):void 0)}function l(t,e,n,i){var r=P.findReactContainerForID(t);if(r){var o=r.nodeType===Y?r.ownerDocument:r;B(e,o)}i.getReactMountReady().enqueue(c,{id:t,registrationName:e,listener:n})}function c(){var t=this;w.putListener(t.id,t.registrationName,t.listener)}function d(){var t=this;t._rootNodeID?void 0:k(!1);var e=P.getNode(t._rootNodeID);switch(e?void 0:k(!1),t._tag){case\"iframe\":t._wrapperState.listeners=[w.trapBubbledEvent(x.topLevelTypes.topLoad,\"load\",e)];break;case\"video\":case\"audio\":t._wrapperState.listeners=[];for(var n in K)K.hasOwnProperty(n)&&t._wrapperState.listeners.push(w.trapBubbledEvent(x.topLevelTypes[n],K[n],e));break;case\"img\":t._wrapperState.listeners=[w.trapBubbledEvent(x.topLevelTypes.topError,\"error\",e),w.trapBubbledEvent(x.topLevelTypes.topLoad,\"load\",e)];break;case\"form\":t._wrapperState.listeners=[w.trapBubbledEvent(x.topLevelTypes.topReset,\"reset\",e),w.trapBubbledEvent(x.topLevelTypes.topSubmit,\"submit\",e)]}}function p(){S.mountReadyWrapper(this)}function h(){T.postUpdateWrapper(this)}function f(t){$.call(J,t)||(Q.test(t)?void 0:k(!1),J[t]=!0)}function m(t,e){return t.indexOf(\"-\")>=0||null!=e.is}function v(t){f(t),this._tag=t.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var g=t(\"./AutoFocusUtils\"),y=t(\"./CSSPropertyOperations\"),b=t(\"./DOMProperty\"),_=t(\"./DOMPropertyOperations\"),x=t(\"./EventConstants\"),w=t(\"./ReactBrowserEventEmitter\"),E=t(\"./ReactComponentBrowserEnvironment\"),M=t(\"./ReactDOMButton\"),S=t(\"./ReactDOMInput\"),C=t(\"./ReactDOMOption\"),T=t(\"./ReactDOMSelect\"),R=t(\"./ReactDOMTextarea\"),P=t(\"./ReactMount\"),I=t(\"./ReactMultiChild\"),D=t(\"./ReactPerf\"),A=t(\"./ReactUpdateQueue\"),L=t(\"./Object.assign\"),O=t(\"./canDefineProperty\"),N=t(\"./escapeTextContentForBrowser\"),k=t(\"fbjs/lib/invariant\"),j=(t(\"./isEventSupported\"),t(\"fbjs/lib/keyOf\")),z=t(\"./setInnerHTML\"),F=t(\"./setTextContent\"),U=(t(\"fbjs/lib/shallowEqual\"),t(\"./validateDOMNesting\"),t(\"fbjs/lib/warning\"),w.deleteListener),B=w.listenTo,V=w.registrationNameModules,q={string:!0,number:!0},G=j({children:null}),W=j({style:null}),H=j({__html:null}),Y=1,K={topAbort:\"abort\",topCanPlay:\"canplay\",topCanPlayThrough:\"canplaythrough\",topDurationChange:\"durationchange\",topEmptied:\"emptied\",topEncrypted:\"encrypted\",topEnded:\"ended\",topError:\"error\",topLoadedData:\"loadeddata\",topLoadedMetadata:\"loadedmetadata\",topLoadStart:\"loadstart\",topPause:\"pause\",topPlay:\"play\",topPlaying:\"playing\",topProgress:\"progress\",topRateChange:\"ratechange\",topSeeked:\"seeked\",topSeeking:\"seeking\",topStalled:\"stalled\",topSuspend:\"suspend\",topTimeUpdate:\"timeupdate\",topVolumeChange:\"volumechange\",topWaiting:\"waiting\"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Z={listing:!0,pre:!0,textarea:!0},Q=(L({menuitem:!0},X),/^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$/),J={},$={}.hasOwnProperty;v.displayName=\"ReactDOMComponent\",v.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t;var i=this._currentElement.props;switch(this._tag){case\"iframe\":case\"img\":case\"form\":case\"video\":case\"audio\":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(d,this);break;case\"button\":i=M.getNativeProps(this,i,n);break;case\"input\":S.mountWrapper(this,i,n),i=S.getNativeProps(this,i,n);break;case\"option\":C.mountWrapper(this,i,n),i=C.getNativeProps(this,i,n);break;case\"select\":T.mountWrapper(this,i,n),i=T.getNativeProps(this,i,n),n=T.processChildContext(this,i,n);break;case\"textarea\":R.mountWrapper(this,i,n),i=R.getNativeProps(this,i,n)}u(this,i);var r;if(e.useCreateElement){var o=n[P.ownerDocumentContextKey],a=o.createElement(this._currentElement.type);_.setAttributeForID(a,this._rootNodeID),P.getID(a),this._updateDOMProperties({},i,e,a),this._createInitialChildren(e,i,n,a),r=a}else{var s=this._createOpenTagMarkupAndPutListeners(e,i),l=this._createContentMarkup(e,i,n);r=!l&&X[this._tag]?s+\"/>\":s+\">\"+l+\"</\"+this._currentElement.type+\">\"}switch(this._tag){case\"input\":e.getReactMountReady().enqueue(p,this);case\"button\":case\"select\":case\"textarea\":i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this)}return r},_createOpenTagMarkupAndPutListeners:function(t,e){var n=\"<\"+this._currentElement.type;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(null!=r)if(V.hasOwnProperty(i))r&&l(this._rootNodeID,i,r,t);else{i===W&&(r&&(r=this._previousStyleCopy=L({},e.style)),r=y.createMarkupForStyles(r));var o=null;null!=this._tag&&m(this._tag,e)?i!==G&&(o=_.createMarkupForCustomAttribute(i,r)):o=_.createMarkupForProperty(i,r),o&&(n+=\" \"+o)}}if(t.renderToStaticMarkup)return n;var a=_.createMarkupForID(this._rootNodeID);return n+\" \"+a},_createContentMarkup:function(t,e,n){var i=\"\",r=e.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(i=r.__html);else{var o=q[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)i=N(o);else if(null!=a){var s=this.mountChildren(a,t,n);i=s.join(\"\")}}return Z[this._tag]&&\"\\n\"===i.charAt(0)?\"\\n\"+i:i},_createInitialChildren:function(t,e,n,i){var r=e.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&z(i,r.__html);else{var o=q[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)F(i,o);else if(null!=a)for(var s=this.mountChildren(a,t,n),u=0;u<s.length;u++)i.appendChild(s[u])}},receiveComponent:function(t,e,n){var i=this._currentElement;this._currentElement=t,this.updateComponent(e,i,t,n)},updateComponent:function(t,e,n,i){var r=e.props,o=this._currentElement.props;switch(this._tag){case\"button\":r=M.getNativeProps(this,r),o=M.getNativeProps(this,o);break;case\"input\":S.updateWrapper(this),r=S.getNativeProps(this,r),o=S.getNativeProps(this,o);break;case\"option\":r=C.getNativeProps(this,r),o=C.getNativeProps(this,o);break;case\"select\":r=T.getNativeProps(this,r),o=T.getNativeProps(this,o);break;case\"textarea\":R.updateWrapper(this),r=R.getNativeProps(this,r),o=R.getNativeProps(this,o)}u(this,o),this._updateDOMProperties(r,o,t,null),this._updateDOMChildren(r,o,t,i),!O&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=o),\"select\"===this._tag&&t.getReactMountReady().enqueue(h,this)},_updateDOMProperties:function(t,e,n,i){var r,o,a;for(r in t)if(!e.hasOwnProperty(r)&&t.hasOwnProperty(r))if(r===W){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]=\"\");this._previousStyleCopy=null}else V.hasOwnProperty(r)?t[r]&&U(this._rootNodeID,r):(b.properties[r]||b.isCustomAttribute(r))&&(i||(i=P.getNode(this._rootNodeID)),_.deleteValueForProperty(i,r));for(r in e){var u=e[r],c=r===W?this._previousStyleCopy:t[r];if(e.hasOwnProperty(r)&&u!==c)if(r===W)if(u?u=this._previousStyleCopy=L({},u):this._previousStyleCopy=null,c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]=\"\");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else V.hasOwnProperty(r)?u?l(this._rootNodeID,r,u,n):c&&U(this._rootNodeID,r):m(this._tag,e)?(i||(i=P.getNode(this._rootNodeID)),r===G&&(u=null),_.setValueForAttribute(i,r,u)):(b.properties[r]||b.isCustomAttribute(r))&&(i||(i=P.getNode(this._rootNodeID)),null!=u?_.setValueForProperty(i,r,u):_.deleteValueForProperty(i,r))}a&&(i||(i=P.getNode(this._rootNodeID)),y.setValueForStyles(i,a))},_updateDOMChildren:function(t,e,n,i){var r=q[typeof t.children]?t.children:null,o=q[typeof e.children]?e.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=null!=r?null:t.children,l=null!=o?null:e.children,c=null!=r||null!=a,d=null!=o||null!=s;null!=u&&null==l?this.updateChildren(null,n,i):c&&!d&&this.updateTextContent(\"\"),null!=o?r!==o&&this.updateTextContent(\"\"+o):null!=s?a!==s&&this.updateMarkup(\"\"+s):null!=l&&this.updateChildren(l,n,i)},unmountComponent:function(){switch(this._tag){case\"iframe\":case\"img\":case\"form\":case\"video\":case\"audio\":var t=this._wrapperState.listeners;if(t)for(var e=0;e<t.length;e++)t[e].remove();break;case\"input\":S.unmountWrapper(this);break;case\"html\":case\"head\":case\"body\":k(!1)}if(this.unmountChildren(),w.deleteAllListeners(this._rootNodeID),E.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var t=P.getNode(this._rootNodeID);t._reactInternalComponent=this,t.getDOMNode=i,t.isMounted=r,t.setState=o,t.replaceState=o,t.forceUpdate=o,t.setProps=a,t.replaceProps=s,t.props=this._currentElement.props,this._nodeWithLegacyProperties=t}return this._nodeWithLegacyProperties}},D.measureMethods(v,\"ReactDOMComponent\",{mountComponent:\"mountComponent\",updateComponent:\"updateComponent\"}),L(v.prototype,v.Mixin,I.Mixin),e.exports=v},{\"./AutoFocusUtils\":175,\"./CSSPropertyOperations\":178,\"./DOMProperty\":183,\"./DOMPropertyOperations\":184,\"./EventConstants\":188,\"./Object.assign\":196,\"./ReactBrowserEventEmitter\":200,\"./ReactComponentBrowserEnvironment\":207,\"./ReactDOMButton\":212,\"./ReactDOMInput\":217,\"./ReactDOMOption\":218,\"./ReactDOMSelect\":219,\"./ReactDOMTextarea\":223,\"./ReactMount\":241,\"./ReactMultiChild\":242,\"./ReactPerf\":247,\"./ReactUpdateQueue\":261,\"./canDefineProperty\":283,\"./escapeTextContentForBrowser\":286,\"./isEventSupported\":298,\"./setInnerHTML\":303,\"./setTextContent\":304,\"./validateDOMNesting\":307,\"fbjs/lib/invariant\":26,\"fbjs/lib/keyOf\":30,\"fbjs/lib/shallowEqual\":35,\"fbjs/lib/warning\":37}],214:[function(t,e,n){\"use strict\";function i(t){return r.createFactory(t)}var r=t(\"./ReactElement\"),o=(t(\"./ReactElementValidator\"),t(\"fbjs/lib/mapObject\")),a=o({a:\"a\",abbr:\"abbr\",address:\"address\",area:\"area\",article:\"article\",aside:\"aside\",audio:\"audio\",b:\"b\",base:\"base\",bdi:\"bdi\",bdo:\"bdo\",big:\"big\",blockquote:\"blockquote\",body:\"body\",br:\"br\",button:\"button\",canvas:\"canvas\",caption:\"caption\",cite:\"cite\",code:\"code\",col:\"col\",colgroup:\"colgroup\",data:\"data\",datalist:\"datalist\",dd:\"dd\",del:\"del\",details:\"details\",dfn:\"dfn\",dialog:\"dialog\",div:\"div\",dl:\"dl\",dt:\"dt\",em:\"em\",embed:\"embed\",fieldset:\"fieldset\",figcaption:\"figcaption\",figure:\"figure\",footer:\"footer\",form:\"form\",h1:\"h1\",h2:\"h2\",h3:\"h3\",h4:\"h4\",h5:\"h5\",h6:\"h6\",head:\"head\",header:\"header\",hgroup:\"hgroup\",hr:\"hr\",html:\"html\",i:\"i\",iframe:\"iframe\",img:\"img\",input:\"input\",ins:\"ins\",kbd:\"kbd\",keygen:\"keygen\",label:\"label\",legend:\"legend\",li:\"li\",link:\"link\",main:\"main\",map:\"map\",mark:\"mark\",menu:\"menu\",menuitem:\"menuitem\",meta:\"meta\",meter:\"meter\",nav:\"nav\",noscript:\"noscript\",object:\"object\",ol:\"ol\",optgroup:\"optgroup\",option:\"option\",output:\"output\",p:\"p\",param:\"param\",picture:\"picture\",pre:\"pre\",progress:\"progress\",q:\"q\",rp:\"rp\",rt:\"rt\",ruby:\"ruby\",s:\"s\",samp:\"samp\",script:\"script\",section:\"section\",select:\"select\",small:\"small\",source:\"source\",span:\"span\",strong:\"strong\",style:\"style\",sub:\"sub\",summary:\"summary\",sup:\"sup\",table:\"table\",tbody:\"tbody\",td:\"td\",textarea:\"textarea\",tfoot:\"tfoot\",th:\"th\",thead:\"thead\",time:\"time\",title:\"title\",tr:\"tr\",track:\"track\",u:\"u\",ul:\"ul\",\"var\":\"var\",video:\"video\",wbr:\"wbr\",circle:\"circle\",clipPath:\"clipPath\",defs:\"defs\",ellipse:\"ellipse\",g:\"g\",image:\"image\",line:\"line\",linearGradient:\"linearGradient\",mask:\"mask\",path:\"path\",pattern:\"pattern\",polygon:\"polygon\",polyline:\"polyline\",radialGradient:\"radialGradient\",rect:\"rect\",stop:\"stop\",svg:\"svg\",text:\"text\",tspan:\"tspan\"},i);e.exports=a},{\"./ReactElement\":228,\"./ReactElementValidator\":229,\"fbjs/lib/mapObject\":31}],215:[function(t,e,n){\"use strict\";var i={useCreateElement:!1};e.exports=i},{}],216:[function(t,e,n){\"use strict\";var i=t(\"./DOMChildrenOperations\"),r=t(\"./DOMPropertyOperations\"),o=t(\"./ReactMount\"),a=t(\"./ReactPerf\"),s=t(\"fbjs/lib/invariant\"),u={dangerouslySetInnerHTML:\"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.\",style:\"`style` must be set using `updateStylesByID()`.\"},l={updatePropertyByID:function(t,e,n){var i=o.getNode(t);u.hasOwnProperty(e)?s(!1):void 0,null!=n?r.setValueForProperty(i,e,n):r.deleteValueForProperty(i,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=o.getNode(t);i.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=o.getNode(t[n].parentID);i.processUpdates(t,e)}};a.measureMethods(l,\"ReactDOMIDOperations\",{dangerouslyReplaceNodeWithMarkupByID:\"dangerouslyReplaceNodeWithMarkupByID\",dangerouslyProcessChildrenUpdates:\"dangerouslyProcessChildrenUpdates\"}),e.exports=l},{\"./DOMChildrenOperations\":182,\"./DOMPropertyOperations\":184,\"./ReactMount\":241,\"./ReactPerf\":247,\"fbjs/lib/invariant\":26}],217:[function(t,e,n){\"use strict\";function i(){this._rootNodeID&&p.updateWrapper(this)}function r(t){var e=this._currentElement.props,n=a.executeOnChange(e,t);u.asap(i,this);var r=e.name;if(\"radio\"===e.type&&null!=r){for(var o=s.getNode(this._rootNodeID),l=o;l.parentNode;)l=l.parentNode;for(var p=l.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+r)+'][type=\"radio\"]'),h=0;h<p.length;h++){var f=p[h];if(f!==o&&f.form===o.form){var m=s.getID(f);m?void 0:c(!1);var v=d[m];v?void 0:c(!1),u.asap(i,v)}}}return n}var o=t(\"./ReactDOMIDOperations\"),a=t(\"./LinkedValueUtils\"),s=t(\"./ReactMount\"),u=t(\"./ReactUpdates\"),l=t(\"./Object.assign\"),c=t(\"fbjs/lib/invariant\"),d={},p={getNativeProps:function(t,e,n){var i=a.getValue(e),r=a.getChecked(e),o=l({},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=i?i:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return o},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:e.defaultChecked||!1,initialValue:null!=n?n:null,onChange:r.bind(t)}},mountReadyWrapper:function(t){d[t._rootNodeID]=t},unmountWrapper:function(t){delete d[t._rootNodeID]},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&o.updatePropertyByID(t._rootNodeID,\"checked\",n||!1);var i=a.getValue(e);null!=i&&o.updatePropertyByID(t._rootNodeID,\"value\",\"\"+i)}};e.exports=p},{\"./LinkedValueUtils\":195,\"./Object.assign\":196,\"./ReactDOMIDOperations\":216,\"./ReactMount\":241,\"./ReactUpdates\":262,\"fbjs/lib/invariant\":26}],218:[function(t,e,n){\"use strict\";var i=t(\"./ReactChildren\"),r=t(\"./ReactDOMSelect\"),o=t(\"./Object.assign\"),a=(t(\"fbjs/lib/warning\"),r.valueContextKey),s={mountWrapper:function(t,e,n){var i=n[a],r=null;if(null!=i)if(r=!1,Array.isArray(i)){for(var o=0;o<i.length;o++)if(\"\"+i[o]==\"\"+e.value){r=!0;break}}else r=\"\"+i==\"\"+e.value;t._wrapperState={selected:r}},getNativeProps:function(t,e,n){var r=o({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(r.selected=t._wrapperState.selected);var a=\"\";return i.forEach(e.children,function(t){null!=t&&(\"string\"==typeof t||\"number\"==typeof t)&&(a+=t)}),r.children=a,r}};e.exports=s},{\"./Object.assign\":196,\"./ReactChildren\":204,\"./ReactDOMSelect\":219,\"fbjs/lib/warning\":37}],219:[function(t,e,n){\"use strict\";function i(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=a.getValue(t);null!=e&&r(this,t,e)}}function r(t,e,n){var i,r,o=s.getNode(t._rootNodeID).options;if(e){for(i={},r=0;r<n.length;r++)i[\"\"+n[r]]=!0;for(r=0;r<o.length;r++){var a=i.hasOwnProperty(o[r].value);o[r].selected!==a&&(o[r].selected=a)}}else{for(i=\"\"+n,r=0;r<o.length;r++)if(o[r].value===i)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}function o(t){var e=this._currentElement.props,n=a.executeOnChange(e,t);return this._wrapperState.pendingUpdate=!0,u.asap(i,this),n}var a=t(\"./LinkedValueUtils\"),s=t(\"./ReactMount\"),u=t(\"./ReactUpdates\"),l=t(\"./Object.assign\"),c=(t(\"fbjs/lib/warning\"),\"__ReactDOMSelect_value$\"+Math.random().toString(36).slice(2)),d={valueContextKey:c,getNativeProps:function(t,e,n){return l({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=a.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,onChange:o.bind(t),wasMultiple:Boolean(e.multiple)}},processChildContext:function(t,e,n){var i=l({},n);return i[c]=t._wrapperState.initialValue,i},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var i=a.getValue(e);null!=i?(t._wrapperState.pendingUpdate=!1,r(t,Boolean(e.multiple),i)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?r(t,Boolean(e.multiple),e.defaultValue):r(t,Boolean(e.multiple),e.multiple?[]:\"\"))}};e.exports=d},{\"./LinkedValueUtils\":195,\"./Object.assign\":196,\"./ReactMount\":241,\"./ReactUpdates\":262,\"fbjs/lib/warning\":37}],220:[function(t,e,n){\"use strict\";function i(t,e,n,i){return t===n&&e===i}function r(t){var e=document.selection,n=e.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(t),r.setEndPoint(\"EndToStart\",n);var o=r.text.length,a=o+i;return{start:o,end:a}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,r=e.anchorOffset,o=e.focusNode,a=e.focusOffset,s=e.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var l=i(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=l?0:s.toString().length,d=s.cloneRange();d.selectNodeContents(t),d.setEnd(s.startContainer,s.startOffset);var p=i(d.startContainer,d.startOffset,d.endContainer,d.endOffset),h=p?0:d.toString().length,f=h+c,m=document.createRange();m.setStart(n,r),m.setEnd(o,a);var v=m.collapsed;return{start:v?f:h,end:v?h:f}}function a(t,e){var n,i,r=document.selection.createRange().duplicate();\"undefined\"==typeof e.end?(n=e.start,i=n):e.start>e.end?(n=e.end,i=e.start):(n=e.start,i=e.end),r.moveToElementText(t),r.moveStart(\"character\",n),r.setEndPoint(\"EndToStart\",r),r.moveEnd(\"character\",i-n),r.select()}function s(t,e){if(window.getSelection){var n=window.getSelection(),i=t[c()].length,r=Math.min(e.start,i),o=\"undefined\"==typeof e.end?r:Math.min(e.end,i);if(!n.extend&&r>o){var a=o;o=r,r=a}var s=l(t,r),u=l(t,o);if(s&&u){var d=document.createRange();d.setStart(s.node,s.offset),n.removeAllRanges(),r>o?(n.addRange(d),n.extend(u.node,u.offset)):(d.setEnd(u.node,u.offset),n.addRange(d))}}}var u=t(\"fbjs/lib/ExecutionEnvironment\"),l=t(\"./getNodeForCharacterOffset\"),c=t(\"./getTextContentAccessor\"),d=u.canUseDOM&&\"selection\"in document&&!(\"getSelection\"in window),p={getOffsets:d?r:o,setOffsets:d?a:s};e.exports=p},{\"./getNodeForCharacterOffset\":295,\"./getTextContentAccessor\":296,\"fbjs/lib/ExecutionEnvironment\":12}],221:[function(t,e,n){\"use strict\";var i=t(\"./ReactDefaultInjection\"),r=t(\"./ReactServerRendering\"),o=t(\"./ReactVersion\");i.inject();var a={renderToString:r.renderToString,renderToStaticMarkup:r.renderToStaticMarkup,version:o};e.exports=a},{\"./ReactDefaultInjection\":225,\"./ReactServerRendering\":256,\"./ReactVersion\":263}],222:[function(t,e,n){\"use strict\";var i=t(\"./DOMChildrenOperations\"),r=t(\"./DOMPropertyOperations\"),o=t(\"./ReactComponentBrowserEnvironment\"),a=t(\"./ReactMount\"),s=t(\"./Object.assign\"),u=t(\"./escapeTextContentForBrowser\"),l=t(\"./setTextContent\"),c=(t(\"./validateDOMNesting\"),function(t){});s(c.prototype,{construct:function(t){this._currentElement=t,this._stringText=\"\"+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){if(this._rootNodeID=t,e.useCreateElement){var i=n[a.ownerDocumentContextKey],o=i.createElement(\"span\");return r.setAttributeForID(o,t),a.getID(o),l(o,this._stringText),o}var s=u(this._stringText);return e.renderToStaticMarkup?s:\"<span \"+r.createMarkupForID(t)+\">\"+s+\"</span>\"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=\"\"+t;if(n!==this._stringText){this._stringText=n;var r=a.getNode(this._rootNodeID);i.updateTextContent(r,n)}}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=c},{\"./DOMChildrenOperations\":182,\"./DOMPropertyOperations\":184,\"./Object.assign\":196,\"./ReactComponentBrowserEnvironment\":207,\"./ReactMount\":241,\"./escapeTextContentForBrowser\":286,\"./setTextContent\":304,\"./validateDOMNesting\":307}],223:[function(t,e,n){\"use strict\";function i(){this._rootNodeID&&c.updateWrapper(this)}function r(t){var e=this._currentElement.props,n=o.executeOnChange(e,t);return s.asap(i,this),n}var o=t(\"./LinkedValueUtils\"),a=t(\"./ReactDOMIDOperations\"),s=t(\"./ReactUpdates\"),u=t(\"./Object.assign\"),l=t(\"fbjs/lib/invariant\"),c=(t(\"fbjs/lib/warning\"),{getNativeProps:function(t,e,n){null!=e.dangerouslySetInnerHTML?l(!1):void 0;var i=u({},e,{defaultValue:void 0,value:void 0,children:t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return i},mountWrapper:function(t,e){var n=e.defaultValue,i=e.children;null!=i&&(null!=n?l(!1):void 0,Array.isArray(i)&&(i.length<=1?void 0:l(!1),i=i[0]),n=\"\"+i),null==n&&(n=\"\");var a=o.getValue(e);t._wrapperState={initialValue:\"\"+(null!=a?a:n),onChange:r.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=o.getValue(e);null!=n&&a.updatePropertyByID(t._rootNodeID,\"value\",\"\"+n)}});e.exports=c},{\"./LinkedValueUtils\":195,\"./Object.assign\":196,\"./ReactDOMIDOperations\":216,\"./ReactUpdates\":262,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],224:[function(t,e,n){\"use strict\";function i(){this.reinitializeTransaction()}var r=t(\"./ReactUpdates\"),o=t(\"./Transaction\"),a=t(\"./Object.assign\"),s=t(\"fbjs/lib/emptyFunction\"),u={initialize:s,close:function(){p.isBatchingUpdates=!1}},l={initialize:s,close:r.flushBatchedUpdates.bind(r)},c=[l,u];a(i.prototype,o.Mixin,{getTransactionWrappers:function(){return c}});var d=new i,p={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,i,r,o){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?t(e,n,i,r,o):d.perform(t,null,e,n,i,r,o)}};e.exports=p},{\"./Object.assign\":196,\"./ReactUpdates\":262,\"./Transaction\":279,\"fbjs/lib/emptyFunction\":18}],225:[function(t,e,n){\"use strict\";function i(){if(!S){S=!0,g.EventEmitter.injectReactEventListener(v),g.EventPluginHub.injectEventPluginOrder(s),g.EventPluginHub.injectInstanceHandle(y),g.EventPluginHub.injectMount(b),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:o,SelectEventPlugin:x,BeforeInputEventPlugin:r}),g.NativeComponent.injectGenericComponentClass(f),g.NativeComponent.injectTextComponentClass(m),g.Class.injectMixin(d),g.DOMProperty.injectDOMPropertyConfig(c),g.DOMProperty.injectDOMPropertyConfig(M),g.EmptyComponent.injectEmptyComponent(\"noscript\"),g.Updates.injectReconcileTransaction(_),g.Updates.injectBatchingStrategy(h),g.RootIndex.injectCreateReactRootIndex(l.canUseDOM?a.createReactRootIndex:w.createReactRootIndex),g.Component.injectEnvironment(p)}}var r=t(\"./BeforeInputEventPlugin\"),o=t(\"./ChangeEventPlugin\"),a=t(\"./ClientReactRootIndex\"),s=t(\"./DefaultEventPluginOrder\"),u=t(\"./EnterLeaveEventPlugin\"),l=t(\"fbjs/lib/ExecutionEnvironment\"),c=t(\"./HTMLDOMPropertyConfig\"),d=t(\"./ReactBrowserComponentMixin\"),p=t(\"./ReactComponentBrowserEnvironment\"),h=t(\"./ReactDefaultBatchingStrategy\"),f=t(\"./ReactDOMComponent\"),m=t(\"./ReactDOMTextComponent\"),v=t(\"./ReactEventListener\"),g=t(\"./ReactInjection\"),y=t(\"./ReactInstanceHandles\"),b=t(\"./ReactMount\"),_=t(\"./ReactReconcileTransaction\"),x=t(\"./SelectEventPlugin\"),w=t(\"./ServerReactRootIndex\"),E=t(\"./SimpleEventPlugin\"),M=t(\"./SVGDOMPropertyConfig\"),S=!1;e.exports={inject:i}},{\"./BeforeInputEventPlugin\":176,\"./ChangeEventPlugin\":180,\"./ClientReactRootIndex\":181,\"./DefaultEventPluginOrder\":186,\"./EnterLeaveEventPlugin\":187,\"./HTMLDOMPropertyConfig\":194,\"./ReactBrowserComponentMixin\":199,\"./ReactComponentBrowserEnvironment\":207,\"./ReactDOMComponent\":213,\"./ReactDOMTextComponent\":222,\"./ReactDefaultBatchingStrategy\":224,\"./ReactDefaultPerf\":226,\"./ReactEventListener\":234,\"./ReactInjection\":235,\"./ReactInstanceHandles\":237,\"./ReactMount\":241,\"./ReactReconcileTransaction\":251,\"./SVGDOMPropertyConfig\":264,\"./SelectEventPlugin\":265,\"./ServerReactRootIndex\":266,\"./SimpleEventPlugin\":267,\"fbjs/lib/ExecutionEnvironment\":12}],226:[function(t,e,n){\"use strict\";function i(t){return Math.floor(100*t)/100}function r(t,e,n){t[e]=(t[e]||0)+n}var o=t(\"./DOMProperty\"),a=t(\"./ReactDefaultPerfAnalysis\"),s=t(\"./ReactMount\"),u=t(\"./ReactPerf\"),l=t(\"fbjs/lib/performanceNow\"),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||u.injection.injectMeasure(c.measure),c._allMeasurements.length=0,u.enableMeasure=!0},stop:function(){u.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(t){t=t||c._allMeasurements;var e=a.getExclusiveSummary(t);console.table(e.map(function(t){return{\"Component class name\":t.componentName,\"Total inclusive time (ms)\":i(t.inclusive),\"Exclusive mount time (ms)\":i(t.exclusive),\"Exclusive render time (ms)\":i(t.render),\"Mount time per instance (ms)\":i(t.exclusive/t.count),\"Render time per instance (ms)\":i(t.render/t.count),Instances:t.count}}))},printInclusive:function(t){t=t||c._allMeasurements;var e=a.getInclusiveSummary(t);console.table(e.map(function(t){return{\"Owner > component\":t.componentName,\"Inclusive time (ms)\":i(t.time),Instances:t.count}})),console.log(\"Total time:\",a.getTotalTime(t).toFixed(2)+\" ms\")},getMeasurementsSummaryMap:function(t){var e=a.getInclusiveSummary(t,!0);return e.map(function(t){return{\"Owner > component\":t.componentName,\"Wasted time (ms)\":t.time,Instances:t.count}})},printWasted:function(t){t=t||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(t)),console.log(\"Total time:\",a.getTotalTime(t).toFixed(2)+\" ms\")},printDOM:function(t){t=t||c._allMeasurements;var e=a.getDOMSummary(t);console.table(e.map(function(t){var e={};return e[o.ID_ATTRIBUTE_NAME]=t.id,e.type=t.type,e.args=JSON.stringify(t.args),e})),console.log(\"Total time:\",a.getTotalTime(t).toFixed(2)+\" ms\")},_recordWrite:function(t,e,n,i){var r=c._allMeasurements[c._allMeasurements.length-1].writes;r[t]=r[t]||[],r[t].push({type:e,time:n,args:i})},measure:function(t,e,n){return function(){for(var i=arguments.length,o=Array(i),a=0;i>a;a++)o[a]=arguments[a];var u,d,p;if(\"_renderNewRootComponent\"===e||\"flushBatchedUpdates\"===e)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),p=l(),d=n.apply(this,o),c._allMeasurements[c._allMeasurements.length-1].totalTime=l()-p,d;if(\"_mountImageIntoNode\"===e||\"ReactBrowserEventEmitter\"===t||\"ReactDOMIDOperations\"===t||\"CSSPropertyOperations\"===t||\"DOMChildrenOperations\"===t||\"DOMPropertyOperations\"===t){if(p=l(),d=n.apply(this,o),u=l()-p,\"_mountImageIntoNode\"===e){var h=s.getID(o[1]);c._recordWrite(h,e,u,o[0])}else if(\"dangerouslyProcessChildrenUpdates\"===e)o[0].forEach(function(t){var e={};null!==t.fromIndex&&(e.fromIndex=t.fromIndex),null!==t.toIndex&&(e.toIndex=t.toIndex),null!==t.textContent&&(e.textContent=t.textContent),null!==t.markupIndex&&(e.markup=o[1][t.markupIndex]),c._recordWrite(t.parentID,t.type,u,e)});else{var f=o[0];\"object\"==typeof f&&(f=s.getID(o[0])),c._recordWrite(f,e,u,Array.prototype.slice.call(o,1))}return d}if(\"ReactCompositeComponent\"!==t||\"mountComponent\"!==e&&\"updateComponent\"!==e&&\"_renderValidatedComponent\"!==e)return n.apply(this,o);if(this._currentElement.type===s.TopLevelWrapper)return n.apply(this,o);var m=\"mountComponent\"===e?o[0]:this._rootNodeID,v=\"_renderValidatedComponent\"===e,g=\"mountComponent\"===e,y=c._mountStack,b=c._allMeasurements[c._allMeasurements.length-1];if(v?r(b.counts,m,1):g&&(b.created[m]=!0,y.push(0)),p=l(),d=n.apply(this,o),u=l()-p,v)r(b.render,m,u);else if(g){var _=y.pop();y[y.length-1]+=u,r(b.exclusive,m,u-_),r(b.inclusive,m,u)}else r(b.inclusive,m,u);return b.displayNames[m]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():\"<root>\"},d}}};e.exports=c},{\"./DOMProperty\":183,\"./ReactDefaultPerfAnalysis\":227,\"./ReactMount\":241,\"./ReactPerf\":247,\"fbjs/lib/performanceNow\":34}],227:[function(t,e,n){\"use strict\";function i(t){for(var e=0,n=0;n<t.length;n++){var i=t[n];e+=i.totalTime}return e}function r(t){var e=[];return t.forEach(function(t){Object.keys(t.writes).forEach(function(n){t.writes[n].forEach(function(t){e.push({id:n,type:c[t.type]||t.type,args:t.args})})})}),e}function o(t){for(var e,n={},i=0;i<t.length;i++){var r=t[i],o=u({},r.exclusive,r.inclusive);for(var a in o)e=r.displayNames[a].current,n[e]=n[e]||{componentName:e,inclusive:0,exclusive:0,render:0,count:0},r.render[a]&&(n[e].render+=r.render[a]),r.exclusive[a]&&(n[e].exclusive+=r.exclusive[a]),r.inclusive[a]&&(n[e].inclusive+=r.inclusive[a]),r.counts[a]&&(n[e].count+=r.counts[a])}var s=[];for(e in n)n[e].exclusive>=l&&s.push(n[e]);return s.sort(function(t,e){return e.exclusive-t.exclusive}),s}function a(t,e){for(var n,i={},r=0;r<t.length;r++){var o,a=t[r],c=u({},a.exclusive,a.inclusive);e&&(o=s(a));for(var d in c)if(!e||o[d]){var p=a.displayNames[d];n=p.owner+\" > \"+p.current,i[n]=i[n]||{componentName:n,time:0,count:0},a.inclusive[d]&&(i[n].time+=a.inclusive[d]),a.counts[d]&&(i[n].count+=a.counts[d])}}var h=[];for(n in i)i[n].time>=l&&h.push(i[n]);return h.sort(function(t,e){return e.time-t.time}),h}function s(t){var e={},n=Object.keys(t.writes),i=u({},t.exclusive,t.inclusive);for(var r in i){for(var o=!1,a=0;a<n.length;a++)if(0===n[a].indexOf(r)){o=!0;break}t.created[r]&&(o=!0),!o&&t.counts[r]>0&&(e[r]=!0)}return e}var u=t(\"./Object.assign\"),l=1.2,c={_mountImageIntoNode:\"set innerHTML\",INSERT_MARKUP:\"set innerHTML\",MOVE_EXISTING:\"move\",REMOVE_NODE:\"remove\",SET_MARKUP:\"set innerHTML\",TEXT_CONTENT:\"set textContent\",setValueForProperty:\"update attribute\",setValueForAttribute:\"update attribute\",deleteValueForProperty:\"remove attribute\",dangerouslyReplaceNodeWithMarkupByID:\"replace\"},d={getExclusiveSummary:o,getInclusiveSummary:a,getDOMSummary:r,getTotalTime:i};e.exports=d},{\"./Object.assign\":196}],228:[function(t,e,n){\"use strict\";var i=t(\"./ReactCurrentOwner\"),r=t(\"./Object.assign\"),o=(t(\"./canDefineProperty\"),\"function\"==typeof Symbol&&Symbol[\"for\"]&&Symbol[\"for\"](\"react.element\")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},s=function(t,e,n,i,r,a,s){var u={$$typeof:o,type:t,key:e,ref:n,props:s,_owner:a};return u};s.createElement=function(t,e,n){var r,o={},u=null,l=null,c=null,d=null;if(null!=e){l=void 0===e.ref?null:e.ref,u=void 0===e.key?null:\"\"+e.key,c=void 0===e.__self?null:e.__self,d=void 0===e.__source?null:e.__source;for(r in e)e.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(o[r]=e[r])}var p=arguments.length-2;if(1===p)o.children=n;else if(p>1){for(var h=Array(p),f=0;p>f;f++)h[f]=arguments[f+2];o.children=h}if(t&&t.defaultProps){var m=t.defaultProps;for(r in m)\"undefined\"==typeof o[r]&&(o[r]=m[r])}return s(t,u,l,c,d,i.current,o)},s.createFactory=function(t){var e=s.createElement.bind(null,t);return e.type=t,e},s.cloneAndReplaceKey=function(t,e){\nvar n=s(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},s.cloneAndReplaceProps=function(t,e){var n=s(t.type,t.key,t.ref,t._self,t._source,t._owner,e);return n},s.cloneElement=function(t,e,n){var o,u=r({},t.props),l=t.key,c=t.ref,d=t._self,p=t._source,h=t._owner;if(null!=e){void 0!==e.ref&&(c=e.ref,h=i.current),void 0!==e.key&&(l=\"\"+e.key);for(o in e)e.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(u[o]=e[o])}var f=arguments.length-2;if(1===f)u.children=n;else if(f>1){for(var m=Array(f),v=0;f>v;v++)m[v]=arguments[v+2];u.children=m}return s(t.type,l,c,d,p,h,u)},s.isValidElement=function(t){return\"object\"==typeof t&&null!==t&&t.$$typeof===o},e.exports=s},{\"./Object.assign\":196,\"./ReactCurrentOwner\":210,\"./canDefineProperty\":283}],229:[function(t,e,n){\"use strict\";function i(){if(d.current){var t=d.current.getName();if(t)return\" Check the render method of `\"+t+\"`.\"}return\"\"}function r(t,e){if(t._store&&!t._store.validated&&null==t.key){t._store.validated=!0;o(\"uniqueKey\",t,e)}}function o(t,e,n){var r=i();if(!r){var o=\"string\"==typeof n?n:n.displayName||n.name;o&&(r=\" Check the top-level render call using <\"+o+\">.\")}var a=f[t]||(f[t]={});if(a[r])return null;a[r]=!0;var s={parentOrOwner:r,url:\" See https://fb.me/react-warning-keys for more information.\",childOwner:null};return e&&e._owner&&e._owner!==d.current&&(s.childOwner=\" It was passed a child from \"+e._owner.getName()+\".\"),s}function a(t,e){if(\"object\"==typeof t)if(Array.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];l.isValidElement(i)&&r(i,e)}else if(l.isValidElement(t))t._store&&(t._store.validated=!0);else if(t){var o=p(t);if(o&&o!==t.entries)for(var a,s=o.call(t);!(a=s.next()).done;)l.isValidElement(a.value)&&r(a.value,e)}}function s(t,e,n,r){for(var o in e)if(e.hasOwnProperty(o)){var a;try{\"function\"!=typeof e[o]?h(!1):void 0,a=e[o](n,o,t,r)}catch(s){a=s}if(a instanceof Error&&!(a.message in m)){m[a.message]=!0;i()}}}function u(t){var e=t.type;if(\"function\"==typeof e){var n=e.displayName||e.name;e.propTypes&&s(n,e.propTypes,t.props,c.prop),\"function\"==typeof e.getDefaultProps}}var l=t(\"./ReactElement\"),c=t(\"./ReactPropTypeLocations\"),d=(t(\"./ReactPropTypeLocationNames\"),t(\"./ReactCurrentOwner\")),p=(t(\"./canDefineProperty\"),t(\"./getIteratorFn\")),h=t(\"fbjs/lib/invariant\"),f=(t(\"fbjs/lib/warning\"),{}),m={},v={createElement:function(t,e,n){var i=\"string\"==typeof t||\"function\"==typeof t,r=l.createElement.apply(this,arguments);if(null==r)return r;if(i)for(var o=2;o<arguments.length;o++)a(arguments[o],t);return u(r),r},createFactory:function(t){var e=v.createElement.bind(null,t);return e.type=t,e},cloneElement:function(t,e,n){for(var i=l.cloneElement.apply(this,arguments),r=2;r<arguments.length;r++)a(arguments[r],i.type);return u(i),i}};e.exports=v},{\"./ReactCurrentOwner\":210,\"./ReactElement\":228,\"./ReactPropTypeLocationNames\":248,\"./ReactPropTypeLocations\":249,\"./canDefineProperty\":283,\"./getIteratorFn\":294,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],230:[function(t,e,n){\"use strict\";var i,r=t(\"./ReactElement\"),o=t(\"./ReactEmptyComponentRegistry\"),a=t(\"./ReactReconciler\"),s=t(\"./Object.assign\"),u={injectEmptyComponent:function(t){i=r.createElement(t)}},l=function(t){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=t(i)};s(l.prototype,{construct:function(t){},mountComponent:function(t,e,n){return o.registerNullComponentID(t),this._rootNodeID=t,a.mountComponent(this._renderedComponent,t,e,n)},receiveComponent:function(){},unmountComponent:function(t,e,n){a.unmountComponent(this._renderedComponent),o.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=u,e.exports=l},{\"./Object.assign\":196,\"./ReactElement\":228,\"./ReactEmptyComponentRegistry\":231,\"./ReactReconciler\":252}],231:[function(t,e,n){\"use strict\";function i(t){return!!a[t]}function r(t){a[t]=!0}function o(t){delete a[t]}var a={},s={isNullComponentID:i,registerNullComponentID:r,deregisterNullComponentID:o};e.exports=s},{}],232:[function(t,e,n){\"use strict\";function i(t,e,n,i){try{return e(n,i)}catch(o){return void(null===r&&(r=o))}}var r=null,o={invokeGuardedCallback:i,invokeGuardedCallbackWithCatch:i,rethrowCaughtError:function(){if(r){var t=r;throw r=null,t}}};e.exports=o},{}],233:[function(t,e,n){\"use strict\";function i(t){r.enqueueEvents(t),r.processEventQueue(!1)}var r=t(\"./EventPluginHub\"),o={handleTopLevel:function(t,e,n,o,a){var s=r.extractEvents(t,e,n,o,a);i(s)}};e.exports=o},{\"./EventPluginHub\":189}],234:[function(t,e,n){\"use strict\";function i(t){var e=p.getID(t),n=d.getReactRootIDFromNodeID(e),i=p.findReactContainerForID(n),r=p.getFirstReactDOM(i);return r}function r(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){a(t)}function a(t){for(var e=p.getFirstReactDOM(m(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=i(n);for(var r=0;r<t.ancestors.length;r++){e=t.ancestors[r];var o=p.getID(e)||\"\";g._handleTopLevel(t.topLevelType,e,o,t.nativeEvent,m(t.nativeEvent))}}function s(t){var e=v(window);t(e)}var u=t(\"fbjs/lib/EventListener\"),l=t(\"fbjs/lib/ExecutionEnvironment\"),c=t(\"./PooledClass\"),d=t(\"./ReactInstanceHandles\"),p=t(\"./ReactMount\"),h=t(\"./ReactUpdates\"),f=t(\"./Object.assign\"),m=t(\"./getEventTarget\"),v=t(\"fbjs/lib/getUnboundedScrollPosition\");f(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(t){g._handleTopLevel=t},setEnabled:function(t){g._enabled=!!t},isEnabled:function(){return g._enabled},trapBubbledEvent:function(t,e,n){var i=n;return i?u.listen(i,e,g.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var i=n;return i?u.capture(i,e,g.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=s.bind(null,t);u.listen(window,\"scroll\",e)},dispatchEvent:function(t,e){if(g._enabled){var n=r.getPooled(t,e);try{h.batchedUpdates(o,n)}finally{r.release(n)}}}};e.exports=g},{\"./Object.assign\":196,\"./PooledClass\":197,\"./ReactInstanceHandles\":237,\"./ReactMount\":241,\"./ReactUpdates\":262,\"./getEventTarget\":293,\"fbjs/lib/EventListener\":11,\"fbjs/lib/ExecutionEnvironment\":12,\"fbjs/lib/getUnboundedScrollPosition\":23}],235:[function(t,e,n){\"use strict\";var i=t(\"./DOMProperty\"),r=t(\"./EventPluginHub\"),o=t(\"./ReactComponentEnvironment\"),a=t(\"./ReactClass\"),s=t(\"./ReactEmptyComponent\"),u=t(\"./ReactBrowserEventEmitter\"),l=t(\"./ReactNativeComponent\"),c=t(\"./ReactPerf\"),d=t(\"./ReactRootIndex\"),p=t(\"./ReactUpdates\"),h={Component:o.injection,Class:a.injection,DOMProperty:i.injection,EmptyComponent:s.injection,EventPluginHub:r.injection,EventEmitter:u.injection,NativeComponent:l.injection,Perf:c.injection,RootIndex:d.injection,Updates:p.injection};e.exports=h},{\"./DOMProperty\":183,\"./EventPluginHub\":189,\"./ReactBrowserEventEmitter\":200,\"./ReactClass\":205,\"./ReactComponentEnvironment\":208,\"./ReactEmptyComponent\":230,\"./ReactNativeComponent\":244,\"./ReactPerf\":247,\"./ReactRootIndex\":254,\"./ReactUpdates\":262}],236:[function(t,e,n){\"use strict\";function i(t){return o(document.documentElement,t)}var r=t(\"./ReactDOMSelection\"),o=t(\"fbjs/lib/containsNode\"),a=t(\"fbjs/lib/focusNode\"),s=t(\"fbjs/lib/getActiveElement\"),u={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(\"input\"===e&&\"text\"===t.type||\"textarea\"===e||\"true\"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:u.hasSelectionCapabilities(t)?u.getSelection(t):null}},restoreSelection:function(t){var e=s(),n=t.focusedElem,r=t.selectionRange;e!==n&&i(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,r),a(n))},getSelection:function(t){var e;if(\"selectionStart\"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&\"input\"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart(\"character\",-t.value.length),end:-n.moveEnd(\"character\",-t.value.length)})}else e=r.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,i=e.end;if(\"undefined\"==typeof i&&(i=n),\"selectionStart\"in t)t.selectionStart=n,t.selectionEnd=Math.min(i,t.value.length);else if(document.selection&&t.nodeName&&\"input\"===t.nodeName.toLowerCase()){var o=t.createTextRange();o.collapse(!0),o.moveStart(\"character\",n),o.moveEnd(\"character\",i-n),o.select()}else r.setOffsets(t,e)}};e.exports=u},{\"./ReactDOMSelection\":220,\"fbjs/lib/containsNode\":15,\"fbjs/lib/focusNode\":20,\"fbjs/lib/getActiveElement\":21}],237:[function(t,e,n){\"use strict\";function i(t){return h+t.toString(36)}function r(t,e){return t.charAt(e)===h||e===t.length}function o(t){return\"\"===t||t.charAt(0)===h&&t.charAt(t.length-1)!==h}function a(t,e){return 0===e.indexOf(t)&&r(e,t.length)}function s(t){return t?t.substr(0,t.lastIndexOf(h)):\"\"}function u(t,e){if(o(t)&&o(e)?void 0:p(!1),a(t,e)?void 0:p(!1),t===e)return t;var n,i=t.length+f;for(n=i;n<e.length&&!r(e,n);n++);return e.substr(0,n)}function l(t,e){var n=Math.min(t.length,e.length);if(0===n)return\"\";for(var i=0,a=0;n>=a;a++)if(r(t,a)&&r(e,a))i=a;else if(t.charAt(a)!==e.charAt(a))break;var s=t.substr(0,i);return o(s)?void 0:p(!1),s}function c(t,e,n,i,r,o){t=t||\"\",e=e||\"\",t===e?p(!1):void 0;var l=a(e,t);l||a(t,e)?void 0:p(!1);for(var c=0,d=l?s:u,h=t;;h=d(h,e)){var f;if(r&&h===t||o&&h===e||(f=n(h,l,i)),f===!1||h===e)break;c++<m?void 0:p(!1)}}var d=t(\"./ReactRootIndex\"),p=t(\"fbjs/lib/invariant\"),h=\".\",f=h.length,m=1e4,v={createReactRootID:function(){return i(d.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===h&&t.length>1){var e=t.indexOf(h,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,i,r){var o=l(t,e);o!==t&&c(t,o,n,i,!1,!0),o!==e&&c(o,e,n,r,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(c(\"\",t,e,n,!0,!1),c(t,\"\",e,n,!1,!0))},traverseTwoPhaseSkipTarget:function(t,e,n){t&&(c(\"\",t,e,n,!0,!0),c(t,\"\",e,n,!0,!0))},traverseAncestors:function(t,e,n){c(\"\",t,e,n,!0,!1)},getFirstCommonAncestorID:l,_getNextDescendantID:u,isAncestorIDOf:a,SEPARATOR:h};e.exports=v},{\"./ReactRootIndex\":254,\"fbjs/lib/invariant\":26}],238:[function(t,e,n){\"use strict\";var i={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};e.exports=i},{}],239:[function(t,e,n){\"use strict\";var i=t(\"./ReactChildren\"),r=t(\"./ReactComponent\"),o=t(\"./ReactClass\"),a=t(\"./ReactDOMFactories\"),s=t(\"./ReactElement\"),u=(t(\"./ReactElementValidator\"),t(\"./ReactPropTypes\")),l=t(\"./ReactVersion\"),c=t(\"./Object.assign\"),d=t(\"./onlyChild\"),p=s.createElement,h=s.createFactory,f=s.cloneElement,m={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:d},Component:r,createElement:p,cloneElement:f,isValidElement:s.isValidElement,PropTypes:u,createClass:o.createClass,createFactory:h,createMixin:function(t){return t},DOM:a,version:l,__spread:c};e.exports=m},{\"./Object.assign\":196,\"./ReactChildren\":204,\"./ReactClass\":205,\"./ReactComponent\":206,\"./ReactDOMFactories\":214,\"./ReactElement\":228,\"./ReactElementValidator\":229,\"./ReactPropTypes\":250,\"./ReactVersion\":263,\"./onlyChild\":300}],240:[function(t,e,n){\"use strict\";var i=t(\"./adler32\"),r=/\\/?>/,o={CHECKSUM_ATTR_NAME:\"data-react-checksum\",addChecksumToMarkup:function(t){var e=i(t);return t.replace(r,\" \"+o.CHECKSUM_ATTR_NAME+'=\"'+e+'\"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var r=i(t);return r===n}};e.exports=o},{\"./adler32\":282}],241:[function(t,e,n){\"use strict\";function i(t,e){for(var n=Math.min(t.length,e.length),i=0;n>i;i++)if(t.charAt(i)!==e.charAt(i))return i;return t.length===e.length?-1:n}function r(t){return t?t.nodeType===V?t.documentElement:t.firstChild:null}function o(t){var e=r(t);return e&&Z.getID(e)}function a(t){var e=s(t);if(e)if(U.hasOwnProperty(e)){var n=U[e];n!==t&&(d(n,e)?k(!1):void 0,U[e]=t)}else U[e]=t;return e}function s(t){return t&&t.getAttribute&&t.getAttribute(F)||\"\"}function u(t,e){var n=s(t);n!==e&&delete U[n],t.setAttribute(F,e),U[e]=t}function l(t){return U.hasOwnProperty(t)&&d(U[t],t)||(U[t]=Z.findReactNodeByID(t)),U[t]}function c(t){var e=C.get(t)._rootNodeID;return M.isNullComponentID(e)?null:(U.hasOwnProperty(e)&&d(U[e],e)||(U[e]=Z.findReactNodeByID(e)),U[e])}function d(t,e){if(t){s(t)!==e?k(!1):void 0;var n=Z.findReactContainerForID(e);if(n&&O(n,t))return!0}return!1}function p(t){delete U[t]}function h(t){var e=U[t];return e&&d(e,t)?void(K=e):!1}function f(t){K=null,S.traverseAncestors(t,h);var e=K;return K=null,e}function m(t,e,n,i,r,o){w.useCreateElement&&(o=A({},o),n.nodeType===V?o[G]=n:o[G]=n.ownerDocument);var a=P.mountComponent(t,e,i,o);t._renderedComponent._topLevelWrapper=t,Z._mountImageIntoNode(a,n,r,i)}function v(t,e,n,i,r){var o=D.ReactReconcileTransaction.getPooled(i);o.perform(m,null,t,e,n,o,i,r),D.ReactReconcileTransaction.release(o)}function g(t,e){for(P.unmountComponent(t),e.nodeType===V&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function y(t){var e=o(t);return e?e!==S.getReactRootIDFromNodeID(e):!1}function b(t){for(;t&&t.parentNode!==t;t=t.parentNode)if(1===t.nodeType){var e=s(t);if(e){var n,i=S.getReactRootIDFromNodeID(e),r=t;do if(n=s(r),r=r.parentNode,null==r)return null;while(n!==i);if(r===H[i])return t}}return null}var _=t(\"./DOMProperty\"),x=t(\"./ReactBrowserEventEmitter\"),w=(t(\"./ReactCurrentOwner\"),t(\"./ReactDOMFeatureFlags\")),E=t(\"./ReactElement\"),M=t(\"./ReactEmptyComponentRegistry\"),S=t(\"./ReactInstanceHandles\"),C=t(\"./ReactInstanceMap\"),T=t(\"./ReactMarkupChecksum\"),R=t(\"./ReactPerf\"),P=t(\"./ReactReconciler\"),I=t(\"./ReactUpdateQueue\"),D=t(\"./ReactUpdates\"),A=t(\"./Object.assign\"),L=t(\"fbjs/lib/emptyObject\"),O=t(\"fbjs/lib/containsNode\"),N=t(\"./instantiateReactComponent\"),k=t(\"fbjs/lib/invariant\"),j=t(\"./setInnerHTML\"),z=t(\"./shouldUpdateReactComponent\"),F=(t(\"./validateDOMNesting\"),t(\"fbjs/lib/warning\"),_.ID_ATTRIBUTE_NAME),U={},B=1,V=9,q=11,G=\"__ReactMount_ownerDocument$\"+Math.random().toString(36).slice(2),W={},H={},Y=[],K=null,X=function(){};X.prototype.isReactComponent={},X.prototype.render=function(){return this.props};var Z={TopLevelWrapper:X,_instancesByReactRootID:W,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,i){return Z.scrollMonitor(n,function(){I.enqueueElementInternal(t,e),i&&I.enqueueCallbackInternal(t,i)}),t},_registerComponent:function(t,e){!e||e.nodeType!==B&&e.nodeType!==V&&e.nodeType!==q?k(!1):void 0,x.ensureScrollValueMonitoring();var n=Z.registerContainer(e);return W[n]=t,n},_renderNewRootComponent:function(t,e,n,i){var r=N(t,null),o=Z._registerComponent(r,e);return D.batchedUpdates(v,r,o,e,n,i),r},renderSubtreeIntoContainer:function(t,e,n,i){return null==t||null==t._reactInternalInstance?k(!1):void 0,Z._renderSubtreeIntoContainer(t,e,n,i)},_renderSubtreeIntoContainer:function(t,e,n,i){E.isValidElement(e)?void 0:k(!1);var a=new E(X,null,null,null,null,null,e),u=W[o(n)];if(u){var l=u._currentElement,c=l.props;if(z(c,e)){var d=u._renderedComponent.getPublicInstance(),p=i&&function(){i.call(d)};return Z._updateRootComponent(u,a,n,p),d}Z.unmountComponentAtNode(n)}var h=r(n),f=h&&!!s(h),m=y(n),v=f&&!u&&!m,g=Z._renderNewRootComponent(a,n,v,null!=t?t._reactInternalInstance._processChildContext(t._reactInternalInstance._context):L)._renderedComponent.getPublicInstance();return i&&i.call(g),g},render:function(t,e,n){return Z._renderSubtreeIntoContainer(null,t,e,n)},registerContainer:function(t){var e=o(t);return e&&(e=S.getReactRootIDFromNodeID(e)),e||(e=S.createReactRootID()),H[e]=t,e},unmountComponentAtNode:function(t){!t||t.nodeType!==B&&t.nodeType!==V&&t.nodeType!==q?k(!1):void 0;var e=o(t),n=W[e];if(!n){var i=(y(t),s(t));i&&i===S.getReactRootIDFromNodeID(i);return!1}return D.batchedUpdates(g,n,t),delete W[e],delete H[e],!0},findReactContainerForID:function(t){var e=S.getReactRootIDFromNodeID(t),n=H[e];return n},findReactNodeByID:function(t){var e=Z.findReactContainerForID(t);return Z.findComponentRoot(e,t)},getFirstReactDOM:function(t){return b(t)},findComponentRoot:function(t,e){var n=Y,i=0,r=f(e)||t;for(n[0]=r.firstChild,n.length=1;i<n.length;){for(var o,a=n[i++];a;){var s=Z.getID(a);s?e===s?o=a:S.isAncestorIDOf(s,e)&&(n.length=i=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,k(!1)},_mountImageIntoNode:function(t,e,n,o){if(!e||e.nodeType!==B&&e.nodeType!==V&&e.nodeType!==q?k(!1):void 0,n){var a=r(e);if(T.canReuseMarkup(t,a))return;var s=a.getAttribute(T.CHECKSUM_ATTR_NAME);a.removeAttribute(T.CHECKSUM_ATTR_NAME);var u=a.outerHTML;a.setAttribute(T.CHECKSUM_ATTR_NAME,s);var l=t,c=i(l,u);\" (client) \"+l.substring(c-20,c+20)+\"\\n (server) \"+u.substring(c-20,c+20);e.nodeType===V?k(!1):void 0}if(e.nodeType===V?k(!1):void 0,o.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(t)}else j(e,t)},ownerDocumentContextKey:G,getReactRootID:o,getID:a,setID:u,getNode:l,getNodeFromInstance:c,isValid:d,purgeID:p};R.measureMethods(Z,\"ReactMount\",{_renderNewRootComponent:\"_renderNewRootComponent\",_mountImageIntoNode:\"_mountImageIntoNode\"}),e.exports=Z},{\"./DOMProperty\":183,\"./Object.assign\":196,\"./ReactBrowserEventEmitter\":200,\"./ReactCurrentOwner\":210,\"./ReactDOMFeatureFlags\":215,\"./ReactElement\":228,\"./ReactEmptyComponentRegistry\":231,\"./ReactInstanceHandles\":237,\"./ReactInstanceMap\":238,\"./ReactMarkupChecksum\":240,\"./ReactPerf\":247,\"./ReactReconciler\":252,\"./ReactUpdateQueue\":261,\"./ReactUpdates\":262,\"./instantiateReactComponent\":297,\"./setInnerHTML\":303,\"./shouldUpdateReactComponent\":305,\"./validateDOMNesting\":307,\"fbjs/lib/containsNode\":15,\"fbjs/lib/emptyObject\":19,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],242:[function(t,e,n){\"use strict\";function i(t,e,n){v.push({parentID:t,parentNode:null,type:d.INSERT_MARKUP,markupIndex:g.push(e)-1,content:null,fromIndex:null,toIndex:n})}function r(t,e,n){v.push({parentID:t,parentNode:null,type:d.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:e,toIndex:n})}function o(t,e){v.push({parentID:t,parentNode:null,type:d.REMOVE_NODE,markupIndex:null,content:null,fromIndex:e,toIndex:null})}function a(t,e){v.push({parentID:t,parentNode:null,type:d.SET_MARKUP,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function s(t,e){v.push({parentID:t,parentNode:null,type:d.TEXT_CONTENT,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function u(){v.length&&(c.processChildrenUpdates(v,g),l())}function l(){v.length=0,g.length=0}var c=t(\"./ReactComponentEnvironment\"),d=t(\"./ReactMultiChildUpdateTypes\"),p=(t(\"./ReactCurrentOwner\"),t(\"./ReactReconciler\")),h=t(\"./ReactChildReconciler\"),f=t(\"./flattenChildren\"),m=0,v=[],g=[],y={Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return h.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,i){var r;return r=f(e),h.updateChildren(t,r,n,i)},mountChildren:function(t,e,n){var i=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=i;var r=[],o=0;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],u=this._rootNodeID+a,l=p.mountComponent(s,u,e,n);s._mountIndex=o++,r.push(l)}return r},updateTextContent:function(t){m++;var e=!0;try{var n=this._renderedChildren;h.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChild(n[i]);this.setTextContent(t),e=!1}finally{m--,m||(e?l():u())}},updateMarkup:function(t){m++;var e=!0;try{var n=this._renderedChildren;h.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setMarkup(t),e=!1}finally{m--,m||(e?l():u())}},updateChildren:function(t,e,n){m++;var i=!0;try{this._updateChildren(t,e,n),i=!1}finally{m--,m||(i?l():u())}},_updateChildren:function(t,e,n){var i=this._renderedChildren,r=this._reconcilerUpdateChildren(i,t,e,n);if(this._renderedChildren=r,r||i){var o,a=0,s=0;for(o in r)if(r.hasOwnProperty(o)){var u=i&&i[o],l=r[o];u===l?(this.moveChild(u,s,a),a=Math.max(u._mountIndex,a),u._mountIndex=s):(u&&(a=Math.max(u._mountIndex,a),this._unmountChild(u)),this._mountChildByNameAtIndex(l,o,s,e,n)),s++}for(o in i)!i.hasOwnProperty(o)||r&&r.hasOwnProperty(o)||this._unmountChild(i[o])}},unmountChildren:function(){var t=this._renderedChildren;h.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&r(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){i(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){o(this._rootNodeID,t._mountIndex)},setTextContent:function(t){s(this._rootNodeID,t)},setMarkup:function(t){a(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,i,r){var o=this._rootNodeID+e,a=p.mountComponent(t,o,i,r);t._mountIndex=n,this.createChild(t,a)},_unmountChild:function(t){this.removeChild(t),t._mountIndex=null}}};e.exports=y},{\"./ReactChildReconciler\":203,\"./ReactComponentEnvironment\":208,\"./ReactCurrentOwner\":210,\"./ReactMultiChildUpdateTypes\":243,\"./ReactReconciler\":252,\"./flattenChildren\":288}],243:[function(t,e,n){\"use strict\";var i=t(\"fbjs/lib/keyMirror\"),r=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=r},{\"fbjs/lib/keyMirror\":29}],244:[function(t,e,n){\"use strict\";function i(t){if(\"function\"==typeof t.type)return t.type;var e=t.type,n=d[e];return null==n&&(d[e]=n=l(e)),n}function r(t){return c?void 0:u(!1),new c(t.type,t.props)}function o(t){return new p(t)}function a(t){return t instanceof p}var s=t(\"./Object.assign\"),u=t(\"fbjs/lib/invariant\"),l=null,c=null,d={},p=null,h={injectGenericComponentClass:function(t){c=t},injectTextComponentClass:function(t){p=t},injectComponentClasses:function(t){s(d,t)}},f={getComponentClassForElement:i,createInternalComponent:r,createInstanceForText:o,isTextComponent:a,injection:h};e.exports=f},{\"./Object.assign\":196,\"fbjs/lib/invariant\":26}],245:[function(t,e,n){\"use strict\";function i(t,e){}var r=(t(\"fbjs/lib/warning\"),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){i(t,\"forceUpdate\")},enqueueReplaceState:function(t,e){i(t,\"replaceState\")},enqueueSetState:function(t,e){i(t,\"setState\")},enqueueSetProps:function(t,e){i(t,\"setProps\")},enqueueReplaceProps:function(t,e){i(t,\"replaceProps\")}});e.exports=r},{\"fbjs/lib/warning\":37}],246:[function(t,e,n){\"use strict\";var i=t(\"fbjs/lib/invariant\"),r={isValidOwner:function(t){return!(!t||\"function\"!=typeof t.attachRef||\"function\"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){r.isValidOwner(n)?void 0:i(!1),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){r.isValidOwner(n)?void 0:i(!1),n.getPublicInstance().refs[e]===t.getPublicInstance()&&n.detachRef(e)}};e.exports=r},{\"fbjs/lib/invariant\":26}],247:[function(t,e,n){\"use strict\";function i(t,e,n){return n}var r={enableMeasure:!1,storedMeasure:i,measureMethods:function(t,e,n){},measure:function(t,e,n){return n},injection:{injectMeasure:function(t){r.storedMeasure=t}}};e.exports=r},{}],248:[function(t,e,n){\"use strict\";var i={};e.exports=i},{}],249:[function(t,e,n){\"use strict\";var i=t(\"fbjs/lib/keyMirror\"),r=i({prop:null,context:null,childContext:null});e.exports=r},{\"fbjs/lib/keyMirror\":29}],250:[function(t,e,n){\"use strict\";function i(t){function e(e,n,i,r,o,a){if(r=r||w,a=a||i,null==n[i]){var s=b[o];return e?new Error(\"Required \"+s+\" `\"+a+\"` was not specified in \"+(\"`\"+r+\"`.\")):null}return t(n,i,r,o,a)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function r(t){function e(e,n,i,r,o){var a=e[n],s=m(a);if(s!==t){var u=b[r],l=v(a);return new Error(\"Invalid \"+u+\" `\"+o+\"` of type \"+(\"`\"+l+\"` supplied to `\"+i+\"`, expected \")+(\"`\"+t+\"`.\"))}return null}return i(e)}function o(){return i(_.thatReturns(null))}function a(t){function e(e,n,i,r,o){var a=e[n];if(!Array.isArray(a)){var s=b[r],u=m(a);return new Error(\"Invalid \"+s+\" `\"+o+\"` of type \"+(\"`\"+u+\"` supplied to `\"+i+\"`, expected an array.\"))}for(var l=0;l<a.length;l++){var c=t(a,l,i,r,o+\"[\"+l+\"]\");if(c instanceof Error)return c}return null}return i(e)}function s(){function t(t,e,n,i,r){if(!y.isValidElement(t[e])){var o=b[i];return new Error(\"Invalid \"+o+\" `\"+r+\"` supplied to \"+(\"`\"+n+\"`, expected a single ReactElement.\"))}return null}return i(t)}function u(t){function e(e,n,i,r,o){if(!(e[n]instanceof t)){var a=b[r],s=t.name||w,u=g(e[n]);return new Error(\"Invalid \"+a+\" `\"+o+\"` of type \"+(\"`\"+u+\"` supplied to `\"+i+\"`, expected \")+(\"instance of `\"+s+\"`.\"))}return null}return i(e)}function l(t){function e(e,n,i,r,o){for(var a=e[n],s=0;s<t.length;s++)if(a===t[s])return null;var u=b[r],l=JSON.stringify(t);return new Error(\"Invalid \"+u+\" `\"+o+\"` of value `\"+a+\"` \"+(\"supplied to `\"+i+\"`, expected one of \"+l+\".\"))}return i(Array.isArray(t)?e:function(){return new Error(\"Invalid argument supplied to oneOf, expected an instance of array.\")})}function c(t){function e(e,n,i,r,o){var a=e[n],s=m(a);if(\"object\"!==s){var u=b[r];return new Error(\"Invalid \"+u+\" `\"+o+\"` of type \"+(\"`\"+s+\"` supplied to `\"+i+\"`, expected an object.\"))}for(var l in a)if(a.hasOwnProperty(l)){var c=t(a,l,i,r,o+\".\"+l);if(c instanceof Error)return c}return null}return i(e)}function d(t){function e(e,n,i,r,o){for(var a=0;a<t.length;a++){var s=t[a];if(null==s(e,n,i,r,o))return null}var u=b[r];return new Error(\"Invalid \"+u+\" `\"+o+\"` supplied to \"+(\"`\"+i+\"`.\"))}return i(Array.isArray(t)?e:function(){return new Error(\"Invalid argument supplied to oneOfType, expected an instance of array.\")})}function p(){function t(t,e,n,i,r){if(!f(t[e])){var o=b[i];return new Error(\"Invalid \"+o+\" `\"+r+\"` supplied to \"+(\"`\"+n+\"`, expected a ReactNode.\"))}return null}return i(t)}function h(t){function e(e,n,i,r,o){var a=e[n],s=m(a);if(\"object\"!==s){var u=b[r];return new Error(\"Invalid \"+u+\" `\"+o+\"` of type `\"+s+\"` \"+(\"supplied to `\"+i+\"`, expected `object`.\"))}for(var l in t){var c=t[l];if(c){var d=c(a,l,i,r,o+\".\"+l);if(d)return d}}return null}return i(e)}function f(t){switch(typeof t){case\"number\":case\"string\":case\"undefined\":return!0;case\"boolean\":return!t;case\"object\":if(Array.isArray(t))return t.every(f);if(null===t||y.isValidElement(t))return!0;var e=x(t);if(!e)return!1;var n,i=e.call(t);if(e!==t.entries){for(;!(n=i.next()).done;)if(!f(n.value))return!1}else for(;!(n=i.next()).done;){var r=n.value;if(r&&!f(r[1]))return!1}return!0;default:return!1}}function m(t){var e=typeof t;return Array.isArray(t)?\"array\":t instanceof RegExp?\"object\":e}function v(t){var e=m(t);if(\"object\"===e){if(t instanceof Date)return\"date\";if(t instanceof RegExp)return\"regexp\"}return e}function g(t){return t.constructor&&t.constructor.name?t.constructor.name:\"<<anonymous>>\"}var y=t(\"./ReactElement\"),b=t(\"./ReactPropTypeLocationNames\"),_=t(\"fbjs/lib/emptyFunction\"),x=t(\"./getIteratorFn\"),w=\"<<anonymous>>\",E={array:r(\"array\"),bool:r(\"boolean\"),func:r(\"function\"),number:r(\"number\"),object:r(\"object\"),string:r(\"string\"),any:o(),arrayOf:a,element:s(),instanceOf:u,node:p(),objectOf:c,oneOf:l,oneOfType:d,shape:h};e.exports=E},{\"./ReactElement\":228,\"./ReactPropTypeLocationNames\":248,\"./getIteratorFn\":294,\"fbjs/lib/emptyFunction\":18}],251:[function(t,e,n){\"use strict\";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.useCreateElement=!t&&s.useCreateElement}var r=t(\"./CallbackQueue\"),o=t(\"./PooledClass\"),a=t(\"./ReactBrowserEventEmitter\"),s=t(\"./ReactDOMFeatureFlags\"),u=t(\"./ReactInputSelection\"),l=t(\"./Transaction\"),c=t(\"./Object.assign\"),d={initialize:u.getSelectionInformation,close:u.restoreSelection},p={initialize:function(){var t=a.isEnabled();return a.setEnabled(!1),t},close:function(t){a.setEnabled(t)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[d,p,h],m={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};c(i.prototype,l.Mixin,m),o.addPoolingTo(i),e.exports=i},{\"./CallbackQueue\":179,\"./Object.assign\":196,\"./PooledClass\":197,\"./ReactBrowserEventEmitter\":200,\"./ReactDOMFeatureFlags\":215,\"./ReactInputSelection\":236,\"./Transaction\":279}],252:[function(t,e,n){\"use strict\";function i(){r.attachRefs(this,this._currentElement)}var r=t(\"./ReactRef\"),o={mountComponent:function(t,e,n,r){var o=t.mountComponent(e,n,r);return t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t),o},unmountComponent:function(t){r.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,e,n,o){var a=t._currentElement;if(e!==a||o!==t._context){var s=r.shouldUpdateRefs(a,e);s&&r.detachRefs(t,a),t.receiveComponent(e,n,o),s&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};e.exports=o},{\"./ReactRef\":253}],253:[function(t,e,n){\"use strict\";function i(t,e,n){\"function\"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function r(t,e,n){\"function\"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=t(\"./ReactOwner\"),a={};a.attachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&i(n,t,e._owner)}},a.shouldUpdateRefs=function(t,e){var n=null===t||t===!1,i=null===e||e===!1;return n||i||e._owner!==t._owner||e.ref!==t.ref},a.detachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&r(n,t,e._owner)}},e.exports=a},{\"./ReactOwner\":246}],254:[function(t,e,n){\"use strict\";var i={injectCreateReactRootIndex:function(t){r.createReactRootIndex=t}},r={createReactRootIndex:null,injection:i};e.exports=r},{}],255:[function(t,e,n){\"use strict\";var i={isBatchingUpdates:!1,batchedUpdates:function(t){}};e.exports=i},{}],256:[function(t,e,n){\"use strict\";function i(t){a.isValidElement(t)?void 0:f(!1);var e;try{d.injection.injectBatchingStrategy(l);var n=s.createReactRootID();return e=c.getPooled(!1),e.perform(function(){var i=h(t,null),r=i.mountComponent(n,e,p);return u.addChecksumToMarkup(r)},null)}finally{c.release(e),d.injection.injectBatchingStrategy(o)}}function r(t){a.isValidElement(t)?void 0:f(!1);var e;try{d.injection.injectBatchingStrategy(l);var n=s.createReactRootID();return e=c.getPooled(!0),e.perform(function(){var i=h(t,null);return i.mountComponent(n,e,p)},null)}finally{c.release(e),d.injection.injectBatchingStrategy(o)}}var o=t(\"./ReactDefaultBatchingStrategy\"),a=t(\"./ReactElement\"),s=t(\"./ReactInstanceHandles\"),u=t(\"./ReactMarkupChecksum\"),l=t(\"./ReactServerBatchingStrategy\"),c=t(\"./ReactServerRenderingTransaction\"),d=t(\"./ReactUpdates\"),p=t(\"fbjs/lib/emptyObject\"),h=t(\"./instantiateReactComponent\"),f=t(\"fbjs/lib/invariant\");e.exports={renderToString:i,renderToStaticMarkup:r}},{\"./ReactDefaultBatchingStrategy\":224,\"./ReactElement\":228,\"./ReactInstanceHandles\":237,\"./ReactMarkupChecksum\":240,\"./ReactServerBatchingStrategy\":255,\"./ReactServerRenderingTransaction\":257,\"./ReactUpdates\":262,\"./instantiateReactComponent\":297,\"fbjs/lib/emptyObject\":19,\"fbjs/lib/invariant\":26}],257:[function(t,e,n){\"use strict\";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=o.getPooled(null),this.useCreateElement=!1}var r=t(\"./PooledClass\"),o=t(\"./CallbackQueue\"),a=t(\"./Transaction\"),s=t(\"./Object.assign\"),u=t(\"fbjs/lib/emptyFunction\"),l={initialize:function(){this.reactMountReady.reset()},close:u},c=[l],d={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};s(i.prototype,a.Mixin,d),r.addPoolingTo(i),e.exports=i},{\"./CallbackQueue\":179,\"./Object.assign\":196,\"./PooledClass\":197,\"./Transaction\":279,\"fbjs/lib/emptyFunction\":18}],258:[function(t,e,n){\"use strict\";var i=t(\"./flattenChildren\"),r={getChildMapping:function(t){return t?i(t):t},mergeChildMappings:function(t,e){function n(n){\nreturn e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var i={},r=[];for(var o in t)e.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var a,s={};for(var u in e){if(i.hasOwnProperty(u))for(a=0;a<i[u].length;a++){var l=i[u][a];s[i[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s}};e.exports=r},{\"./flattenChildren\":288}],259:[function(t,e,n){\"use strict\";function i(){var t=document.createElement(\"div\"),e=t.style;\"AnimationEvent\"in window||delete s.animationend.animation,\"TransitionEvent\"in window||delete s.transitionend.transition;for(var n in s){var i=s[n];for(var r in i)if(r in e){u.push(i[r]);break}}}function r(t,e,n){t.addEventListener(e,n,!1)}function o(t,e,n){t.removeEventListener(e,n,!1)}var a=t(\"fbjs/lib/ExecutionEnvironment\"),s={transitionend:{transition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"mozTransitionEnd\",OTransition:\"oTransitionEnd\",msTransition:\"MSTransitionEnd\"},animationend:{animation:\"animationend\",WebkitAnimation:\"webkitAnimationEnd\",MozAnimation:\"mozAnimationEnd\",OAnimation:\"oAnimationEnd\",msAnimation:\"MSAnimationEnd\"}},u=[];a.canUseDOM&&i();var l={addEndEventListener:function(t,e){return 0===u.length?void window.setTimeout(e,0):void u.forEach(function(n){r(t,n,e)})},removeEndEventListener:function(t,e){0!==u.length&&u.forEach(function(n){o(t,n,e)})}};e.exports=l},{\"fbjs/lib/ExecutionEnvironment\":12}],260:[function(t,e,n){\"use strict\";var i=t(\"./React\"),r=t(\"./ReactTransitionChildMapping\"),o=t(\"./Object.assign\"),a=t(\"fbjs/lib/emptyFunction\"),s=i.createClass({displayName:\"ReactTransitionGroup\",propTypes:{component:i.PropTypes.any,childFactory:i.PropTypes.func},getDefaultProps:function(){return{component:\"span\",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e)},componentWillReceiveProps:function(t){var e=r.getChildMapping(t.children),n=this.state.children;this.setState({children:r.mergeChildMappings(n,e)});var i;for(i in e){var o=n&&n.hasOwnProperty(i);!e[i]||o||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in n){var a=e&&e.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},componentDidUpdate:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performAppear:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillAppear?e.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)},_handleDoneAppearing:function(t){var e=this.refs[t];e.componentDidAppear&&e.componentDidAppear(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performEnter:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillEnter?e.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)},_handleDoneEntering:function(t){var e=this.refs[t];e.componentDidEnter&&e.componentDidEnter(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performLeave:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillLeave?e.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)},_handleDoneLeaving:function(t){var e=this.refs[t];e.componentDidLeave&&e.componentDidLeave(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)?this.performEnter(t):this.setState(function(e){var n=o({},e.children);return delete n[t],{children:n}})},render:function(){var t=[];for(var e in this.state.children){var n=this.state.children[e];n&&t.push(i.cloneElement(this.props.childFactory(n),{ref:e,key:e}))}return i.createElement(this.props.component,this.props,t)}});e.exports=s},{\"./Object.assign\":196,\"./React\":198,\"./ReactTransitionChildMapping\":258,\"fbjs/lib/emptyFunction\":18}],261:[function(t,e,n){\"use strict\";function i(t){s.enqueueUpdate(t)}function r(t,e){var n=a.get(t);return n?n:null}var o=(t(\"./ReactCurrentOwner\"),t(\"./ReactElement\")),a=t(\"./ReactInstanceMap\"),s=t(\"./ReactUpdates\"),u=t(\"./Object.assign\"),l=t(\"fbjs/lib/invariant\"),c=(t(\"fbjs/lib/warning\"),{isMounted:function(t){var e=a.get(t);return e?!!e._renderedComponent:!1},enqueueCallback:function(t,e){\"function\"!=typeof e?l(!1):void 0;var n=r(t);return n?(n._pendingCallbacks?n._pendingCallbacks.push(e):n._pendingCallbacks=[e],void i(n)):null},enqueueCallbackInternal:function(t,e){\"function\"!=typeof e?l(!1):void 0,t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],i(t)},enqueueForceUpdate:function(t){var e=r(t,\"forceUpdate\");e&&(e._pendingForceUpdate=!0,i(e))},enqueueReplaceState:function(t,e){var n=r(t,\"replaceState\");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,i(n))},enqueueSetState:function(t,e){var n=r(t,\"setState\");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(e),i(n)}},enqueueSetProps:function(t,e){var n=r(t,\"setProps\");n&&c.enqueueSetPropsInternal(n,e)},enqueueSetPropsInternal:function(t,e){var n=t._topLevelWrapper;n?void 0:l(!1);var r=n._pendingElement||n._currentElement,a=r.props,s=u({},a.props,e);n._pendingElement=o.cloneAndReplaceProps(r,o.cloneAndReplaceProps(a,s)),i(n)},enqueueReplaceProps:function(t,e){var n=r(t,\"replaceProps\");n&&c.enqueueReplacePropsInternal(n,e)},enqueueReplacePropsInternal:function(t,e){var n=t._topLevelWrapper;n?void 0:l(!1);var r=n._pendingElement||n._currentElement,a=r.props;n._pendingElement=o.cloneAndReplaceProps(r,o.cloneAndReplaceProps(a,e)),i(n)},enqueueElementInternal:function(t,e){t._pendingElement=e,i(t)}});e.exports=c},{\"./Object.assign\":196,\"./ReactCurrentOwner\":210,\"./ReactElement\":228,\"./ReactInstanceMap\":238,\"./ReactUpdates\":262,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],262:[function(t,e,n){\"use strict\";function i(){C.ReactReconcileTransaction&&_?void 0:v(!1)}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled(!1)}function o(t,e,n,r,o,a){i(),_.batchedUpdates(t,e,n,r,o,a)}function a(t,e){return t._mountOrder-e._mountOrder}function s(t){var e=t.dirtyComponentsLength;e!==g.length?v(!1):void 0,g.sort(a);for(var n=0;e>n;n++){var i=g[n],r=i._pendingCallbacks;if(i._pendingCallbacks=null,h.performUpdateIfNecessary(i,t.reconcileTransaction),r)for(var o=0;o<r.length;o++)t.callbackQueue.enqueue(r[o],i.getPublicInstance())}}function u(t){return i(),_.isBatchingUpdates?void g.push(t):void _.batchedUpdates(u,t)}function l(t,e){_.isBatchingUpdates?void 0:v(!1),y.enqueue(t,e),b=!0}var c=t(\"./CallbackQueue\"),d=t(\"./PooledClass\"),p=t(\"./ReactPerf\"),h=t(\"./ReactReconciler\"),f=t(\"./Transaction\"),m=t(\"./Object.assign\"),v=t(\"fbjs/lib/invariant\"),g=[],y=c.getPooled(),b=!1,_=null,x={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),M()):g.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[x,w];m(r.prototype,f.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),d.addPoolingTo(r);var M=function(){for(;g.length||b;){if(g.length){var t=r.getPooled();t.perform(s,null,t),r.release(t)}if(b){b=!1;var e=y;y=c.getPooled(),e.notifyAll(),c.release(e)}}};M=p.measure(\"ReactUpdates\",\"flushBatchedUpdates\",M);var S={injectReconcileTransaction:function(t){t?void 0:v(!1),C.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:v(!1),\"function\"!=typeof t.batchedUpdates?v(!1):void 0,\"boolean\"!=typeof t.isBatchingUpdates?v(!1):void 0,_=t}},C={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:M,injection:S,asap:l};e.exports=C},{\"./CallbackQueue\":179,\"./Object.assign\":196,\"./PooledClass\":197,\"./ReactPerf\":247,\"./ReactReconciler\":252,\"./Transaction\":279,\"fbjs/lib/invariant\":26}],263:[function(t,e,n){\"use strict\";e.exports=\"0.14.3\"},{}],264:[function(t,e,n){\"use strict\";var i=t(\"./DOMProperty\"),r=i.injection.MUST_USE_ATTRIBUTE,o={xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\"},a={Properties:{clipPath:r,cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:r,xmlLang:r,xmlSpace:r,y1:r,y2:r,y:r},DOMAttributeNamespaces:{xlinkActuate:o.xlink,xlinkArcrole:o.xlink,xlinkHref:o.xlink,xlinkRole:o.xlink,xlinkShow:o.xlink,xlinkTitle:o.xlink,xlinkType:o.xlink,xmlBase:o.xml,xmlLang:o.xml,xmlSpace:o.xml},DOMAttributeNames:{clipPath:\"clip-path\",fillOpacity:\"fill-opacity\",fontFamily:\"font-family\",fontSize:\"font-size\",gradientTransform:\"gradientTransform\",gradientUnits:\"gradientUnits\",markerEnd:\"marker-end\",markerMid:\"marker-mid\",markerStart:\"marker-start\",patternContentUnits:\"patternContentUnits\",patternUnits:\"patternUnits\",preserveAspectRatio:\"preserveAspectRatio\",spreadMethod:\"spreadMethod\",stopColor:\"stop-color\",stopOpacity:\"stop-opacity\",strokeDasharray:\"stroke-dasharray\",strokeLinecap:\"stroke-linecap\",strokeOpacity:\"stroke-opacity\",strokeWidth:\"stroke-width\",textAnchor:\"text-anchor\",viewBox:\"viewBox\",xlinkActuate:\"xlink:actuate\",xlinkArcrole:\"xlink:arcrole\",xlinkHref:\"xlink:href\",xlinkRole:\"xlink:role\",xlinkShow:\"xlink:show\",xlinkTitle:\"xlink:title\",xlinkType:\"xlink:type\",xmlBase:\"xml:base\",xmlLang:\"xml:lang\",xmlSpace:\"xml:space\"}};e.exports=a},{\"./DOMProperty\":183}],265:[function(t,e,n){\"use strict\";function i(t){if(\"selectionStart\"in t&&u.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(t,e){if(_||null==g||g!==c())return null;var n=i(g);if(!b||!h(b,n)){b=n;var r=l.getPooled(v.select,y,t,e);return r.type=\"select\",r.target=g,a.accumulateTwoPhaseDispatches(r),r}return null}var o=t(\"./EventConstants\"),a=t(\"./EventPropagators\"),s=t(\"fbjs/lib/ExecutionEnvironment\"),u=t(\"./ReactInputSelection\"),l=t(\"./SyntheticEvent\"),c=t(\"fbjs/lib/getActiveElement\"),d=t(\"./isTextInputElement\"),p=t(\"fbjs/lib/keyOf\"),h=t(\"fbjs/lib/shallowEqual\"),f=o.topLevelTypes,m=s.canUseDOM&&\"documentMode\"in document&&document.documentMode<=11,v={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},g=null,y=null,b=null,_=!1,x=!1,w=p({onSelect:null}),E={eventTypes:v,extractEvents:function(t,e,n,i,o){if(!x)return null;switch(t){case f.topFocus:(d(e)||\"true\"===e.contentEditable)&&(g=e,y=n,b=null);break;case f.topBlur:g=null,y=null,b=null;break;case f.topMouseDown:_=!0;break;case f.topContextMenu:case f.topMouseUp:return _=!1,r(i,o);case f.topSelectionChange:if(m)break;case f.topKeyDown:case f.topKeyUp:return r(i,o)}return null},didPutListener:function(t,e,n){e===w&&(x=!0)}};e.exports=E},{\"./EventConstants\":188,\"./EventPropagators\":192,\"./ReactInputSelection\":236,\"./SyntheticEvent\":271,\"./isTextInputElement\":299,\"fbjs/lib/ExecutionEnvironment\":12,\"fbjs/lib/getActiveElement\":21,\"fbjs/lib/keyOf\":30,\"fbjs/lib/shallowEqual\":35}],266:[function(t,e,n){\"use strict\";var i=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*i)}};e.exports=r},{}],267:[function(t,e,n){\"use strict\";var i=t(\"./EventConstants\"),r=t(\"fbjs/lib/EventListener\"),o=t(\"./EventPropagators\"),a=t(\"./ReactMount\"),s=t(\"./SyntheticClipboardEvent\"),u=t(\"./SyntheticEvent\"),l=t(\"./SyntheticFocusEvent\"),c=t(\"./SyntheticKeyboardEvent\"),d=t(\"./SyntheticMouseEvent\"),p=t(\"./SyntheticDragEvent\"),h=t(\"./SyntheticTouchEvent\"),f=t(\"./SyntheticUIEvent\"),m=t(\"./SyntheticWheelEvent\"),v=t(\"fbjs/lib/emptyFunction\"),g=t(\"./getEventCharCode\"),y=t(\"fbjs/lib/invariant\"),b=t(\"fbjs/lib/keyOf\"),_=i.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},w={topAbort:x.abort,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var E in w)w[E].dependencies=[E];var M=b({onClick:null}),S={},C={eventTypes:x,extractEvents:function(t,e,n,i,r){var a=w[t];if(!a)return null;var v;switch(t){case _.topAbort:case _.topCanPlay:case _.topCanPlayThrough:case _.topDurationChange:case _.topEmptied:case _.topEncrypted:case _.topEnded:case _.topError:case _.topInput:case _.topLoad:case _.topLoadedData:case _.topLoadedMetadata:case _.topLoadStart:case _.topPause:case _.topPlay:case _.topPlaying:case _.topProgress:case _.topRateChange:case _.topReset:case _.topSeeked:case _.topSeeking:case _.topStalled:case _.topSubmit:case _.topSuspend:case _.topTimeUpdate:case _.topVolumeChange:case _.topWaiting:v=u;break;case _.topKeyPress:if(0===g(i))return null;case _.topKeyDown:case _.topKeyUp:v=c;break;case _.topBlur:case _.topFocus:v=l;break;case _.topClick:if(2===i.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:v=d;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:v=p;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:v=h;break;case _.topScroll:v=f;break;case _.topWheel:v=m;break;case _.topCopy:case _.topCut:case _.topPaste:v=s}v?void 0:y(!1);var b=v.getPooled(a,n,i,r);return o.accumulateTwoPhaseDispatches(b),b},didPutListener:function(t,e,n){if(e===M){var i=a.getNode(t);S[t]||(S[t]=r.listen(i,\"click\",v))}},willDeleteListener:function(t,e){e===M&&(S[t].remove(),delete S[t])}};e.exports=C},{\"./EventConstants\":188,\"./EventPropagators\":192,\"./ReactMount\":241,\"./SyntheticClipboardEvent\":268,\"./SyntheticDragEvent\":270,\"./SyntheticEvent\":271,\"./SyntheticFocusEvent\":272,\"./SyntheticKeyboardEvent\":274,\"./SyntheticMouseEvent\":275,\"./SyntheticTouchEvent\":276,\"./SyntheticUIEvent\":277,\"./SyntheticWheelEvent\":278,\"./getEventCharCode\":290,\"fbjs/lib/EventListener\":11,\"fbjs/lib/emptyFunction\":18,\"fbjs/lib/invariant\":26,\"fbjs/lib/keyOf\":30}],268:[function(t,e,n){\"use strict\";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t(\"./SyntheticEvent\"),o={clipboardData:function(t){return\"clipboardData\"in t?t.clipboardData:window.clipboardData}};r.augmentClass(i,o),e.exports=i},{\"./SyntheticEvent\":271}],269:[function(t,e,n){\"use strict\";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t(\"./SyntheticEvent\"),o={data:null};r.augmentClass(i,o),e.exports=i},{\"./SyntheticEvent\":271}],270:[function(t,e,n){\"use strict\";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t(\"./SyntheticMouseEvent\"),o={dataTransfer:null};r.augmentClass(i,o),e.exports=i},{\"./SyntheticMouseEvent\":275}],271:[function(t,e,n){\"use strict\";function i(t,e,n,i){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n,this.target=i,this.currentTarget=i;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];s?this[o]=s(n):this[o]=n[o]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var r=t(\"./PooledClass\"),o=t(\"./Object.assign\"),a=t(\"fbjs/lib/emptyFunction\"),s=(t(\"fbjs/lib/warning\"),{type:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});o(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),i.Interface=s,i.augmentClass=function(t,e){var n=this,i=Object.create(n.prototype);o(i,t.prototype),t.prototype=i,t.prototype.constructor=t,t.Interface=o({},n.Interface,e),t.augmentClass=n.augmentClass,r.addPoolingTo(t,r.fourArgumentPooler)},r.addPoolingTo(i,r.fourArgumentPooler),e.exports=i},{\"./Object.assign\":196,\"./PooledClass\":197,\"fbjs/lib/emptyFunction\":18,\"fbjs/lib/warning\":37}],272:[function(t,e,n){\"use strict\";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t(\"./SyntheticUIEvent\"),o={relatedTarget:null};r.augmentClass(i,o),e.exports=i},{\"./SyntheticUIEvent\":277}],273:[function(t,e,n){\"use strict\";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t(\"./SyntheticEvent\"),o={data:null};r.augmentClass(i,o),e.exports=i},{\"./SyntheticEvent\":271}],274:[function(t,e,n){\"use strict\";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t(\"./SyntheticUIEvent\"),o=t(\"./getEventCharCode\"),a=t(\"./getEventKey\"),s=t(\"./getEventModifierState\"),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(t){return\"keypress\"===t.type?o(t):0},keyCode:function(t){return\"keydown\"===t.type||\"keyup\"===t.type?t.keyCode:0},which:function(t){return\"keypress\"===t.type?o(t):\"keydown\"===t.type||\"keyup\"===t.type?t.keyCode:0}};r.augmentClass(i,u),e.exports=i},{\"./SyntheticUIEvent\":277,\"./getEventCharCode\":290,\"./getEventKey\":291,\"./getEventModifierState\":292}],275:[function(t,e,n){\"use strict\";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t(\"./SyntheticUIEvent\"),o=t(\"./ViewportMetrics\"),a=t(\"./getEventModifierState\"),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(t){var e=t.button;return\"which\"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return\"pageX\"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return\"pageY\"in t?t.pageY:t.clientY+o.currentScrollTop}};r.augmentClass(i,s),e.exports=i},{\"./SyntheticUIEvent\":277,\"./ViewportMetrics\":280,\"./getEventModifierState\":292}],276:[function(t,e,n){\"use strict\";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t(\"./SyntheticUIEvent\"),o=t(\"./getEventModifierState\"),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(i,a),e.exports=i},{\"./SyntheticUIEvent\":277,\"./getEventModifierState\":292}],277:[function(t,e,n){\"use strict\";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t(\"./SyntheticEvent\"),o=t(\"./getEventTarget\"),a={view:function(t){if(t.view)return t.view;var e=o(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(i,a),e.exports=i},{\"./SyntheticEvent\":271,\"./getEventTarget\":293}],278:[function(t,e,n){\"use strict\";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=t(\"./SyntheticMouseEvent\"),o={deltaX:function(t){return\"deltaX\"in t?t.deltaX:\"wheelDeltaX\"in t?-t.wheelDeltaX:0},deltaY:function(t){return\"deltaY\"in t?t.deltaY:\"wheelDeltaY\"in t?-t.wheelDeltaY:\"wheelDelta\"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,o),e.exports=i},{\"./SyntheticMouseEvent\":275}],279:[function(t,e,n){\"use strict\";var i=t(\"fbjs/lib/invariant\"),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,r,o,a,s,u){this.isInTransaction()?i(!1):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=t.call(e,n,r,o,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(d){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i=e[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(r){}}}},closeAll:function(t){this.isInTransaction()?void 0:i(!1);for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r,a=e[n],s=this.wrapperInitData[n];try{r=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}},o={Mixin:r,OBSERVED_ERROR:{}};e.exports=o},{\"fbjs/lib/invariant\":26}],280:[function(t,e,n){\"use strict\";var i={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){i.currentScrollLeft=t.x,i.currentScrollTop=t.y}};e.exports=i},{}],281:[function(t,e,n){\"use strict\";function i(t,e){if(null==e?r(!1):void 0,null==t)return e;var n=Array.isArray(t),i=Array.isArray(e);return n&&i?(t.push.apply(t,e),t):n?(t.push(e),t):i?[t].concat(e):[t,e]}var r=t(\"fbjs/lib/invariant\");e.exports=i},{\"fbjs/lib/invariant\":26}],282:[function(t,e,n){\"use strict\";function i(t){for(var e=1,n=0,i=0,o=t.length,a=-4&o;a>i;){for(;i<Math.min(i+4096,a);i+=4)n+=(e+=t.charCodeAt(i))+(e+=t.charCodeAt(i+1))+(e+=t.charCodeAt(i+2))+(e+=t.charCodeAt(i+3));e%=r,n%=r}for(;o>i;i++)n+=e+=t.charCodeAt(i);return e%=r,n%=r,e|n<<16}var r=65521;e.exports=i},{}],283:[function(t,e,n){\"use strict\";var i=!1;e.exports=i},{}],284:[function(t,e,n){\"use strict\";function i(t,e){var n=null==e||\"boolean\"==typeof e||\"\"===e;if(n)return\"\";var i=isNaN(e);return i||0===e||o.hasOwnProperty(t)&&o[t]?\"\"+e:(\"string\"==typeof e&&(e=e.trim()),e+\"px\")}var r=t(\"./CSSProperty\"),o=r.isUnitlessNumber;e.exports=i},{\"./CSSProperty\":177}],285:[function(t,e,n){\"use strict\";function i(t,e,n,i,r){return r}t(\"./Object.assign\"),t(\"fbjs/lib/warning\");e.exports=i},{\"./Object.assign\":196,\"fbjs/lib/warning\":37}],286:[function(t,e,n){\"use strict\";function i(t){return o[t]}function r(t){return(\"\"+t).replace(a,i)}var o={\"&\":\"&amp;\",\">\":\"&gt;\",\"<\":\"&lt;\",'\"':\"&quot;\",\"'\":\"&#x27;\"},a=/[&><\"']/g;e.exports=r},{}],287:[function(t,e,n){\"use strict\";function i(t){return null==t?null:1===t.nodeType?t:r.has(t)?o.getNodeFromInstance(t):(null!=t.render&&\"function\"==typeof t.render?a(!1):void 0,void a(!1))}var r=(t(\"./ReactCurrentOwner\"),t(\"./ReactInstanceMap\")),o=t(\"./ReactMount\"),a=t(\"fbjs/lib/invariant\");t(\"fbjs/lib/warning\");e.exports=i},{\"./ReactCurrentOwner\":210,\"./ReactInstanceMap\":238,\"./ReactMount\":241,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],288:[function(t,e,n){\"use strict\";function i(t,e,n){var i=t,r=void 0===i[n];r&&null!=e&&(i[n]=e)}function r(t){if(null==t)return t;var e={};return o(t,i,e),e}var o=t(\"./traverseAllChildren\");t(\"fbjs/lib/warning\");e.exports=r},{\"./traverseAllChildren\":306,\"fbjs/lib/warning\":37}],289:[function(t,e,n){\"use strict\";var i=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};e.exports=i},{}],290:[function(t,e,n){\"use strict\";function i(t){var e,n=t.keyCode;return\"charCode\"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}e.exports=i},{}],291:[function(t,e,n){\"use strict\";function i(t){if(t.key){var e=o[t.key]||t.key;if(\"Unidentified\"!==e)return e}if(\"keypress\"===t.type){var n=r(t);return 13===n?\"Enter\":String.fromCharCode(n)}return\"keydown\"===t.type||\"keyup\"===t.type?a[t.keyCode]||\"Unidentified\":\"\"}var r=t(\"./getEventCharCode\"),o={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},a={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",\n144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"};e.exports=i},{\"./getEventCharCode\":290}],292:[function(t,e,n){\"use strict\";function i(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var i=o[t];return i?!!n[i]:!1}function r(t){return i}var o={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};e.exports=r},{}],293:[function(t,e,n){\"use strict\";function i(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}e.exports=i},{}],294:[function(t,e,n){\"use strict\";function i(t){var e=t&&(r&&t[r]||t[o]);return\"function\"==typeof e?e:void 0}var r=\"function\"==typeof Symbol&&Symbol.iterator,o=\"@@iterator\";e.exports=i},{}],295:[function(t,e,n){\"use strict\";function i(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function o(t,e){for(var n=i(t),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,e>=o&&a>=e)return{node:n,offset:e-o};o=a}n=i(r(n))}}e.exports=o},{}],296:[function(t,e,n){\"use strict\";function i(){return!o&&r.canUseDOM&&(o=\"textContent\"in document.documentElement?\"textContent\":\"innerText\"),o}var r=t(\"fbjs/lib/ExecutionEnvironment\"),o=null;e.exports=i},{\"fbjs/lib/ExecutionEnvironment\":12}],297:[function(t,e,n){\"use strict\";function i(t){return\"function\"==typeof t&&\"undefined\"!=typeof t.prototype&&\"function\"==typeof t.prototype.mountComponent&&\"function\"==typeof t.prototype.receiveComponent}function r(t){var e;if(null===t||t===!1)e=new a(r);else if(\"object\"==typeof t){var n=t;!n||\"function\"!=typeof n.type&&\"string\"!=typeof n.type?l(!1):void 0,e=\"string\"==typeof n.type?s.createInternalComponent(n):i(n.type)?new n.type(n):new c}else\"string\"==typeof t||\"number\"==typeof t?e=s.createInstanceForText(t):l(!1);return e.construct(t),e._mountIndex=0,e._mountImage=null,e}var o=t(\"./ReactCompositeComponent\"),a=t(\"./ReactEmptyComponent\"),s=t(\"./ReactNativeComponent\"),u=t(\"./Object.assign\"),l=t(\"fbjs/lib/invariant\"),c=(t(\"fbjs/lib/warning\"),function(){});u(c.prototype,o.Mixin,{_instantiateReactComponent:r}),e.exports=r},{\"./Object.assign\":196,\"./ReactCompositeComponent\":209,\"./ReactEmptyComponent\":230,\"./ReactNativeComponent\":244,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],298:[function(t,e,n){\"use strict\";function i(t,e){if(!o.canUseDOM||e&&!(\"addEventListener\"in document))return!1;var n=\"on\"+t,i=n in document;if(!i){var a=document.createElement(\"div\");a.setAttribute(n,\"return;\"),i=\"function\"==typeof a[n]}return!i&&r&&\"wheel\"===t&&(i=document.implementation.hasFeature(\"Events.wheel\",\"3.0\")),i}var r,o=t(\"fbjs/lib/ExecutionEnvironment\");o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature(\"\",\"\")!==!0),e.exports=i},{\"fbjs/lib/ExecutionEnvironment\":12}],299:[function(t,e,n){\"use strict\";function i(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(\"input\"===e&&r[t.type]||\"textarea\"===e)}var r={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=i},{}],300:[function(t,e,n){\"use strict\";function i(t){return r.isValidElement(t)?void 0:o(!1),t}var r=t(\"./ReactElement\"),o=t(\"fbjs/lib/invariant\");e.exports=i},{\"./ReactElement\":228,\"fbjs/lib/invariant\":26}],301:[function(t,e,n){\"use strict\";function i(t){return'\"'+r(t)+'\"'}var r=t(\"./escapeTextContentForBrowser\");e.exports=i},{\"./escapeTextContentForBrowser\":286}],302:[function(t,e,n){\"use strict\";var i=t(\"./ReactMount\");e.exports=i.renderSubtreeIntoContainer},{\"./ReactMount\":241}],303:[function(t,e,n){\"use strict\";var i=t(\"fbjs/lib/ExecutionEnvironment\"),r=/^[ \\r\\n\\t\\f]/,o=/<(!--|link|noscript|meta|script|style)[ \\r\\n\\t\\f\\/>]/,a=function(t,e){t.innerHTML=e};if(\"undefined\"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),i.canUseDOM){var s=document.createElement(\"div\");s.innerHTML=\" \",\"\"===s.innerHTML&&(a=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),r.test(e)||\"<\"===e[0]&&o.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}e.exports=a},{\"fbjs/lib/ExecutionEnvironment\":12}],304:[function(t,e,n){\"use strict\";var i=t(\"fbjs/lib/ExecutionEnvironment\"),r=t(\"./escapeTextContentForBrowser\"),o=t(\"./setInnerHTML\"),a=function(t,e){t.textContent=e};i.canUseDOM&&(\"textContent\"in document.documentElement||(a=function(t,e){o(t,r(e))})),e.exports=a},{\"./escapeTextContentForBrowser\":286,\"./setInnerHTML\":303,\"fbjs/lib/ExecutionEnvironment\":12}],305:[function(t,e,n){\"use strict\";function i(t,e){var n=null===t||t===!1,i=null===e||e===!1;if(n||i)return n===i;var r=typeof t,o=typeof e;return\"string\"===r||\"number\"===r?\"string\"===o||\"number\"===o:\"object\"===o&&t.type===e.type&&t.key===e.key}e.exports=i},{}],306:[function(t,e,n){\"use strict\";function i(t){return m[t]}function r(t,e){return t&&null!=t.key?a(t.key):e.toString(36)}function o(t){return(\"\"+t).replace(v,i)}function a(t){return\"$\"+o(t)}function s(t,e,n,i){var o=typeof t;if((\"undefined\"===o||\"boolean\"===o)&&(t=null),null===t||\"string\"===o||\"number\"===o||l.isValidElement(t))return n(i,t,\"\"===e?h+r(t,0):e),1;var u,c,m=0,v=\"\"===e?h:e+f;if(Array.isArray(t))for(var g=0;g<t.length;g++)u=t[g],c=v+r(u,g),m+=s(u,c,n,i);else{var y=d(t);if(y){var b,_=y.call(t);if(y!==t.entries)for(var x=0;!(b=_.next()).done;)u=b.value,c=v+r(u,x++),m+=s(u,c,n,i);else for(;!(b=_.next()).done;){var w=b.value;w&&(u=w[1],c=v+a(w[0])+f+r(u,0),m+=s(u,c,n,i))}}else if(\"object\"===o){String(t);p(!1)}}return m}function u(t,e,n){return null==t?0:s(t,\"\",e,n)}var l=(t(\"./ReactCurrentOwner\"),t(\"./ReactElement\")),c=t(\"./ReactInstanceHandles\"),d=t(\"./getIteratorFn\"),p=t(\"fbjs/lib/invariant\"),h=(t(\"fbjs/lib/warning\"),c.SEPARATOR),f=\":\",m={\"=\":\"=0\",\".\":\"=1\",\":\":\"=2\"},v=/[=.:]/g;e.exports=u},{\"./ReactCurrentOwner\":210,\"./ReactElement\":228,\"./ReactInstanceHandles\":237,\"./getIteratorFn\":294,\"fbjs/lib/invariant\":26,\"fbjs/lib/warning\":37}],307:[function(t,e,n){\"use strict\";var i=(t(\"./Object.assign\"),t(\"fbjs/lib/emptyFunction\")),r=(t(\"fbjs/lib/warning\"),i);e.exports=r},{\"./Object.assign\":196,\"fbjs/lib/emptyFunction\":18,\"fbjs/lib/warning\":37}],308:[function(t,e,n){\"use strict\";e.exports=t(\"./lib/React\")},{\"./lib/React\":198}],309:[function(t,e,n){void function(t,i){\"function\"==typeof define&&define.amd?define(i):\"object\"==typeof n?e.exports=i():t.resolveUrl=i()}(this,function(){function t(){var t=arguments.length;if(0===t)throw new Error(\"resolveUrl requires at least one argument; got none.\");var e=document.createElement(\"base\");if(e.href=arguments[0],1===t)return e.href;var n=document.getElementsByTagName(\"head\")[0];n.insertBefore(e,n.firstChild);for(var i,r=document.createElement(\"a\"),o=1;t>o;o++)r.href=arguments[o],i=r.href,e.href=i;return n.removeChild(e),i}return t})},{}],310:[function(t,e,n){!function(t,n){\"undefined\"!=typeof e&&e.exports?e.exports=n():\"function\"==typeof define&&define.amd?define(n):this[t]=n()}(\"$script\",function(){function t(t,e){for(var n=0,i=t.length;i>n;++n)if(!e(t[n]))return u;return 1}function e(e,n){t(e,function(t){return!n(t)})}function n(o,a,s){function u(t){return t.call?t():p[t]}function c(){if(!--y){p[g]=1,v&&v();for(var n in f)t(n.split(\"|\"),u)&&!e(f[n],u)&&(f[n]=[])}}o=o[l]?o:[o];var d=a&&a.call,v=d?a:s,g=d?o.join(\"\"):a,y=o.length;return setTimeout(function(){e(o,function t(e,n){return null===e?c():(n||/^https?:\\/\\//.test(e)||!r||(e=-1===e.indexOf(\".js\")?r+e+\".js\":r+e),m[e]?(g&&(h[g]=1),2==m[e]?c():setTimeout(function(){t(e,!0)},0)):(m[e]=1,g&&(h[g]=1),void i(e,c)))})},0),n}function i(t,e){var n,i=a.createElement(\"script\");i.onload=i.onerror=i[d]=function(){i[c]&&!/^c|loade/.test(i[c])||n||(i.onload=i[d]=null,n=1,m[t]=2,e())},i.async=1,i.src=o?t+(-1===t.indexOf(\"?\")?\"?\":\"&\")+o:t,s.insertBefore(i,s.lastChild)}var r,o,a=document,s=a.getElementsByTagName(\"head\")[0],u=!1,l=\"push\",c=\"readyState\",d=\"onreadystatechange\",p={},h={},f={},m={};return n.get=i,n.order=function(t,e,i){!function r(o){o=t.shift(),t.length?n(o,r):n(o,e,i)}()},n.path=function(t){r=t},n.urlArgs=function(t){o=t},n.ready=function(i,r,o){i=i[l]?i:[i];var a=[];return!e(i,function(t){p[t]||a[l](t)})&&t(i,function(t){return p[t]})?r():!function(t){f[t]=f[t]||[],f[t][l](r),o&&o(a)}(i.join(\"|\")),n},n.done=function(t){n([null],t)},n})},{}],311:[function(t,e,n){function i(t){return t*Math.PI/180}function r(t){return 180*t/Math.PI}e.exports=function(t,e){var n=t.geometry.coordinates,o=e.geometry.coordinates,a=i(n[0]),s=i(o[0]),u=i(n[1]),l=i(o[1]),c=Math.sin(s-a)*Math.cos(l),d=Math.cos(u)*Math.sin(l)-Math.sin(u)*Math.cos(l)*Math.cos(s-a),p=r(Math.atan2(c,d));return p}},{}],312:[function(t,e,n){function i(t){return t*Math.PI/180}function r(t){return 180*t/Math.PI}var o=t(\"turf-point\");e.exports=function(t,e,n,a){var s=t.geometry.coordinates,u=i(s[0]),l=i(s[1]),c=i(n),d=0;switch(a){case\"miles\":d=3960;break;case\"kilometers\":d=6373;break;case\"degrees\":d=57.2957795;break;case\"radians\":d=1}var p=Math.asin(Math.sin(l)*Math.cos(e/d)+Math.cos(l)*Math.sin(e/d)*Math.cos(c)),h=u+Math.atan2(Math.sin(c)*Math.sin(e/d)*Math.cos(l),Math.cos(e/d)-Math.sin(l)*Math.sin(p));return o([r(h),r(p)])}},{\"turf-point\":317}],313:[function(t,e,n){function i(t){return t*Math.PI/180}var r=t(\"turf-invariant\");e.exports=function(t,e,n){r.featureOf(t,\"Point\",\"distance\"),r.featureOf(e,\"Point\",\"distance\");var o,a=t.geometry.coordinates,s=e.geometry.coordinates,u=i(s[1]-a[1]),l=i(s[0]-a[0]),c=i(a[1]),d=i(s[1]),p=Math.sin(u/2)*Math.sin(u/2)+Math.sin(l/2)*Math.sin(l/2)*Math.cos(c)*Math.cos(d),h=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));switch(n){case\"miles\":o=3960;break;case\"kilometers\":o=6373;break;case\"degrees\":o=57.2957795;break;case\"radians\":o=1;break;case void 0:o=6373;break;default:throw new Error('unknown option given to \"units\"')}var f=o*h;return f}},{\"turf-invariant\":314}],314:[function(t,e,n){function i(t,e,n){if(!e||!n)throw new Error(\"type and name required\");if(!t||t.type!==e)throw new Error(\"Invalid input to \"+n+\": must be a \"+e+\", given \"+t.type)}function r(t,e,n){if(!n)throw new Error(\".featureOf() requires a name\");if(!t||\"Feature\"!==t.type||!t.geometry)throw new Error(\"Invalid input to \"+n+\", Feature with geometry required\");if(!t.geometry||t.geometry.type!==e)throw new Error(\"Invalid input to \"+n+\": must be a \"+e+\", given \"+t.geometry.type)}function o(t,e,n){if(!n)throw new Error(\".collectionOf() requires a name\");if(!t||\"FeatureCollection\"!==t.type)throw new Error(\"Invalid input to \"+n+\", FeatureCollection required\");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||\"Feature\"!==r.type||!r.geometry)throw new Error(\"Invalid input to \"+n+\", Feature with geometry required\");if(!r.geometry||r.geometry.type!==e)throw new Error(\"Invalid input to \"+n+\": must be a \"+e+\", given \"+r.geometry.type)}}e.exports.geojsonType=i,e.exports.collectionOf=o,e.exports.featureOf=r},{}],315:[function(t,e,n){e.exports=function(t,e){if(!t)throw new Error(\"No coordinates passed\");return{type:\"Feature\",geometry:{type:\"LineString\",coordinates:t},properties:e||{}}}},{}],316:[function(t,e,n){function i(t,e){for(var n=\"miles\",i=a([1/0,1/0],{dist:1/0}),l=0;l<e.length-1;l++){var c=a(e[l]),d=a(e[l+1]);c.properties.dist=o(t,c,n),d.properties.dist=o(t,d,n);var p=s(c,d),h=u(t,1e3,p+90,n),f=r(t.geometry.coordinates[0],t.geometry.coordinates[1],h.geometry.coordinates[0],h.geometry.coordinates[1],c.geometry.coordinates[0],c.geometry.coordinates[1],d.geometry.coordinates[0],d.geometry.coordinates[1]);f||(h=u(t,1e3,p-90,n),f=r(t.geometry.coordinates[0],t.geometry.coordinates[1],h.geometry.coordinates[0],h.geometry.coordinates[1],c.geometry.coordinates[0],c.geometry.coordinates[1],d.geometry.coordinates[0],d.geometry.coordinates[1])),h.properties.dist=1/0;var m;if(f){var m=a(f);m.properties.dist=o(t,m,n)}c.properties.dist<i.properties.dist&&(i=c,i.properties.index=l),d.properties.dist<i.properties.dist&&(i=d,i.properties.index=l),m&&m.properties.dist<i.properties.dist&&(i=m,i.properties.index=l)}return i}function r(t,e,n,i,r,o,a,s){var u,l,c,d,p,h={x:null,y:null,onLine1:!1,onLine2:!1};return u=(s-o)*(n-t)-(a-r)*(i-e),0==u?null!=h.x&&null!=h.y?h:!1:(l=e-o,c=t-r,d=(a-r)*l-(s-o)*c,p=(n-t)*l-(i-e)*c,l=d/u,c=p/u,h.x=t+l*(n-t),h.y=e+l*(i-e),l>0&&1>l&&(h.onLine1=!0),c>0&&1>c&&(h.onLine2=!0),h.onLine1&&h.onLine2?[h.x,h.y]:!1)}var o=t(\"turf-distance\"),a=t(\"turf-point\"),s=(t(\"turf-linestring\"),t(\"turf-bearing\")),u=t(\"turf-destination\");e.exports=function(t,e){var n;if(\"Feature\"===t.type)n=t.geometry.coordinates;else{if(\"LineString\"!==t.type)throw new Error(\"input must be a LineString Feature or Geometry\");n=t.geometry.coordinates}return i(e,n)}},{\"turf-bearing\":311,\"turf-destination\":312,\"turf-distance\":313,\"turf-linestring\":315,\"turf-point\":317}],317:[function(t,e,n){var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};e.exports=function(t,e){if(!i(t))throw new Error(\"Coordinates must be an array\");if(t.length<2)throw new Error(\"Coordinates must be at least 2 numbers long\");return{type:\"Feature\",geometry:{type:\"Point\",coordinates:t},properties:e||{}}}},{}],318:[function(t,e,n){function i(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}e.exports=i,i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){\"undefined\"==typeof e&&(e=1e-6);var n,i,r,o,a;for(r=t,a=0;8>a;a++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if(n=0,i=1,r=t,n>r)return n;if(r>i)return i;for(;i>n;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],319:[function(t,e,n){e.exports=function(t){return t&&\"object\"==typeof t&&\"function\"==typeof t.copy&&\"function\"==typeof t.fill&&\"function\"==typeof t.readUInt8}},{}],320:[function(t,e,n){(function(e,i){function r(t,e){var i={seen:[],stylize:a};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(e)?i.showHidden=e:e&&n._extend(i,e),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),u(i,t,i.depth)}function o(t,e){var n=r.styles[e];return n?\"\u001b[\"+r.colors[n][0]+\"m\"+t+\"\u001b[\"+r.colors[n][1]+\"m\":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,i){if(t.customInspect&&e&&C(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(i,t);return b(r)||(r=u(t,r,i)),r}var o=l(t,e);if(o)return o;var a=Object.keys(e),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),S(e)&&(a.indexOf(\"message\")>=0||a.indexOf(\"description\")>=0))return c(e);if(0===a.length){if(C(e)){var v=e.name?\": \"+e.name:\"\";return t.stylize(\"[Function\"+v+\"]\",\"special\")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),\"regexp\");if(M(e))return t.stylize(Date.prototype.toString.call(e),\"date\");if(S(e))return c(e)}var g=\"\",y=!1,_=[\"{\",\"}\"];if(f(e)&&(y=!0,_=[\"[\",\"]\"]),C(e)){var x=e.name?\": \"+e.name:\"\";g=\" [Function\"+x+\"]\"}if(w(e)&&(g=\" \"+RegExp.prototype.toString.call(e)),M(e)&&(g=\" \"+Date.prototype.toUTCString.call(e)),S(e)&&(g=\" \"+c(e)),0===a.length&&(!y||0==e.length))return _[0]+g+_[1];if(0>i)return w(e)?t.stylize(RegExp.prototype.toString.call(e),\"regexp\"):t.stylize(\"[Object]\",\"special\");t.seen.push(e);var E;return E=y?d(t,e,i,m,a):a.map(function(n){return p(t,e,i,m,n,y)}),t.seen.pop(),h(E,g,_)}function l(t,e){if(x(e))return t.stylize(\"undefined\",\"undefined\");if(b(e)){var n=\"'\"+JSON.stringify(e).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return t.stylize(n,\"string\")}return y(e)?t.stylize(\"\"+e,\"number\"):m(e)?t.stylize(\"\"+e,\"boolean\"):v(e)?t.stylize(\"null\",\"null\"):void 0}function c(t){return\"[\"+Error.prototype.toString.call(t)+\"]\"}function d(t,e,n,i,r){for(var o=[],a=0,s=e.length;s>a;++a)D(e,String(a))?o.push(p(t,e,n,i,String(a),!0)):o.push(\"\");return r.forEach(function(r){r.match(/^\\d+$/)||o.push(p(t,e,n,i,r,!0))}),o}function p(t,e,n,i,r,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},l.get?s=l.set?t.stylize(\"[Getter/Setter]\",\"special\"):t.stylize(\"[Getter]\",\"special\"):l.set&&(s=t.stylize(\"[Setter]\",\"special\")),D(i,r)||(a=\"[\"+r+\"]\"),s||(t.seen.indexOf(l.value)<0?(s=v(n)?u(t,l.value,null):u(t,l.value,n-1),s.indexOf(\"\\n\")>-1&&(s=o?s.split(\"\\n\").map(function(t){return\"  \"+t}).join(\"\\n\").substr(2):\"\\n\"+s.split(\"\\n\").map(function(t){return\"   \"+t}).join(\"\\n\"))):s=t.stylize(\"[Circular]\",\"special\")),x(a)){if(o&&r.match(/^\\d+$/))return s;a=JSON.stringify(\"\"+r),a.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,\"name\")):(a=a.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),a=t.stylize(a,\"string\"))}return a+\": \"+s}function h(t,e,n){var i=0,r=t.reduce(function(t,e){return i++,e.indexOf(\"\\n\")>=0&&i++,t+e.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0);return r>60?n[0]+(\"\"===e?\"\":e+\"\\n \")+\" \"+t.join(\",\\n  \")+\" \"+n[1]:n[0]+e+\" \"+t.join(\", \")+\" \"+n[1]}function f(t){return Array.isArray(t)}function m(t){return\"boolean\"==typeof t}function v(t){return null===t}function g(t){return null==t}function y(t){return\"number\"==typeof t}function b(t){return\"string\"==typeof t}function _(t){return\"symbol\"==typeof t}function x(t){return void 0===t}function w(t){return E(t)&&\"[object RegExp]\"===R(t)}function E(t){return\"object\"==typeof t&&null!==t}function M(t){return E(t)&&\"[object Date]\"===R(t)}function S(t){return E(t)&&(\"[object Error]\"===R(t)||t instanceof Error)}function C(t){return\"function\"==typeof t}function T(t){return null===t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||\"symbol\"==typeof t||\"undefined\"==typeof t}function R(t){return Object.prototype.toString.call(t)}function P(t){return 10>t?\"0\"+t.toString(10):t.toString(10)}function I(){var t=new Date,e=[P(t.getHours()),P(t.getMinutes()),P(t.getSeconds())].join(\":\");return[t.getDate(),N[t.getMonth()],e].join(\" \")}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var A=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(\" \")}for(var n=1,i=arguments,o=i.length,a=String(t).replace(A,function(t){if(\"%%\"===t)return\"%\";if(n>=o)return t;switch(t){case\"%s\":return String(i[n++]);case\"%d\":return Number(i[n++]);case\"%j\":try{return JSON.stringify(i[n++])}catch(e){return\"[Circular]\"}default:return t}}),s=i[n];o>n;s=i[++n])a+=v(s)||!E(s)?\" \"+s:\" \"+r(s);return a},n.deprecate=function(t,r){function o(){if(!a){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),a=!0}return t.apply(this,arguments)}if(x(i.process))return function(){return n.deprecate(t,r).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return o};var L,O={};n.debuglog=function(t){if(x(L)&&(L=e.env.NODE_DEBUG||\"\"),t=t.toUpperCase(),!O[t])if(new RegExp(\"\\\\b\"+t+\"\\\\b\",\"i\").test(L)){var i=e.pid;O[t]=function(){var e=n.format.apply(n,arguments);console.error(\"%s %d: %s\",t,i,e)}}else O[t]=function(){};return O[t]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:\"cyan\",number:\"yellow\",\"boolean\":\"yellow\",undefined:\"grey\",\"null\":\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},n.isArray=f,n.isBoolean=m,n.isNull=v,n.isNullOrUndefined=g,n.isNumber=y,n.isString=b,n.isSymbol=_,n.isUndefined=x,n.isRegExp=w,n.isObject=E,n.isDate=M,n.isError=S,n.isFunction=C,n.isPrimitive=T,n.isBuffer=t(\"./support/isBuffer\");var N=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];n.log=function(){console.log(\"%s - %s\",I(),n.format.apply(n,arguments))},n.inherits=t(\"inherits\"),n._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,t(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./support/isBuffer\":319,_process:171,inherits:64}],321:[function(t,e,n){e.exports.VectorTile=t(\"./lib/vectortile.js\"),e.exports.VectorTileFeature=t(\"./lib/vectortilefeature.js\"),e.exports.VectorTileLayer=t(\"./lib/vectortilelayer.js\")},{\"./lib/vectortile.js\":322,\"./lib/vectortilefeature.js\":323,\"./lib/vectortilelayer.js\":324}],322:[function(t,e,n){\"use strict\";function i(t,e){this.layers=t.readFields(r,{},e)}function r(t,e,n){if(3===t){var i=new o(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}var o=t(\"./vectortilelayer\");e.exports=i},{\"./vectortilelayer\":324}],323:[function(t,e,n){\"use strict\";function i(t,e,n,i,o){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,t.readFields(r,this,e)}function r(t,e,n){1==t?e._id=n.readVarint():2==t?o(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function o(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[i]=r}}var a=t(\"point-geometry\");e.exports=i,i.types=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"],i.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,r=0,o=0,s=0,u=[];t.pos<n;){if(!r){var l=t.readVarint();i=7&l,r=l>>3}if(r--,1===i||2===i)o+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&u.push(e),e=[]),e.push(new a(o,s));else{if(7!==i)throw new Error(\"unknown command \"+i);e&&e.push(e[0].clone())}}return e&&u.push(e),u},i.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,r=0,o=0,a=1/0,s=-(1/0),u=1/0,l=-(1/0);t.pos<e;){if(!i){var c=t.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)r+=t.readSVarint(),o+=t.readSVarint(),a>r&&(a=r),r>s&&(s=r),u>o&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error(\"unknown command \"+n)}return[a,u,s,l]},i.prototype.toGeoJSON=function(t,e,n){for(var r=this.extent*Math.pow(2,n),o=this.extent*t,a=this.extent*e,s=this.loadGeometry(),u=i.types[this.type],l=0;l<s.length;l++)for(var c=s[l],d=0;d<c.length;d++){var p=c[d],h=180-360*(p.y+a)/r;c[d]=[360*(p.x+o)/r-180,360/Math.PI*Math.atan(Math.exp(h*Math.PI/180))-90]}return\"Point\"===u&&1===s.length?s=s[0][0]:\"Point\"===u?(s=s[0],u=\"MultiPoint\"):\"LineString\"===u&&1===s.length?s=s[0]:\"LineString\"===u&&(u=\"MultiLineString\"),{type:\"Feature\",geometry:{type:u,coordinates:s},properties:this.properties}}},{\"point-geometry\":170}],324:[function(t,e,n){\"use strict\";function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(o(n))}function o(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}var a=t(\"./vectortilefeature.js\");e.exports=i,i.prototype.feature=function(t){if(0>t||t>=this._features.length)throw new Error(\"feature index out of bounds\");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{\"./vectortilefeature.js\":323}],325:[function(t,e,n){var i=arguments[3],r=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t){for(var e,n=Object.keys(o),s=0,u=n.length;u>s;s++){var l=n[s];if(o[l].exports===t){e=l;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var c={},s=0,u=n.length;u>s;s++){var l=n[s];c[l]=l}r[e]=[Function([\"require\",\"module\",\"exports\"],\"(\"+t+\")(self)\"),c]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[e]=e,r[d]=[Function([\"require\"],\"require(\"+a(e)+\")(self)\"),p];var h=\"(\"+i+\")({\"+Object.keys(r).map(function(t){return a(t)+\":[\"+r[t][0]+\",\"+a(r[t][1])+\"]\"}).join(\",\")+\"},{},[\"+a(d)+\"])\",f=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(f.createObjectURL(new Blob([h],{type:\"text/javascript\"})))}},{}]},{},[4]);"],"file":"build.js","sourceRoot":"/source/"}